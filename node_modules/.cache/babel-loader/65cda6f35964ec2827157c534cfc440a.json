{"remainingRequest":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/babel-loader/lib/index.js!/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/echarts/lib/chart/treemap/treemapLayout.js","dependencies":[{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/echarts/lib/chart/treemap/treemapLayout.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyIpOwoKLyoKKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lCiogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24KKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlCiogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQoqICJMaWNlbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2UKKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAoqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwoqIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwp2YXIgenJVdGlsID0gcmVxdWlyZSgienJlbmRlci9saWIvY29yZS91dGlsIik7Cgp2YXIgQm91bmRpbmdSZWN0ID0gcmVxdWlyZSgienJlbmRlci9saWIvY29yZS9Cb3VuZGluZ1JlY3QiKTsKCnZhciBfbnVtYmVyID0gcmVxdWlyZSgiLi4vLi4vdXRpbC9udW1iZXIiKTsKCnZhciBwYXJzZVBlcmNlbnQgPSBfbnVtYmVyLnBhcnNlUGVyY2VudDsKdmFyIE1BWF9TQUZFX0lOVEVHRVIgPSBfbnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7Cgp2YXIgbGF5b3V0ID0gcmVxdWlyZSgiLi4vLi4vdXRpbC9sYXlvdXQiKTsKCnZhciBoZWxwZXIgPSByZXF1aXJlKCIuLi9oZWxwZXIvdHJlZUhlbHBlciIpOwovKgoqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmUKKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbgoqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiogIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZQoqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4KKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUKKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zCiogdW5kZXIgdGhlIExpY2Vuc2UuCiovCgovKgoqIEEgdGhpcmQtcGFydHkgbGljZW5zZSBpcyBlbWJlZGVkIGZvciBzb21lIG9mIHRoZSBjb2RlIGluIHRoaXMgZmlsZToKKiBUaGUgdHJlZW1hcCBsYXlvdXQgaW1wbGVtZW50YXRpb24gd2FzIG9yaWdpbmFsbHkgY29waWVkIGZyb20KKiAiZDMuanMiIHdpdGggc29tZSBtb2RpZmljYXRpb25zIG1hZGUgZm9yIHRoaXMgcHJvamVjdC4KKiAoU2VlIG1vcmUgZGV0YWlscyBpbiB0aGUgY29tbWVudCBvZiB0aGUgbWV0aG9kICJzcXVhcmlmeSIgYmVsb3cuKQoqIFRoZSB1c2Ugb2YgdGhlIHNvdXJjZSBjb2RlIG9mIHRoaXMgZmlsZSBpcyBhbHNvIHN1YmplY3QgdG8gdGhlIHRlcm1zCiogYW5kIGNvbnNpdGlvbnMgb2YgdGhlIGxpY2Vuc2Ugb2YgImQzLmpzIiAoQlNELTNDbGF1c2UsIHNlZQoqIDwvbGljZW5zZXMvTElDRU5TRS1kMz4pLgoqLwoKCnZhciBtYXRoTWF4ID0gTWF0aC5tYXg7CnZhciBtYXRoTWluID0gTWF0aC5taW47CnZhciByZXRyaWV2ZVZhbHVlID0genJVdGlsLnJldHJpZXZlOwp2YXIgZWFjaCA9IHpyVXRpbC5lYWNoOwp2YXIgUEFUSF9CT1JERVJfV0lEVEggPSBbJ2l0ZW1TdHlsZScsICdib3JkZXJXaWR0aCddOwp2YXIgUEFUSF9HQVBfV0lEVEggPSBbJ2l0ZW1TdHlsZScsICdnYXBXaWR0aCddOwp2YXIgUEFUSF9VUFBFUl9MQUJFTF9TSE9XID0gWyd1cHBlckxhYmVsJywgJ3Nob3cnXTsKdmFyIFBBVEhfVVBQRVJfTEFCRUxfSEVJR0hUID0gWyd1cHBlckxhYmVsJywgJ2hlaWdodCddOwovKioKICogQHB1YmxpYwogKi8KCnZhciBfZGVmYXVsdCA9IHsKICBzZXJpZXNUeXBlOiAndHJlZW1hcCcsCiAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KHNlcmllc01vZGVsLCBlY01vZGVsLCBhcGksIHBheWxvYWQpIHsKICAgIC8vIExheW91dCByZXN1bHQgaW4gZWFjaCBub2RlOgogICAgLy8ge3gsIHksIHdpZHRoLCBoZWlnaHQsIGFyZWEsIGJvcmRlcldpZHRofQogICAgdmFyIGVjV2lkdGggPSBhcGkuZ2V0V2lkdGgoKTsKICAgIHZhciBlY0hlaWdodCA9IGFwaS5nZXRIZWlnaHQoKTsKICAgIHZhciBzZXJpZXNPcHRpb24gPSBzZXJpZXNNb2RlbC5vcHRpb247CiAgICB2YXIgbGF5b3V0SW5mbyA9IGxheW91dC5nZXRMYXlvdXRSZWN0KHNlcmllc01vZGVsLmdldEJveExheW91dFBhcmFtcygpLCB7CiAgICAgIHdpZHRoOiBhcGkuZ2V0V2lkdGgoKSwKICAgICAgaGVpZ2h0OiBhcGkuZ2V0SGVpZ2h0KCkKICAgIH0pOwogICAgdmFyIHNpemUgPSBzZXJpZXNPcHRpb24uc2l6ZSB8fCBbXTsgLy8gQ29tcGF0aWJsZSB3aXRoIGVjMi4KCiAgICB2YXIgY29udGFpbmVyV2lkdGggPSBwYXJzZVBlcmNlbnQocmV0cmlldmVWYWx1ZShsYXlvdXRJbmZvLndpZHRoLCBzaXplWzBdKSwgZWNXaWR0aCk7CiAgICB2YXIgY29udGFpbmVySGVpZ2h0ID0gcGFyc2VQZXJjZW50KHJldHJpZXZlVmFsdWUobGF5b3V0SW5mby5oZWlnaHQsIHNpemVbMV0pLCBlY0hlaWdodCk7IC8vIEZldGNoIHBheWxvYWQgaW5mby4KCiAgICB2YXIgcGF5bG9hZFR5cGUgPSBwYXlsb2FkICYmIHBheWxvYWQudHlwZTsKICAgIHZhciB0eXBlcyA9IFsndHJlZW1hcFpvb21Ub05vZGUnLCAndHJlZW1hcFJvb3RUb05vZGUnXTsKICAgIHZhciB0YXJnZXRJbmZvID0gaGVscGVyLnJldHJpZXZlVGFyZ2V0SW5mbyhwYXlsb2FkLCB0eXBlcywgc2VyaWVzTW9kZWwpOwogICAgdmFyIHJvb3RSZWN0ID0gcGF5bG9hZFR5cGUgPT09ICd0cmVlbWFwUmVuZGVyJyB8fCBwYXlsb2FkVHlwZSA9PT0gJ3RyZWVtYXBNb3ZlJyA/IHBheWxvYWQucm9vdFJlY3QgOiBudWxsOwogICAgdmFyIHZpZXdSb290ID0gc2VyaWVzTW9kZWwuZ2V0Vmlld1Jvb3QoKTsKICAgIHZhciB2aWV3QWJvdmVQYXRoID0gaGVscGVyLmdldFBhdGhUb1Jvb3Qodmlld1Jvb3QpOwoKICAgIGlmIChwYXlsb2FkVHlwZSAhPT0gJ3RyZWVtYXBNb3ZlJykgewogICAgICB2YXIgcm9vdFNpemUgPSBwYXlsb2FkVHlwZSA9PT0gJ3RyZWVtYXBab29tVG9Ob2RlJyA/IGVzdGltYXRlUm9vdFNpemUoc2VyaWVzTW9kZWwsIHRhcmdldEluZm8sIHZpZXdSb290LCBjb250YWluZXJXaWR0aCwgY29udGFpbmVySGVpZ2h0KSA6IHJvb3RSZWN0ID8gW3Jvb3RSZWN0LndpZHRoLCByb290UmVjdC5oZWlnaHRdIDogW2NvbnRhaW5lcldpZHRoLCBjb250YWluZXJIZWlnaHRdOwogICAgICB2YXIgc29ydCA9IHNlcmllc09wdGlvbi5zb3J0OwoKICAgICAgaWYgKHNvcnQgJiYgc29ydCAhPT0gJ2FzYycgJiYgc29ydCAhPT0gJ2Rlc2MnKSB7CiAgICAgICAgc29ydCA9ICdkZXNjJzsKICAgICAgfQoKICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgc3F1YXJlUmF0aW86IHNlcmllc09wdGlvbi5zcXVhcmVSYXRpbywKICAgICAgICBzb3J0OiBzb3J0LAogICAgICAgIGxlYWZEZXB0aDogc2VyaWVzT3B0aW9uLmxlYWZEZXB0aAogICAgICB9OyAvLyBsYXlvdXQgc2hvdWxkIGJlIGNsZWFyZWQgYmVjYXVzZSB1c2luZyB1cGRhdGVWaWV3IGJ1dCBub3QgdXBkYXRlLgoKICAgICAgdmlld1Jvb3QuaG9zdFRyZWUuY2xlYXJMYXlvdXRzKCk7IC8vIFRPRE8KICAgICAgLy8gb3B0aW1pemU6IGlmIG91dCBvZiB2aWV3IGNsaXAsIGRvIG5vdCBsYXlvdXQuCiAgICAgIC8vIEJ1dCB0YWtlIGNhcmUgdGhhdCBpZiBkbyBub3QgcmVuZGVyIG5vZGUgb3V0IG9mIHZpZXcgY2xpcCwKICAgICAgLy8gaG93IHRvIGNhbGN1bGF0ZSBzdGFydCBwbwoKICAgICAgdmFyIHZpZXdSb290TGF5b3V0ID0gewogICAgICAgIHg6IDAsCiAgICAgICAgeTogMCwKICAgICAgICB3aWR0aDogcm9vdFNpemVbMF0sCiAgICAgICAgaGVpZ2h0OiByb290U2l6ZVsxXSwKICAgICAgICBhcmVhOiByb290U2l6ZVswXSAqIHJvb3RTaXplWzFdCiAgICAgIH07CiAgICAgIHZpZXdSb290LnNldExheW91dCh2aWV3Um9vdExheW91dCk7CiAgICAgIHNxdWFyaWZ5KHZpZXdSb290LCBvcHRpb25zLCBmYWxzZSwgMCk7IC8vIFN1cHBsZW1lbnQgbGF5b3V0LgoKICAgICAgdmFyIHZpZXdSb290TGF5b3V0ID0gdmlld1Jvb3QuZ2V0TGF5b3V0KCk7CiAgICAgIGVhY2godmlld0Fib3ZlUGF0aCwgZnVuY3Rpb24gKG5vZGUsIGluZGV4KSB7CiAgICAgICAgdmFyIGNoaWxkVmFsdWUgPSAodmlld0Fib3ZlUGF0aFtpbmRleCArIDFdIHx8IHZpZXdSb290KS5nZXRWYWx1ZSgpOwogICAgICAgIG5vZGUuc2V0TGF5b3V0KHpyVXRpbC5leHRlbmQoewogICAgICAgICAgZGF0YUV4dGVudDogW2NoaWxkVmFsdWUsIGNoaWxkVmFsdWVdLAogICAgICAgICAgYm9yZGVyV2lkdGg6IDAsCiAgICAgICAgICB1cHBlckhlaWdodDogMAogICAgICAgIH0sIHZpZXdSb290TGF5b3V0KSk7CiAgICAgIH0pOwogICAgfQoKICAgIHZhciB0cmVlUm9vdCA9IHNlcmllc01vZGVsLmdldERhdGEoKS50cmVlLnJvb3Q7CiAgICB0cmVlUm9vdC5zZXRMYXlvdXQoY2FsY3VsYXRlUm9vdFBvc2l0aW9uKGxheW91dEluZm8sIHJvb3RSZWN0LCB0YXJnZXRJbmZvKSwgdHJ1ZSk7CiAgICBzZXJpZXNNb2RlbC5zZXRMYXlvdXRJbmZvKGxheW91dEluZm8pOyAvLyBGSVhNRQogICAgLy8g546w5Zyo5rKh5pyJY2xpcOWKn+iDve+8jOaaguaXtuWPlmVj6auY5a6944CCCgogICAgcHJ1bm5pbmcodHJlZVJvb3QsIC8vIFRyYW5zZm9ybSB0byBiYXNlIGVsZW1lbnQgY29vcmRpbmF0ZSBzeXN0ZW0uCiAgICBuZXcgQm91bmRpbmdSZWN0KC1sYXlvdXRJbmZvLngsIC1sYXlvdXRJbmZvLnksIGVjV2lkdGgsIGVjSGVpZ2h0KSwgdmlld0Fib3ZlUGF0aCwgdmlld1Jvb3QsIDApOwogIH0KfTsKLyoqCiAqIExheW91dCB0cmVlbWFwIHdpdGggc3F1YXJpZnkgYWxnb3JpdGhtLgogKiBUaGUgb3JpZ2luYWwgcHJlc2VudGF0aW9uIG9mIHRoaXMgYWxnb3JpdGhtCiAqIHdhcyBtYWRlIGJ5IE1hcmsgQnJ1bHMsIEtlZXMgSHVpemluZywgYW5kIEphcmtlIEouIHZhbiBXaWprCiAqIDxodHRwczovL2dyYXBoaWNzLmV0aHouY2gvdGVhY2hpbmcvc2NpdmlzX2NvbW1vbi9MaXRlcmF0dXJlL3NxdWFyaWZpZWRUcmVlTWFwcy5wZGY+LgogKiBUaGUgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBhbGdvcml0aG0gd2FzIG9yaWdpbmFsbHkgY29waWVkIGZyb20gImQzLmpzIgogKiA8aHR0cHM6Ly9naXRodWIuY29tL2QzL2QzL2Jsb2IvOWNjOWE4NzVlNjM2YTFkY2YzNmNjMWUwN2JkZjc3ZTFhZDZlMmM3NC9zcmMvbGF5b3V0L3RyZWVtYXAuanM+CiAqIHdpdGggc29tZSBtb2RpZmljYXRpb25zIG1hZGUgZm9yIHRoaXMgcHJvZ3JhbS4KICogU2VlIHRoZSBsaWNlbnNlIHN0YXRlbWVudCBhdCB0aGUgaGVhZCBvZiB0aGlzIGZpbGUuCiAqCiAqIEBwcm90ZWN0ZWQKICogQHBhcmFtIHttb2R1bGU6ZWNoYXJ0cy9kYXRhL1RyZWV+VHJlZU5vZGV9IG5vZGUKICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMKICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuc29ydCAnYXNjJyBvciAnZGVzYycKICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuc3F1YXJlUmF0aW8KICogQHBhcmFtIHtib29sZWFufSBoaWRlQ2hpbGRyZW4KICogQHBhcmFtIHtudW1iZXJ9IGRlcHRoCiAqLwoKZnVuY3Rpb24gc3F1YXJpZnkobm9kZSwgb3B0aW9ucywgaGlkZUNoaWxkcmVuLCBkZXB0aCkgewogIHZhciB3aWR0aDsKICB2YXIgaGVpZ2h0OwoKICBpZiAobm9kZS5pc1JlbW92ZWQoKSkgewogICAgcmV0dXJuOwogIH0KCiAgdmFyIHRoaXNMYXlvdXQgPSBub2RlLmdldExheW91dCgpOwogIHdpZHRoID0gdGhpc0xheW91dC53aWR0aDsKICBoZWlnaHQgPSB0aGlzTGF5b3V0LmhlaWdodDsgLy8gQ29uc2lkZXJpbmcgYm9yZGVyIGFuZCBnYXAKCiAgdmFyIG5vZGVNb2RlbCA9IG5vZGUuZ2V0TW9kZWwoKTsKICB2YXIgYm9yZGVyV2lkdGggPSBub2RlTW9kZWwuZ2V0KFBBVEhfQk9SREVSX1dJRFRIKTsKICB2YXIgaGFsZkdhcFdpZHRoID0gbm9kZU1vZGVsLmdldChQQVRIX0dBUF9XSURUSCkgLyAyOwogIHZhciB1cHBlckxhYmVsSGVpZ2h0ID0gZ2V0VXBwZXJMYWJlbEhlaWdodChub2RlTW9kZWwpOwogIHZhciB1cHBlckhlaWdodCA9IE1hdGgubWF4KGJvcmRlcldpZHRoLCB1cHBlckxhYmVsSGVpZ2h0KTsKICB2YXIgbGF5b3V0T2Zmc2V0ID0gYm9yZGVyV2lkdGggLSBoYWxmR2FwV2lkdGg7CiAgdmFyIGxheW91dE9mZnNldFVwcGVyID0gdXBwZXJIZWlnaHQgLSBoYWxmR2FwV2lkdGg7CiAgdmFyIG5vZGVNb2RlbCA9IG5vZGUuZ2V0TW9kZWwoKTsKICBub2RlLnNldExheW91dCh7CiAgICBib3JkZXJXaWR0aDogYm9yZGVyV2lkdGgsCiAgICB1cHBlckhlaWdodDogdXBwZXJIZWlnaHQsCiAgICB1cHBlckxhYmVsSGVpZ2h0OiB1cHBlckxhYmVsSGVpZ2h0CiAgfSwgdHJ1ZSk7CiAgd2lkdGggPSBtYXRoTWF4KHdpZHRoIC0gMiAqIGxheW91dE9mZnNldCwgMCk7CiAgaGVpZ2h0ID0gbWF0aE1heChoZWlnaHQgLSBsYXlvdXRPZmZzZXQgLSBsYXlvdXRPZmZzZXRVcHBlciwgMCk7CiAgdmFyIHRvdGFsQXJlYSA9IHdpZHRoICogaGVpZ2h0OwogIHZhciB2aWV3Q2hpbGRyZW4gPSBpbml0Q2hpbGRyZW4obm9kZSwgbm9kZU1vZGVsLCB0b3RhbEFyZWEsIG9wdGlvbnMsIGhpZGVDaGlsZHJlbiwgZGVwdGgpOwoKICBpZiAoIXZpZXdDaGlsZHJlbi5sZW5ndGgpIHsKICAgIHJldHVybjsKICB9CgogIHZhciByZWN0ID0gewogICAgeDogbGF5b3V0T2Zmc2V0LAogICAgeTogbGF5b3V0T2Zmc2V0VXBwZXIsCiAgICB3aWR0aDogd2lkdGgsCiAgICBoZWlnaHQ6IGhlaWdodAogIH07CiAgdmFyIHJvd0ZpeGVkTGVuZ3RoID0gbWF0aE1pbih3aWR0aCwgaGVpZ2h0KTsKICB2YXIgYmVzdCA9IEluZmluaXR5OyAvLyB0aGUgYmVzdCByb3cgc2NvcmUgc28gZmFyCgogIHZhciByb3cgPSBbXTsKICByb3cuYXJlYSA9IDA7CgogIGZvciAodmFyIGkgPSAwLCBsZW4gPSB2aWV3Q2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOykgewogICAgdmFyIGNoaWxkID0gdmlld0NoaWxkcmVuW2ldOwogICAgcm93LnB1c2goY2hpbGQpOwogICAgcm93LmFyZWEgKz0gY2hpbGQuZ2V0TGF5b3V0KCkuYXJlYTsKICAgIHZhciBzY29yZSA9IHdvcnN0KHJvdywgcm93Rml4ZWRMZW5ndGgsIG9wdGlvbnMuc3F1YXJlUmF0aW8pOyAvLyBjb250aW51ZSB3aXRoIHRoaXMgb3JpZW50YXRpb24KCiAgICBpZiAoc2NvcmUgPD0gYmVzdCkgewogICAgICBpKys7CiAgICAgIGJlc3QgPSBzY29yZTsKICAgIH0gLy8gYWJvcnQsIGFuZCB0cnkgYSBkaWZmZXJlbnQgb3JpZW50YXRpb24KICAgIGVsc2UgewogICAgICAgIHJvdy5hcmVhIC09IHJvdy5wb3AoKS5nZXRMYXlvdXQoKS5hcmVhOwogICAgICAgIHBvc2l0aW9uKHJvdywgcm93Rml4ZWRMZW5ndGgsIHJlY3QsIGhhbGZHYXBXaWR0aCwgZmFsc2UpOwogICAgICAgIHJvd0ZpeGVkTGVuZ3RoID0gbWF0aE1pbihyZWN0LndpZHRoLCByZWN0LmhlaWdodCk7CiAgICAgICAgcm93Lmxlbmd0aCA9IHJvdy5hcmVhID0gMDsKICAgICAgICBiZXN0ID0gSW5maW5pdHk7CiAgICAgIH0KICB9CgogIGlmIChyb3cubGVuZ3RoKSB7CiAgICBwb3NpdGlvbihyb3csIHJvd0ZpeGVkTGVuZ3RoLCByZWN0LCBoYWxmR2FwV2lkdGgsIHRydWUpOwogIH0KCiAgaWYgKCFoaWRlQ2hpbGRyZW4pIHsKICAgIHZhciBjaGlsZHJlblZpc2libGVNaW4gPSBub2RlTW9kZWwuZ2V0KCdjaGlsZHJlblZpc2libGVNaW4nKTsKCiAgICBpZiAoY2hpbGRyZW5WaXNpYmxlTWluICE9IG51bGwgJiYgdG90YWxBcmVhIDwgY2hpbGRyZW5WaXNpYmxlTWluKSB7CiAgICAgIGhpZGVDaGlsZHJlbiA9IHRydWU7CiAgICB9CiAgfQoKICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmlld0NoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICBzcXVhcmlmeSh2aWV3Q2hpbGRyZW5baV0sIG9wdGlvbnMsIGhpZGVDaGlsZHJlbiwgZGVwdGggKyAxKTsKICB9Cn0KLyoqCiAqIFNldCBhcmVhIHRvIGVhY2ggY2hpbGQsIGFuZCBjYWxjdWxhdGUgZGF0YSBleHRlbnQgZm9yIHZpc3VhbCBjb2RpbmcuCiAqLwoKCmZ1bmN0aW9uIGluaXRDaGlsZHJlbihub2RlLCBub2RlTW9kZWwsIHRvdGFsQXJlYSwgb3B0aW9ucywgaGlkZUNoaWxkcmVuLCBkZXB0aCkgewogIHZhciB2aWV3Q2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuIHx8IFtdOwogIHZhciBvcmRlckJ5ID0gb3B0aW9ucy5zb3J0OwogIG9yZGVyQnkgIT09ICdhc2MnICYmIG9yZGVyQnkgIT09ICdkZXNjJyAmJiAob3JkZXJCeSA9IG51bGwpOwogIHZhciBvdmVyTGVhZkRlcHRoID0gb3B0aW9ucy5sZWFmRGVwdGggIT0gbnVsbCAmJiBvcHRpb25zLmxlYWZEZXB0aCA8PSBkZXB0aDsgLy8gbGVhZkRlcHRoIGhhcyBoaWdoZXIgcHJpb3JpdHkuCgogIGlmIChoaWRlQ2hpbGRyZW4gJiYgIW92ZXJMZWFmRGVwdGgpIHsKICAgIHJldHVybiBub2RlLnZpZXdDaGlsZHJlbiA9IFtdOwogIH0gLy8gU29ydCBjaGlsZHJlbiwgb3JkZXIgYnkgZGVzYy4KCgogIHZpZXdDaGlsZHJlbiA9IHpyVXRpbC5maWx0ZXIodmlld0NoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHsKICAgIHJldHVybiAhY2hpbGQuaXNSZW1vdmVkKCk7CiAgfSk7CiAgc29ydCh2aWV3Q2hpbGRyZW4sIG9yZGVyQnkpOwogIHZhciBpbmZvID0gc3RhdGlzdGljKG5vZGVNb2RlbCwgdmlld0NoaWxkcmVuLCBvcmRlckJ5KTsKCiAgaWYgKGluZm8uc3VtID09PSAwKSB7CiAgICByZXR1cm4gbm9kZS52aWV3Q2hpbGRyZW4gPSBbXTsKICB9CgogIGluZm8uc3VtID0gZmlsdGVyQnlUaHJlc2hvbGQobm9kZU1vZGVsLCB0b3RhbEFyZWEsIGluZm8uc3VtLCBvcmRlckJ5LCB2aWV3Q2hpbGRyZW4pOwoKICBpZiAoaW5mby5zdW0gPT09IDApIHsKICAgIHJldHVybiBub2RlLnZpZXdDaGlsZHJlbiA9IFtdOwogIH0gLy8gU2V0IGFyZWEgdG8gZWFjaCBjaGlsZC4KCgogIGZvciAodmFyIGkgPSAwLCBsZW4gPSB2aWV3Q2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgIHZhciBhcmVhID0gdmlld0NoaWxkcmVuW2ldLmdldFZhbHVlKCkgLyBpbmZvLnN1bSAqIHRvdGFsQXJlYTsgLy8gRG8gbm90IHVzZSBzZXRMYXlvdXQoey4uLn0sIHRydWUpLCBiZWNhdXNlIGl0IGlzIG5lZWRlZCB0byBjbGVhciBsYXN0IGxheW91dC4KCiAgICB2aWV3Q2hpbGRyZW5baV0uc2V0TGF5b3V0KHsKICAgICAgYXJlYTogYXJlYQogICAgfSk7CiAgfQoKICBpZiAob3ZlckxlYWZEZXB0aCkgewogICAgdmlld0NoaWxkcmVuLmxlbmd0aCAmJiBub2RlLnNldExheW91dCh7CiAgICAgIGlzTGVhZlJvb3Q6IHRydWUKICAgIH0sIHRydWUpOwogICAgdmlld0NoaWxkcmVuLmxlbmd0aCA9IDA7CiAgfQoKICBub2RlLnZpZXdDaGlsZHJlbiA9IHZpZXdDaGlsZHJlbjsKICBub2RlLnNldExheW91dCh7CiAgICBkYXRhRXh0ZW50OiBpbmZvLmRhdGFFeHRlbnQKICB9LCB0cnVlKTsKICByZXR1cm4gdmlld0NoaWxkcmVuOwp9Ci8qKgogKiBDb25zaWRlciAndmlzaWJsZU1pbicuIE1vZGlmeSB2aWV3Q2hpbGRyZW4gYW5kIGdldCBuZXcgc3VtLgogKi8KCgpmdW5jdGlvbiBmaWx0ZXJCeVRocmVzaG9sZChub2RlTW9kZWwsIHRvdGFsQXJlYSwgc3VtLCBvcmRlckJ5LCBvcmRlcmVkQ2hpbGRyZW4pIHsKICAvLyB2aXNpYmxlTWluIGlzIG5vdCBzdXBwb3J0ZWQgeWV0IHdoZW4gbm8gb3B0aW9uLnNvcnQuCiAgaWYgKCFvcmRlckJ5KSB7CiAgICByZXR1cm4gc3VtOwogIH0KCiAgdmFyIHZpc2libGVNaW4gPSBub2RlTW9kZWwuZ2V0KCd2aXNpYmxlTWluJyk7CiAgdmFyIGxlbiA9IG9yZGVyZWRDaGlsZHJlbi5sZW5ndGg7CiAgdmFyIGRlbGV0ZVBvaW50ID0gbGVuOyAvLyBBbHdheXMgdHJhdmVsIGZyb20gbGl0dGxlIHZhbHVlIHRvIGJpZyB2YWx1ZS4KCiAgZm9yICh2YXIgaSA9IGxlbiAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICB2YXIgdmFsdWUgPSBvcmRlcmVkQ2hpbGRyZW5bb3JkZXJCeSA9PT0gJ2FzYycgPyBsZW4gLSBpIC0gMSA6IGldLmdldFZhbHVlKCk7CgogICAgaWYgKHZhbHVlIC8gc3VtICogdG90YWxBcmVhIDwgdmlzaWJsZU1pbikgewogICAgICBkZWxldGVQb2ludCA9IGk7CiAgICAgIHN1bSAtPSB2YWx1ZTsKICAgIH0KICB9CgogIG9yZGVyQnkgPT09ICdhc2MnID8gb3JkZXJlZENoaWxkcmVuLnNwbGljZSgwLCBsZW4gLSBkZWxldGVQb2ludCkgOiBvcmRlcmVkQ2hpbGRyZW4uc3BsaWNlKGRlbGV0ZVBvaW50LCBsZW4gLSBkZWxldGVQb2ludCk7CiAgcmV0dXJuIHN1bTsKfQovKioKICogU29ydAogKi8KCgpmdW5jdGlvbiBzb3J0KHZpZXdDaGlsZHJlbiwgb3JkZXJCeSkgewogIGlmIChvcmRlckJ5KSB7CiAgICB2aWV3Q2hpbGRyZW4uc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICB2YXIgZGlmZiA9IG9yZGVyQnkgPT09ICdhc2MnID8gYS5nZXRWYWx1ZSgpIC0gYi5nZXRWYWx1ZSgpIDogYi5nZXRWYWx1ZSgpIC0gYS5nZXRWYWx1ZSgpOwogICAgICByZXR1cm4gZGlmZiA9PT0gMCA/IG9yZGVyQnkgPT09ICdhc2MnID8gYS5kYXRhSW5kZXggLSBiLmRhdGFJbmRleCA6IGIuZGF0YUluZGV4IC0gYS5kYXRhSW5kZXggOiBkaWZmOwogICAgfSk7CiAgfQoKICByZXR1cm4gdmlld0NoaWxkcmVuOwp9Ci8qKgogKiBTdGF0aXN0aWMKICovCgoKZnVuY3Rpb24gc3RhdGlzdGljKG5vZGVNb2RlbCwgY2hpbGRyZW4sIG9yZGVyQnkpIHsKICAvLyBDYWxjdWxhdGUgc3VtLgogIHZhciBzdW0gPSAwOwoKICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgIHN1bSArPSBjaGlsZHJlbltpXS5nZXRWYWx1ZSgpOwogIH0gLy8gU3RhdGlzdGljIGRhdGEgZXh0ZW50IGZvciBsYXR0ZXIgdmlzdWFsIGNvZGluZy4KICAvLyBOb3RpY2U6IGRhdGEgZXh0ZW50IHNob3VsZCBiZSBjYWxjdWxhdGUgYmFzZWQgb24gcmF3IGNoaWxkcmVuCiAgLy8gYnV0IG5vdCBmaWx0ZXJlZCB2aWV3IGNoaWxkcmVuLCBvdGhlcndpc2UgdmlzdWFsIG1hcHBpbmcgd2lsbCBub3QKICAvLyBiZSBzdGFibGUgd2hlbiB6b29tICh3aGVyZSBjaGlsZHJlbiBpcyBmaWx0ZXJlZCBieSB2aXNpYmxlTWluKS4KCgogIHZhciBkaW1lbnNpb24gPSBub2RlTW9kZWwuZ2V0KCd2aXN1YWxEaW1lbnNpb24nKTsKICB2YXIgZGF0YUV4dGVudDsgLy8gVGhlIHNhbWUgYXMgYXJlYSBkaW1lbnNpb24uCgogIGlmICghY2hpbGRyZW4gfHwgIWNoaWxkcmVuLmxlbmd0aCkgewogICAgZGF0YUV4dGVudCA9IFtOYU4sIE5hTl07CiAgfSBlbHNlIGlmIChkaW1lbnNpb24gPT09ICd2YWx1ZScgJiYgb3JkZXJCeSkgewogICAgZGF0YUV4dGVudCA9IFtjaGlsZHJlbltjaGlsZHJlbi5sZW5ndGggLSAxXS5nZXRWYWx1ZSgpLCBjaGlsZHJlblswXS5nZXRWYWx1ZSgpXTsKICAgIG9yZGVyQnkgPT09ICdhc2MnICYmIGRhdGFFeHRlbnQucmV2ZXJzZSgpOwogIH0gLy8gT3RoZXIgZGltZW5zaW9uLgogIGVsc2UgewogICAgICB2YXIgZGF0YUV4dGVudCA9IFtJbmZpbml0eSwgLUluZmluaXR5XTsKICAgICAgZWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgICAgdmFyIHZhbHVlID0gY2hpbGQuZ2V0VmFsdWUoZGltZW5zaW9uKTsKICAgICAgICB2YWx1ZSA8IGRhdGFFeHRlbnRbMF0gJiYgKGRhdGFFeHRlbnRbMF0gPSB2YWx1ZSk7CiAgICAgICAgdmFsdWUgPiBkYXRhRXh0ZW50WzFdICYmIChkYXRhRXh0ZW50WzFdID0gdmFsdWUpOwogICAgICB9KTsKICAgIH0KCiAgcmV0dXJuIHsKICAgIHN1bTogc3VtLAogICAgZGF0YUV4dGVudDogZGF0YUV4dGVudAogIH07Cn0KLyoqCiAqIENvbXB1dGVzIHRoZSBzY29yZSBmb3IgdGhlIHNwZWNpZmllZCByb3csCiAqIGFzIHRoZSB3b3JzdCBhc3BlY3QgcmF0aW8uCiAqLwoKCmZ1bmN0aW9uIHdvcnN0KHJvdywgcm93Rml4ZWRMZW5ndGgsIHJhdGlvKSB7CiAgdmFyIGFyZWFNYXggPSAwOwogIHZhciBhcmVhTWluID0gSW5maW5pdHk7CgogIGZvciAodmFyIGkgPSAwLCBhcmVhLCBsZW4gPSByb3cubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgIGFyZWEgPSByb3dbaV0uZ2V0TGF5b3V0KCkuYXJlYTsKCiAgICBpZiAoYXJlYSkgewogICAgICBhcmVhIDwgYXJlYU1pbiAmJiAoYXJlYU1pbiA9IGFyZWEpOwogICAgICBhcmVhID4gYXJlYU1heCAmJiAoYXJlYU1heCA9IGFyZWEpOwogICAgfQogIH0KCiAgdmFyIHNxdWFyZUFyZWEgPSByb3cuYXJlYSAqIHJvdy5hcmVhOwogIHZhciBmID0gcm93Rml4ZWRMZW5ndGggKiByb3dGaXhlZExlbmd0aCAqIHJhdGlvOwogIHJldHVybiBzcXVhcmVBcmVhID8gbWF0aE1heChmICogYXJlYU1heCAvIHNxdWFyZUFyZWEsIHNxdWFyZUFyZWEgLyAoZiAqIGFyZWFNaW4pKSA6IEluZmluaXR5Owp9Ci8qKgogKiBQb3NpdGlvbnMgdGhlIHNwZWNpZmllZCByb3cgb2Ygbm9kZXMuIE1vZGlmaWVzIGByZWN0YC4KICovCgoKZnVuY3Rpb24gcG9zaXRpb24ocm93LCByb3dGaXhlZExlbmd0aCwgcmVjdCwgaGFsZkdhcFdpZHRoLCBmbHVzaCkgewogIC8vIFdoZW4gcm93Rml4ZWRMZW5ndGggPT09IHJlY3Qud2lkdGgsCiAgLy8gaXQgaXMgaG9yaXpvbnRhbCBzdWJkaXZpc2lvbiwKICAvLyByb3dGaXhlZExlbmd0aCBpcyB0aGUgd2lkdGggb2YgdGhlIHN1YmRpdmlzaW9uLAogIC8vIHJvd090aGVyTGVuZ3RoIGlzIHRoZSBoZWlnaHQgb2YgdGhlIHN1YmRpdmlzaW9uLAogIC8vIGFuZCBub2RlcyB3aWxsIGJlIHBvc2l0aW9uZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LgogIC8vIHdoW2lkeDBXaGVuSF0gbWVhbnM6IHdoZW4gaG9yaXpvbnRhbCwKICAvLyAgICAgIHdoW2lkeDBXaGVuSF0gPT4gd2hbMF0gPT4gJ3dpZHRoJy4KICAvLyAgICAgIHh5W2lkeDFXaGVuSF0gPT4geHlbMV0gPT4gJ3knLgogIHZhciBpZHgwV2hlbkggPSByb3dGaXhlZExlbmd0aCA9PT0gcmVjdC53aWR0aCA/IDAgOiAxOwogIHZhciBpZHgxV2hlbkggPSAxIC0gaWR4MFdoZW5IOwogIHZhciB4eSA9IFsneCcsICd5J107CiAgdmFyIHdoID0gWyd3aWR0aCcsICdoZWlnaHQnXTsKICB2YXIgbGFzdCA9IHJlY3RbeHlbaWR4MFdoZW5IXV07CiAgdmFyIHJvd090aGVyTGVuZ3RoID0gcm93Rml4ZWRMZW5ndGggPyByb3cuYXJlYSAvIHJvd0ZpeGVkTGVuZ3RoIDogMDsKCiAgaWYgKGZsdXNoIHx8IHJvd090aGVyTGVuZ3RoID4gcmVjdFt3aFtpZHgxV2hlbkhdXSkgewogICAgcm93T3RoZXJMZW5ndGggPSByZWN0W3doW2lkeDFXaGVuSF1dOyAvLyBvdmVyK3VuZGVyZmxvdwogIH0KCiAgZm9yICh2YXIgaSA9IDAsIHJvd0xlbiA9IHJvdy5sZW5ndGg7IGkgPCByb3dMZW47IGkrKykgewogICAgdmFyIG5vZGUgPSByb3dbaV07CiAgICB2YXIgbm9kZUxheW91dCA9IHt9OwogICAgdmFyIHN0ZXAgPSByb3dPdGhlckxlbmd0aCA/IG5vZGUuZ2V0TGF5b3V0KCkuYXJlYSAvIHJvd090aGVyTGVuZ3RoIDogMDsKICAgIHZhciB3aDEgPSBub2RlTGF5b3V0W3doW2lkeDFXaGVuSF1dID0gbWF0aE1heChyb3dPdGhlckxlbmd0aCAtIDIgKiBoYWxmR2FwV2lkdGgsIDApOyAvLyBXZSB1c2UgTWF0aC5tYXgvbWluIHRvIGF2b2lkIG5lZ2F0aXZlIHdpZHRoL2hlaWdodCB3aGVuIGNvbnNpZGVyaW5nIGdhcCB3aWR0aC4KCiAgICB2YXIgcmVtYWluID0gcmVjdFt4eVtpZHgwV2hlbkhdXSArIHJlY3Rbd2hbaWR4MFdoZW5IXV0gLSBsYXN0OwogICAgdmFyIG1vZFdIID0gaSA9PT0gcm93TGVuIC0gMSB8fCByZW1haW4gPCBzdGVwID8gcmVtYWluIDogc3RlcDsKICAgIHZhciB3aDAgPSBub2RlTGF5b3V0W3doW2lkeDBXaGVuSF1dID0gbWF0aE1heChtb2RXSCAtIDIgKiBoYWxmR2FwV2lkdGgsIDApOwogICAgbm9kZUxheW91dFt4eVtpZHgxV2hlbkhdXSA9IHJlY3RbeHlbaWR4MVdoZW5IXV0gKyBtYXRoTWluKGhhbGZHYXBXaWR0aCwgd2gxIC8gMik7CiAgICBub2RlTGF5b3V0W3h5W2lkeDBXaGVuSF1dID0gbGFzdCArIG1hdGhNaW4oaGFsZkdhcFdpZHRoLCB3aDAgLyAyKTsKICAgIGxhc3QgKz0gbW9kV0g7CiAgICBub2RlLnNldExheW91dChub2RlTGF5b3V0LCB0cnVlKTsKICB9CgogIHJlY3RbeHlbaWR4MVdoZW5IXV0gKz0gcm93T3RoZXJMZW5ndGg7CiAgcmVjdFt3aFtpZHgxV2hlbkhdXSAtPSByb3dPdGhlckxlbmd0aDsKfSAvLyBSZXR1cm4gW2NvbnRhaW5lcldpZHRoLCBjb250YWluZXJIZWlnaHRdIGFzIGRlZmF1bHQuCgoKZnVuY3Rpb24gZXN0aW1hdGVSb290U2l6ZShzZXJpZXNNb2RlbCwgdGFyZ2V0SW5mbywgdmlld1Jvb3QsIGNvbnRhaW5lcldpZHRoLCBjb250YWluZXJIZWlnaHQpIHsKICAvLyBJZiB0YXJnZXRJbmZvLm5vZGUgZXhpc3RzLCB3ZSB6b29tIHRvIHRoZSBub2RlLAogIC8vIHNvIGVzdGltYXRlIHdob2xkIHdpZHRoIGFuZCBoZWlndGggYnkgdGFyZ2V0IG5vZGUuCiAgdmFyIGN1cnJOb2RlID0gKHRhcmdldEluZm8gfHwge30pLm5vZGU7CiAgdmFyIGRlZmF1bHRTaXplID0gW2NvbnRhaW5lcldpZHRoLCBjb250YWluZXJIZWlnaHRdOwoKICBpZiAoIWN1cnJOb2RlIHx8IGN1cnJOb2RlID09PSB2aWV3Um9vdCkgewogICAgcmV0dXJuIGRlZmF1bHRTaXplOwogIH0KCiAgdmFyIHBhcmVudDsKICB2YXIgdmlld0FyZWEgPSBjb250YWluZXJXaWR0aCAqIGNvbnRhaW5lckhlaWdodDsKICB2YXIgYXJlYSA9IHZpZXdBcmVhICogc2VyaWVzTW9kZWwub3B0aW9uLnpvb21Ub05vZGVSYXRpbzsKCiAgd2hpbGUgKHBhcmVudCA9IGN1cnJOb2RlLnBhcmVudE5vZGUpIHsKICAgIC8vIGpzaGludCBpZ25vcmU6bGluZQogICAgdmFyIHN1bSA9IDA7CiAgICB2YXIgc2libGluZ3MgPSBwYXJlbnQuY2hpbGRyZW47CgogICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNpYmxpbmdzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgIHN1bSArPSBzaWJsaW5nc1tpXS5nZXRWYWx1ZSgpOwogICAgfQoKICAgIHZhciBjdXJyTm9kZVZhbHVlID0gY3Vyck5vZGUuZ2V0VmFsdWUoKTsKCiAgICBpZiAoY3Vyck5vZGVWYWx1ZSA9PT0gMCkgewogICAgICByZXR1cm4gZGVmYXVsdFNpemU7CiAgICB9CgogICAgYXJlYSAqPSBzdW0gLyBjdXJyTm9kZVZhbHVlOyAvLyBDb25zaWRlcmluZyBib3JkZXIsIHN1cHBvc2UgYXNwZWN0IHJhdGlvIGlzIDEuCgogICAgdmFyIHBhcmVudE1vZGVsID0gcGFyZW50LmdldE1vZGVsKCk7CiAgICB2YXIgYm9yZGVyV2lkdGggPSBwYXJlbnRNb2RlbC5nZXQoUEFUSF9CT1JERVJfV0lEVEgpOwogICAgdmFyIHVwcGVySGVpZ2h0ID0gTWF0aC5tYXgoYm9yZGVyV2lkdGgsIGdldFVwcGVyTGFiZWxIZWlnaHQocGFyZW50TW9kZWwsIGJvcmRlcldpZHRoKSk7CiAgICBhcmVhICs9IDQgKiBib3JkZXJXaWR0aCAqIGJvcmRlcldpZHRoICsgKDMgKiBib3JkZXJXaWR0aCArIHVwcGVySGVpZ2h0KSAqIE1hdGgucG93KGFyZWEsIDAuNSk7CiAgICBhcmVhID4gTUFYX1NBRkVfSU5URUdFUiAmJiAoYXJlYSA9IE1BWF9TQUZFX0lOVEVHRVIpOwogICAgY3Vyck5vZGUgPSBwYXJlbnQ7CiAgfQoKICBhcmVhIDwgdmlld0FyZWEgJiYgKGFyZWEgPSB2aWV3QXJlYSk7CiAgdmFyIHNjYWxlID0gTWF0aC5wb3coYXJlYSAvIHZpZXdBcmVhLCAwLjUpOwogIHJldHVybiBbY29udGFpbmVyV2lkdGggKiBzY2FsZSwgY29udGFpbmVySGVpZ2h0ICogc2NhbGVdOwp9IC8vIFJvb3QgcG9zdGlvbiBiYXNlIG9uIGNvb3JkIG9mIGNvbnRhaW5lckdyb3VwCgoKZnVuY3Rpb24gY2FsY3VsYXRlUm9vdFBvc2l0aW9uKGxheW91dEluZm8sIHJvb3RSZWN0LCB0YXJnZXRJbmZvKSB7CiAgaWYgKHJvb3RSZWN0KSB7CiAgICByZXR1cm4gewogICAgICB4OiByb290UmVjdC54LAogICAgICB5OiByb290UmVjdC55CiAgICB9OwogIH0KCiAgdmFyIGRlZmF1bHRQb3NpdGlvbiA9IHsKICAgIHg6IDAsCiAgICB5OiAwCiAgfTsKCiAgaWYgKCF0YXJnZXRJbmZvKSB7CiAgICByZXR1cm4gZGVmYXVsdFBvc2l0aW9uOwogIH0gLy8gSWYgdGFyZ2V0SW5mbyBpcyBmZXRjaGVkIGJ5ICdyZXRyaWV2ZVRhcmdldEluZm8nLAogIC8vIG9sZCB0cmVlIGFuZCBuZXcgdHJlZSBhcmUgdGhlIHNhbWUgdHJlZSwKICAvLyBzbyB0aGUgbm9kZSBzdGlsbCBleGlzdHMgYW5kIHdlIGNhbiB2aXNpdCBpdC4KCgogIHZhciB0YXJnZXROb2RlID0gdGFyZ2V0SW5mby5ub2RlOwogIHZhciBsYXlvdXQgPSB0YXJnZXROb2RlLmdldExheW91dCgpOwoKICBpZiAoIWxheW91dCkgewogICAgcmV0dXJuIGRlZmF1bHRQb3NpdGlvbjsKICB9IC8vIFRyYW5zZm9ybSBjb29yZCBmcm9tIGxvY2FsIHRvIGNvbnRhaW5lci4KCgogIHZhciB0YXJnZXRDZW50ZXIgPSBbbGF5b3V0LndpZHRoIC8gMiwgbGF5b3V0LmhlaWdodCAvIDJdOwogIHZhciBub2RlID0gdGFyZ2V0Tm9kZTsKCiAgd2hpbGUgKG5vZGUpIHsKICAgIHZhciBub2RlTGF5b3V0ID0gbm9kZS5nZXRMYXlvdXQoKTsKICAgIHRhcmdldENlbnRlclswXSArPSBub2RlTGF5b3V0Lng7CiAgICB0YXJnZXRDZW50ZXJbMV0gKz0gbm9kZUxheW91dC55OwogICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTsKICB9CgogIHJldHVybiB7CiAgICB4OiBsYXlvdXRJbmZvLndpZHRoIC8gMiAtIHRhcmdldENlbnRlclswXSwKICAgIHk6IGxheW91dEluZm8uaGVpZ2h0IC8gMiAtIHRhcmdldENlbnRlclsxXQogIH07Cn0gLy8gTWFyayBub2RlcyB2aXNpYmxlIGZvciBwcnVubmluZyB3aGVuIHZpc3VhbCBjb2RpbmcgYW5kIHJlbmRlcmluZy4KLy8gUHJ1bm5pbmcgZGVwZW5kcyBvbiBsYXlvdXQgYW5kIHJvb3QgcG9zaXRpb24sIHNvIHdlIGhhdmUgdG8gZG8gaXQgYWZ0ZXIgbGF5b3V0LgoKCmZ1bmN0aW9uIHBydW5uaW5nKG5vZGUsIGNsaXBSZWN0LCB2aWV3QWJvdmVQYXRoLCB2aWV3Um9vdCwgZGVwdGgpIHsKICB2YXIgbm9kZUxheW91dCA9IG5vZGUuZ2V0TGF5b3V0KCk7CiAgdmFyIG5vZGVJblZpZXdBYm92ZVBhdGggPSB2aWV3QWJvdmVQYXRoW2RlcHRoXTsKICB2YXIgaXNBYm92ZVZpZXdSb290ID0gbm9kZUluVmlld0Fib3ZlUGF0aCAmJiBub2RlSW5WaWV3QWJvdmVQYXRoID09PSBub2RlOwoKICBpZiAobm9kZUluVmlld0Fib3ZlUGF0aCAmJiAhaXNBYm92ZVZpZXdSb290IHx8IGRlcHRoID09PSB2aWV3QWJvdmVQYXRoLmxlbmd0aCAmJiBub2RlICE9PSB2aWV3Um9vdCkgewogICAgcmV0dXJuOwogIH0KCiAgbm9kZS5zZXRMYXlvdXQoewogICAgLy8gaXNJblZpZXcgbWVhbnM6IHZpZXdSb290IHN1YiB0cmVlICsgdmlld0Fib3ZlUGF0aAogICAgaXNJblZpZXc6IHRydWUsCiAgICAvLyBpbnZpc2libGUgb25seSBtZWFuczogb3V0c2lkZSB2aWV3IGNsaXAgc28gdGhhdCB0aGUgbm9kZSBjYW4gbm90CiAgICAvLyBzZWUgYnV0IHN0aWxsIGxheW91dCBmb3IgYW5pbWF0aW9uIHByZXBhcmF0aW9uIGJ1dCBub3QgcmVuZGVyLgogICAgaW52aXNpYmxlOiAhaXNBYm92ZVZpZXdSb290ICYmICFjbGlwUmVjdC5pbnRlcnNlY3Qobm9kZUxheW91dCksCiAgICBpc0Fib3ZlVmlld1Jvb3Q6IGlzQWJvdmVWaWV3Um9vdAogIH0sIHRydWUpOyAvLyBUcmFuc2Zvcm0gdG8gY2hpbGQgY29vcmRpbmF0ZS4KCiAgdmFyIGNoaWxkQ2xpcFJlY3QgPSBuZXcgQm91bmRpbmdSZWN0KGNsaXBSZWN0LnggLSBub2RlTGF5b3V0LngsIGNsaXBSZWN0LnkgLSBub2RlTGF5b3V0LnksIGNsaXBSZWN0LndpZHRoLCBjbGlwUmVjdC5oZWlnaHQpOwogIGVhY2gobm9kZS52aWV3Q2hpbGRyZW4gfHwgW10sIGZ1bmN0aW9uIChjaGlsZCkgewogICAgcHJ1bm5pbmcoY2hpbGQsIGNoaWxkQ2xpcFJlY3QsIHZpZXdBYm92ZVBhdGgsIHZpZXdSb290LCBkZXB0aCArIDEpOwogIH0pOwp9CgpmdW5jdGlvbiBnZXRVcHBlckxhYmVsSGVpZ2h0KG1vZGVsKSB7CiAgcmV0dXJuIG1vZGVsLmdldChQQVRIX1VQUEVSX0xBQkVMX1NIT1cpID8gbW9kZWwuZ2V0KFBBVEhfVVBQRVJfTEFCRUxfSEVJR0hUKSA6IDA7Cn0KCm1vZHVsZS5leHBvcnRzID0gX2RlZmF1bHQ7"},{"version":3,"sources":["/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/echarts/lib/chart/treemap/treemapLayout.js"],"names":["zrUtil","require","BoundingRect","_number","parsePercent","MAX_SAFE_INTEGER","layout","helper","mathMax","Math","max","mathMin","min","retrieveValue","retrieve","each","PATH_BORDER_WIDTH","PATH_GAP_WIDTH","PATH_UPPER_LABEL_SHOW","PATH_UPPER_LABEL_HEIGHT","_default","seriesType","reset","seriesModel","ecModel","api","payload","ecWidth","getWidth","ecHeight","getHeight","seriesOption","option","layoutInfo","getLayoutRect","getBoxLayoutParams","width","height","size","containerWidth","containerHeight","payloadType","type","types","targetInfo","retrieveTargetInfo","rootRect","viewRoot","getViewRoot","viewAbovePath","getPathToRoot","rootSize","estimateRootSize","sort","options","squareRatio","leafDepth","hostTree","clearLayouts","viewRootLayout","x","y","area","setLayout","squarify","getLayout","node","index","childValue","getValue","extend","dataExtent","borderWidth","upperHeight","treeRoot","getData","tree","root","calculateRootPosition","setLayoutInfo","prunning","hideChildren","depth","isRemoved","thisLayout","nodeModel","getModel","get","halfGapWidth","upperLabelHeight","getUpperLabelHeight","layoutOffset","layoutOffsetUpper","totalArea","viewChildren","initChildren","length","rect","rowFixedLength","best","Infinity","row","i","len","child","push","score","worst","pop","position","childrenVisibleMin","children","orderBy","overLeafDepth","filter","info","statistic","sum","filterByThreshold","isLeafRoot","orderedChildren","visibleMin","deletePoint","value","splice","a","b","diff","dataIndex","dimension","NaN","reverse","ratio","areaMax","areaMin","squareArea","f","flush","idx0WhenH","idx1WhenH","xy","wh","last","rowOtherLength","rowLen","nodeLayout","step","wh1","remain","modWH","wh0","currNode","defaultSize","parent","viewArea","zoomToNodeRatio","parentNode","siblings","currNodeValue","parentModel","pow","scale","defaultPosition","targetNode","targetCenter","clipRect","nodeInViewAbovePath","isAboveViewRoot","isInView","invisible","intersect","childClipRect","model","module","exports"],"mappings":"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","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar MAX_SAFE_INTEGER = _number.MAX_SAFE_INTEGER;\n\nvar layout = require(\"../../util/layout\");\n\nvar helper = require(\"../helper/treeHelper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* A third-party license is embeded for some of the code in this file:\n* The treemap layout implementation was originally copied from\n* \"d3.js\" with some modifications made for this project.\n* (See more details in the comment of the method \"squarify\" below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar retrieveValue = zrUtil.retrieve;\nvar each = zrUtil.each;\nvar PATH_BORDER_WIDTH = ['itemStyle', 'borderWidth'];\nvar PATH_GAP_WIDTH = ['itemStyle', 'gapWidth'];\nvar PATH_UPPER_LABEL_SHOW = ['upperLabel', 'show'];\nvar PATH_UPPER_LABEL_HEIGHT = ['upperLabel', 'height'];\n/**\n * @public\n */\n\nvar _default = {\n  seriesType: 'treemap',\n  reset: function (seriesModel, ecModel, api, payload) {\n    // Layout result in each node:\n    // {x, y, width, height, area, borderWidth}\n    var ecWidth = api.getWidth();\n    var ecHeight = api.getHeight();\n    var seriesOption = seriesModel.option;\n    var layoutInfo = layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n    var size = seriesOption.size || []; // Compatible with ec2.\n\n    var containerWidth = parsePercent(retrieveValue(layoutInfo.width, size[0]), ecWidth);\n    var containerHeight = parsePercent(retrieveValue(layoutInfo.height, size[1]), ecHeight); // Fetch payload info.\n\n    var payloadType = payload && payload.type;\n    var types = ['treemapZoomToNode', 'treemapRootToNode'];\n    var targetInfo = helper.retrieveTargetInfo(payload, types, seriesModel);\n    var rootRect = payloadType === 'treemapRender' || payloadType === 'treemapMove' ? payload.rootRect : null;\n    var viewRoot = seriesModel.getViewRoot();\n    var viewAbovePath = helper.getPathToRoot(viewRoot);\n\n    if (payloadType !== 'treemapMove') {\n      var rootSize = payloadType === 'treemapZoomToNode' ? estimateRootSize(seriesModel, targetInfo, viewRoot, containerWidth, containerHeight) : rootRect ? [rootRect.width, rootRect.height] : [containerWidth, containerHeight];\n      var sort = seriesOption.sort;\n\n      if (sort && sort !== 'asc' && sort !== 'desc') {\n        sort = 'desc';\n      }\n\n      var options = {\n        squareRatio: seriesOption.squareRatio,\n        sort: sort,\n        leafDepth: seriesOption.leafDepth\n      }; // layout should be cleared because using updateView but not update.\n\n      viewRoot.hostTree.clearLayouts(); // TODO\n      // optimize: if out of view clip, do not layout.\n      // But take care that if do not render node out of view clip,\n      // how to calculate start po\n\n      var viewRootLayout = {\n        x: 0,\n        y: 0,\n        width: rootSize[0],\n        height: rootSize[1],\n        area: rootSize[0] * rootSize[1]\n      };\n      viewRoot.setLayout(viewRootLayout);\n      squarify(viewRoot, options, false, 0); // Supplement layout.\n\n      var viewRootLayout = viewRoot.getLayout();\n      each(viewAbovePath, function (node, index) {\n        var childValue = (viewAbovePath[index + 1] || viewRoot).getValue();\n        node.setLayout(zrUtil.extend({\n          dataExtent: [childValue, childValue],\n          borderWidth: 0,\n          upperHeight: 0\n        }, viewRootLayout));\n      });\n    }\n\n    var treeRoot = seriesModel.getData().tree.root;\n    treeRoot.setLayout(calculateRootPosition(layoutInfo, rootRect, targetInfo), true);\n    seriesModel.setLayoutInfo(layoutInfo); // FIXME\n    // 现在没有clip功能，暂时取ec高宽。\n\n    prunning(treeRoot, // Transform to base element coordinate system.\n    new BoundingRect(-layoutInfo.x, -layoutInfo.y, ecWidth, ecHeight), viewAbovePath, viewRoot, 0);\n  }\n};\n/**\n * Layout treemap with squarify algorithm.\n * The original presentation of this algorithm\n * was made by Mark Bruls, Kees Huizing, and Jarke J. van Wijk\n * <https://graphics.ethz.ch/teaching/scivis_common/Literature/squarifiedTreeMaps.pdf>.\n * The implementation of this algorithm was originally copied from \"d3.js\"\n * <https://github.com/d3/d3/blob/9cc9a875e636a1dcf36cc1e07bdf77e1ad6e2c74/src/layout/treemap.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n *\n * @protected\n * @param {module:echarts/data/Tree~TreeNode} node\n * @param {Object} options\n * @param {string} options.sort 'asc' or 'desc'\n * @param {number} options.squareRatio\n * @param {boolean} hideChildren\n * @param {number} depth\n */\n\nfunction squarify(node, options, hideChildren, depth) {\n  var width;\n  var height;\n\n  if (node.isRemoved()) {\n    return;\n  }\n\n  var thisLayout = node.getLayout();\n  width = thisLayout.width;\n  height = thisLayout.height; // Considering border and gap\n\n  var nodeModel = node.getModel();\n  var borderWidth = nodeModel.get(PATH_BORDER_WIDTH);\n  var halfGapWidth = nodeModel.get(PATH_GAP_WIDTH) / 2;\n  var upperLabelHeight = getUpperLabelHeight(nodeModel);\n  var upperHeight = Math.max(borderWidth, upperLabelHeight);\n  var layoutOffset = borderWidth - halfGapWidth;\n  var layoutOffsetUpper = upperHeight - halfGapWidth;\n  var nodeModel = node.getModel();\n  node.setLayout({\n    borderWidth: borderWidth,\n    upperHeight: upperHeight,\n    upperLabelHeight: upperLabelHeight\n  }, true);\n  width = mathMax(width - 2 * layoutOffset, 0);\n  height = mathMax(height - layoutOffset - layoutOffsetUpper, 0);\n  var totalArea = width * height;\n  var viewChildren = initChildren(node, nodeModel, totalArea, options, hideChildren, depth);\n\n  if (!viewChildren.length) {\n    return;\n  }\n\n  var rect = {\n    x: layoutOffset,\n    y: layoutOffsetUpper,\n    width: width,\n    height: height\n  };\n  var rowFixedLength = mathMin(width, height);\n  var best = Infinity; // the best row score so far\n\n  var row = [];\n  row.area = 0;\n\n  for (var i = 0, len = viewChildren.length; i < len;) {\n    var child = viewChildren[i];\n    row.push(child);\n    row.area += child.getLayout().area;\n    var score = worst(row, rowFixedLength, options.squareRatio); // continue with this orientation\n\n    if (score <= best) {\n      i++;\n      best = score;\n    } // abort, and try a different orientation\n    else {\n        row.area -= row.pop().getLayout().area;\n        position(row, rowFixedLength, rect, halfGapWidth, false);\n        rowFixedLength = mathMin(rect.width, rect.height);\n        row.length = row.area = 0;\n        best = Infinity;\n      }\n  }\n\n  if (row.length) {\n    position(row, rowFixedLength, rect, halfGapWidth, true);\n  }\n\n  if (!hideChildren) {\n    var childrenVisibleMin = nodeModel.get('childrenVisibleMin');\n\n    if (childrenVisibleMin != null && totalArea < childrenVisibleMin) {\n      hideChildren = true;\n    }\n  }\n\n  for (var i = 0, len = viewChildren.length; i < len; i++) {\n    squarify(viewChildren[i], options, hideChildren, depth + 1);\n  }\n}\n/**\n * Set area to each child, and calculate data extent for visual coding.\n */\n\n\nfunction initChildren(node, nodeModel, totalArea, options, hideChildren, depth) {\n  var viewChildren = node.children || [];\n  var orderBy = options.sort;\n  orderBy !== 'asc' && orderBy !== 'desc' && (orderBy = null);\n  var overLeafDepth = options.leafDepth != null && options.leafDepth <= depth; // leafDepth has higher priority.\n\n  if (hideChildren && !overLeafDepth) {\n    return node.viewChildren = [];\n  } // Sort children, order by desc.\n\n\n  viewChildren = zrUtil.filter(viewChildren, function (child) {\n    return !child.isRemoved();\n  });\n  sort(viewChildren, orderBy);\n  var info = statistic(nodeModel, viewChildren, orderBy);\n\n  if (info.sum === 0) {\n    return node.viewChildren = [];\n  }\n\n  info.sum = filterByThreshold(nodeModel, totalArea, info.sum, orderBy, viewChildren);\n\n  if (info.sum === 0) {\n    return node.viewChildren = [];\n  } // Set area to each child.\n\n\n  for (var i = 0, len = viewChildren.length; i < len; i++) {\n    var area = viewChildren[i].getValue() / info.sum * totalArea; // Do not use setLayout({...}, true), because it is needed to clear last layout.\n\n    viewChildren[i].setLayout({\n      area: area\n    });\n  }\n\n  if (overLeafDepth) {\n    viewChildren.length && node.setLayout({\n      isLeafRoot: true\n    }, true);\n    viewChildren.length = 0;\n  }\n\n  node.viewChildren = viewChildren;\n  node.setLayout({\n    dataExtent: info.dataExtent\n  }, true);\n  return viewChildren;\n}\n/**\n * Consider 'visibleMin'. Modify viewChildren and get new sum.\n */\n\n\nfunction filterByThreshold(nodeModel, totalArea, sum, orderBy, orderedChildren) {\n  // visibleMin is not supported yet when no option.sort.\n  if (!orderBy) {\n    return sum;\n  }\n\n  var visibleMin = nodeModel.get('visibleMin');\n  var len = orderedChildren.length;\n  var deletePoint = len; // Always travel from little value to big value.\n\n  for (var i = len - 1; i >= 0; i--) {\n    var value = orderedChildren[orderBy === 'asc' ? len - i - 1 : i].getValue();\n\n    if (value / sum * totalArea < visibleMin) {\n      deletePoint = i;\n      sum -= value;\n    }\n  }\n\n  orderBy === 'asc' ? orderedChildren.splice(0, len - deletePoint) : orderedChildren.splice(deletePoint, len - deletePoint);\n  return sum;\n}\n/**\n * Sort\n */\n\n\nfunction sort(viewChildren, orderBy) {\n  if (orderBy) {\n    viewChildren.sort(function (a, b) {\n      var diff = orderBy === 'asc' ? a.getValue() - b.getValue() : b.getValue() - a.getValue();\n      return diff === 0 ? orderBy === 'asc' ? a.dataIndex - b.dataIndex : b.dataIndex - a.dataIndex : diff;\n    });\n  }\n\n  return viewChildren;\n}\n/**\n * Statistic\n */\n\n\nfunction statistic(nodeModel, children, orderBy) {\n  // Calculate sum.\n  var sum = 0;\n\n  for (var i = 0, len = children.length; i < len; i++) {\n    sum += children[i].getValue();\n  } // Statistic data extent for latter visual coding.\n  // Notice: data extent should be calculate based on raw children\n  // but not filtered view children, otherwise visual mapping will not\n  // be stable when zoom (where children is filtered by visibleMin).\n\n\n  var dimension = nodeModel.get('visualDimension');\n  var dataExtent; // The same as area dimension.\n\n  if (!children || !children.length) {\n    dataExtent = [NaN, NaN];\n  } else if (dimension === 'value' && orderBy) {\n    dataExtent = [children[children.length - 1].getValue(), children[0].getValue()];\n    orderBy === 'asc' && dataExtent.reverse();\n  } // Other dimension.\n  else {\n      var dataExtent = [Infinity, -Infinity];\n      each(children, function (child) {\n        var value = child.getValue(dimension);\n        value < dataExtent[0] && (dataExtent[0] = value);\n        value > dataExtent[1] && (dataExtent[1] = value);\n      });\n    }\n\n  return {\n    sum: sum,\n    dataExtent: dataExtent\n  };\n}\n/**\n * Computes the score for the specified row,\n * as the worst aspect ratio.\n */\n\n\nfunction worst(row, rowFixedLength, ratio) {\n  var areaMax = 0;\n  var areaMin = Infinity;\n\n  for (var i = 0, area, len = row.length; i < len; i++) {\n    area = row[i].getLayout().area;\n\n    if (area) {\n      area < areaMin && (areaMin = area);\n      area > areaMax && (areaMax = area);\n    }\n  }\n\n  var squareArea = row.area * row.area;\n  var f = rowFixedLength * rowFixedLength * ratio;\n  return squareArea ? mathMax(f * areaMax / squareArea, squareArea / (f * areaMin)) : Infinity;\n}\n/**\n * Positions the specified row of nodes. Modifies `rect`.\n */\n\n\nfunction position(row, rowFixedLength, rect, halfGapWidth, flush) {\n  // When rowFixedLength === rect.width,\n  // it is horizontal subdivision,\n  // rowFixedLength is the width of the subdivision,\n  // rowOtherLength is the height of the subdivision,\n  // and nodes will be positioned from left to right.\n  // wh[idx0WhenH] means: when horizontal,\n  //      wh[idx0WhenH] => wh[0] => 'width'.\n  //      xy[idx1WhenH] => xy[1] => 'y'.\n  var idx0WhenH = rowFixedLength === rect.width ? 0 : 1;\n  var idx1WhenH = 1 - idx0WhenH;\n  var xy = ['x', 'y'];\n  var wh = ['width', 'height'];\n  var last = rect[xy[idx0WhenH]];\n  var rowOtherLength = rowFixedLength ? row.area / rowFixedLength : 0;\n\n  if (flush || rowOtherLength > rect[wh[idx1WhenH]]) {\n    rowOtherLength = rect[wh[idx1WhenH]]; // over+underflow\n  }\n\n  for (var i = 0, rowLen = row.length; i < rowLen; i++) {\n    var node = row[i];\n    var nodeLayout = {};\n    var step = rowOtherLength ? node.getLayout().area / rowOtherLength : 0;\n    var wh1 = nodeLayout[wh[idx1WhenH]] = mathMax(rowOtherLength - 2 * halfGapWidth, 0); // We use Math.max/min to avoid negative width/height when considering gap width.\n\n    var remain = rect[xy[idx0WhenH]] + rect[wh[idx0WhenH]] - last;\n    var modWH = i === rowLen - 1 || remain < step ? remain : step;\n    var wh0 = nodeLayout[wh[idx0WhenH]] = mathMax(modWH - 2 * halfGapWidth, 0);\n    nodeLayout[xy[idx1WhenH]] = rect[xy[idx1WhenH]] + mathMin(halfGapWidth, wh1 / 2);\n    nodeLayout[xy[idx0WhenH]] = last + mathMin(halfGapWidth, wh0 / 2);\n    last += modWH;\n    node.setLayout(nodeLayout, true);\n  }\n\n  rect[xy[idx1WhenH]] += rowOtherLength;\n  rect[wh[idx1WhenH]] -= rowOtherLength;\n} // Return [containerWidth, containerHeight] as default.\n\n\nfunction estimateRootSize(seriesModel, targetInfo, viewRoot, containerWidth, containerHeight) {\n  // If targetInfo.node exists, we zoom to the node,\n  // so estimate whold width and heigth by target node.\n  var currNode = (targetInfo || {}).node;\n  var defaultSize = [containerWidth, containerHeight];\n\n  if (!currNode || currNode === viewRoot) {\n    return defaultSize;\n  }\n\n  var parent;\n  var viewArea = containerWidth * containerHeight;\n  var area = viewArea * seriesModel.option.zoomToNodeRatio;\n\n  while (parent = currNode.parentNode) {\n    // jshint ignore:line\n    var sum = 0;\n    var siblings = parent.children;\n\n    for (var i = 0, len = siblings.length; i < len; i++) {\n      sum += siblings[i].getValue();\n    }\n\n    var currNodeValue = currNode.getValue();\n\n    if (currNodeValue === 0) {\n      return defaultSize;\n    }\n\n    area *= sum / currNodeValue; // Considering border, suppose aspect ratio is 1.\n\n    var parentModel = parent.getModel();\n    var borderWidth = parentModel.get(PATH_BORDER_WIDTH);\n    var upperHeight = Math.max(borderWidth, getUpperLabelHeight(parentModel, borderWidth));\n    area += 4 * borderWidth * borderWidth + (3 * borderWidth + upperHeight) * Math.pow(area, 0.5);\n    area > MAX_SAFE_INTEGER && (area = MAX_SAFE_INTEGER);\n    currNode = parent;\n  }\n\n  area < viewArea && (area = viewArea);\n  var scale = Math.pow(area / viewArea, 0.5);\n  return [containerWidth * scale, containerHeight * scale];\n} // Root postion base on coord of containerGroup\n\n\nfunction calculateRootPosition(layoutInfo, rootRect, targetInfo) {\n  if (rootRect) {\n    return {\n      x: rootRect.x,\n      y: rootRect.y\n    };\n  }\n\n  var defaultPosition = {\n    x: 0,\n    y: 0\n  };\n\n  if (!targetInfo) {\n    return defaultPosition;\n  } // If targetInfo is fetched by 'retrieveTargetInfo',\n  // old tree and new tree are the same tree,\n  // so the node still exists and we can visit it.\n\n\n  var targetNode = targetInfo.node;\n  var layout = targetNode.getLayout();\n\n  if (!layout) {\n    return defaultPosition;\n  } // Transform coord from local to container.\n\n\n  var targetCenter = [layout.width / 2, layout.height / 2];\n  var node = targetNode;\n\n  while (node) {\n    var nodeLayout = node.getLayout();\n    targetCenter[0] += nodeLayout.x;\n    targetCenter[1] += nodeLayout.y;\n    node = node.parentNode;\n  }\n\n  return {\n    x: layoutInfo.width / 2 - targetCenter[0],\n    y: layoutInfo.height / 2 - targetCenter[1]\n  };\n} // Mark nodes visible for prunning when visual coding and rendering.\n// Prunning depends on layout and root position, so we have to do it after layout.\n\n\nfunction prunning(node, clipRect, viewAbovePath, viewRoot, depth) {\n  var nodeLayout = node.getLayout();\n  var nodeInViewAbovePath = viewAbovePath[depth];\n  var isAboveViewRoot = nodeInViewAbovePath && nodeInViewAbovePath === node;\n\n  if (nodeInViewAbovePath && !isAboveViewRoot || depth === viewAbovePath.length && node !== viewRoot) {\n    return;\n  }\n\n  node.setLayout({\n    // isInView means: viewRoot sub tree + viewAbovePath\n    isInView: true,\n    // invisible only means: outside view clip so that the node can not\n    // see but still layout for animation preparation but not render.\n    invisible: !isAboveViewRoot && !clipRect.intersect(nodeLayout),\n    isAboveViewRoot: isAboveViewRoot\n  }, true); // Transform to child coordinate.\n\n  var childClipRect = new BoundingRect(clipRect.x - nodeLayout.x, clipRect.y - nodeLayout.y, clipRect.width, clipRect.height);\n  each(node.viewChildren || [], function (child) {\n    prunning(child, childClipRect, viewAbovePath, viewRoot, depth + 1);\n  });\n}\n\nfunction getUpperLabelHeight(model) {\n  return model.get(PATH_UPPER_LABEL_SHOW) ? model.get(PATH_UPPER_LABEL_HEIGHT) : 0;\n}\n\nmodule.exports = _default;"]}]}