{"remainingRequest":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/babel-loader/lib/index.js!/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/echarts/lib/model/Global.js","dependencies":[{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/echarts/lib/model/Global.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF90eXBlb2YgPSByZXF1aXJlKCIvVXNlcnMvaWQtcmVwYWlyL0RvY3VtZW50cy9TRU9MLzRjLWRhc2hib2FyZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YiKS5kZWZhdWx0OwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyIpOwoKLyoKKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lCiogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24KKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlCiogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQoqICJMaWNlbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2UKKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAoqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwoqIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwp2YXIgX2NvbmZpZyA9IHJlcXVpcmUoIi4uL2NvbmZpZyIpOwoKdmFyIF9fREVWX18gPSBfY29uZmlnLl9fREVWX187Cgp2YXIgX3V0aWwgPSByZXF1aXJlKCJ6cmVuZGVyL2xpYi9jb3JlL3V0aWwiKTsKCnZhciBlYWNoID0gX3V0aWwuZWFjaDsKdmFyIGZpbHRlciA9IF91dGlsLmZpbHRlcjsKdmFyIG1hcCA9IF91dGlsLm1hcDsKdmFyIGlzQXJyYXkgPSBfdXRpbC5pc0FycmF5Owp2YXIgaW5kZXhPZiA9IF91dGlsLmluZGV4T2Y7CnZhciBpc09iamVjdCA9IF91dGlsLmlzT2JqZWN0Owp2YXIgaXNTdHJpbmcgPSBfdXRpbC5pc1N0cmluZzsKdmFyIGNyZWF0ZUhhc2hNYXAgPSBfdXRpbC5jcmVhdGVIYXNoTWFwOwp2YXIgYXNzZXJ0ID0gX3V0aWwuYXNzZXJ0Owp2YXIgY2xvbmUgPSBfdXRpbC5jbG9uZTsKdmFyIG1lcmdlID0gX3V0aWwubWVyZ2U7CnZhciBleHRlbmQgPSBfdXRpbC5leHRlbmQ7CnZhciBtaXhpbiA9IF91dGlsLm1peGluOwoKdmFyIG1vZGVsVXRpbCA9IHJlcXVpcmUoIi4uL3V0aWwvbW9kZWwiKTsKCnZhciBNb2RlbCA9IHJlcXVpcmUoIi4vTW9kZWwiKTsKCnZhciBDb21wb25lbnRNb2RlbCA9IHJlcXVpcmUoIi4vQ29tcG9uZW50Iik7Cgp2YXIgZ2xvYmFsRGVmYXVsdCA9IHJlcXVpcmUoIi4vZ2xvYmFsRGVmYXVsdCIpOwoKdmFyIGNvbG9yUGFsZXR0ZU1peGluID0gcmVxdWlyZSgiLi9taXhpbi9jb2xvclBhbGV0dGUiKTsKCnZhciBfc291cmNlSGVscGVyID0gcmVxdWlyZSgiLi4vZGF0YS9oZWxwZXIvc291cmNlSGVscGVyIik7Cgp2YXIgcmVzZXRTb3VyY2VEZWZhdWx0ZXIgPSBfc291cmNlSGVscGVyLnJlc2V0U291cmNlRGVmYXVsdGVyOwovKgoqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmUKKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbgoqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiogIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZQoqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4KKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUKKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zCiogdW5kZXIgdGhlIExpY2Vuc2UuCiovCgovKioKICogRUNoYXJ0cyBnbG9iYWwgbW9kZWwKICoKICogQG1vZHVsZSB7ZWNoYXJ0cy9tb2RlbC9HbG9iYWx9CiAqLwoKLyoqCiAqIENhdXRpb246IElmIHRoZSBtZWNoYW5pc20gc2hvdWxkIGJlIGNoYW5nZWQgc29tZSBkYXksIHRoZXNlIGNhc2VzCiAqIHNob3VsZCBiZSBjb25zaWRlcmVkOgogKgogKiAoMSkgSW4gYG1lcmdlIG9wdGlvbmAgbW9kZSwgaWYgdXNpbmcgdGhlIHNhbWUgb3B0aW9uIHRvIGNhbGwgYHNldE9wdGlvbmAKICogbWFueSB0aW1lcywgdGhlIHJlc3VsdCBzaG91bGQgYmUgdGhlIHNhbWUgKHRyeSBvdXIgYmVzdCB0byBlbnN1cmUgdGhhdCkuCiAqICgyKSBJbiBgbWVyZ2Ugb3B0aW9uYCBtb2RlLCBpZiBhIGNvbXBvbmVudCBoYXMgbm8gaWQvbmFtZSBzcGVjaWZpZWQsIGl0CiAqIHdpbGwgYmUgbWVyZ2VkIGJ5IGluZGV4LCBhbmQgdGhlIHJlc3VsdCBzZXF1ZW5jZSBvZiB0aGUgY29tcG9uZW50cyBpcwogKiBjb25zaXN0ZW50IHRvIHRoZSBvcmlnaW5hbCBzZXF1ZW5jZS4KICogKDMpIGByZXNldGAgZmVhdHVyZSAoaW4gdG9vbGJveCkuIEZpbmQgZGV0YWlsZWQgaW5mbyBpbiBjb21tZW50cyBhYm91dAogKiBgbWVyZ2VPcHRpb25gIGluIG1vZHVsZTplY2hhcnRzL21vZGVsL09wdGlvbk1hbmFnZXIuCiAqLwoKdmFyIE9QVElPTl9JTk5FUl9LRVkgPSAnXDBfZWNfaW5uZXInOwovKioKICogQGFsaWFzIG1vZHVsZTplY2hhcnRzL21vZGVsL0dsb2JhbAogKgogKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uCiAqIEBwYXJhbSB7bW9kdWxlOmVjaGFydHMvbW9kZWwvTW9kZWx9IHBhcmVudE1vZGVsCiAqIEBwYXJhbSB7T2JqZWN0fSB0aGVtZQogKi8KCnZhciBHbG9iYWxNb2RlbCA9IE1vZGVsLmV4dGVuZCh7CiAgaW5pdDogZnVuY3Rpb24gaW5pdChvcHRpb24sIHBhcmVudE1vZGVsLCB0aGVtZSwgb3B0aW9uTWFuYWdlcikgewogICAgdGhlbWUgPSB0aGVtZSB8fCB7fTsKICAgIHRoaXMub3B0aW9uID0gbnVsbDsgLy8gTWFyayBhcyBub3QgaW5pdGlhbGl6ZWQuCgogICAgLyoqCiAgICAgKiBAdHlwZSB7bW9kdWxlOmVjaGFydHMvbW9kZWwvTW9kZWx9CiAgICAgKiBAcHJpdmF0ZQogICAgICovCgogICAgdGhpcy5fdGhlbWUgPSBuZXcgTW9kZWwodGhlbWUpOwogICAgLyoqCiAgICAgKiBAdHlwZSB7bW9kdWxlOmVjaGFydHMvbW9kZWwvT3B0aW9uTWFuYWdlcn0KICAgICAqLwoKICAgIHRoaXMuX29wdGlvbk1hbmFnZXIgPSBvcHRpb25NYW5hZ2VyOwogIH0sCiAgc2V0T3B0aW9uOiBmdW5jdGlvbiBzZXRPcHRpb24ob3B0aW9uLCBvcHRpb25QcmVwcm9jZXNzb3JGdW5jcykgewogICAgYXNzZXJ0KCEoT1BUSU9OX0lOTkVSX0tFWSBpbiBvcHRpb24pLCAncGxlYXNlIHVzZSBjaGFydC5nZXRPcHRpb24oKScpOwoKICAgIHRoaXMuX29wdGlvbk1hbmFnZXIuc2V0T3B0aW9uKG9wdGlvbiwgb3B0aW9uUHJlcHJvY2Vzc29yRnVuY3MpOwoKICAgIHRoaXMucmVzZXRPcHRpb24obnVsbCk7CiAgfSwKCiAgLyoqCiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgbnVsbC91bmRlZmluZWQ6IHJlc2V0IGFsbC4KICAgKiAgICAgICAgICAgICAgICAgICAgICAncmVjcmVhdGUnOiBmb3JjZSByZWNyZWF0ZSBhbGwuCiAgICogICAgICAgICAgICAgICAgICAgICAgJ3RpbWVsaW5lJzogb25seSByZXNldCB0aW1lbGluZSBvcHRpb24KICAgKiAgICAgICAgICAgICAgICAgICAgICAnbWVkaWEnOiBvbmx5IHJlc2V0IG1lZGlhIHF1ZXJ5IG9wdGlvbgogICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgb3B0aW9uIGNoYW5nZWQuCiAgICovCiAgcmVzZXRPcHRpb246IGZ1bmN0aW9uIHJlc2V0T3B0aW9uKHR5cGUpIHsKICAgIHZhciBvcHRpb25DaGFuZ2VkID0gZmFsc2U7CiAgICB2YXIgb3B0aW9uTWFuYWdlciA9IHRoaXMuX29wdGlvbk1hbmFnZXI7CgogICAgaWYgKCF0eXBlIHx8IHR5cGUgPT09ICdyZWNyZWF0ZScpIHsKICAgICAgdmFyIGJhc2VPcHRpb24gPSBvcHRpb25NYW5hZ2VyLm1vdW50T3B0aW9uKHR5cGUgPT09ICdyZWNyZWF0ZScpOwoKICAgICAgaWYgKCF0aGlzLm9wdGlvbiB8fCB0eXBlID09PSAncmVjcmVhdGUnKSB7CiAgICAgICAgaW5pdEJhc2UuY2FsbCh0aGlzLCBiYXNlT3B0aW9uKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnJlc3RvcmVEYXRhKCk7CiAgICAgICAgdGhpcy5tZXJnZU9wdGlvbihiYXNlT3B0aW9uKTsKICAgICAgfQoKICAgICAgb3B0aW9uQ2hhbmdlZCA9IHRydWU7CiAgICB9CgogICAgaWYgKHR5cGUgPT09ICd0aW1lbGluZScgfHwgdHlwZSA9PT0gJ21lZGlhJykgewogICAgICB0aGlzLnJlc3RvcmVEYXRhKCk7CiAgICB9CgogICAgaWYgKCF0eXBlIHx8IHR5cGUgPT09ICdyZWNyZWF0ZScgfHwgdHlwZSA9PT0gJ3RpbWVsaW5lJykgewogICAgICB2YXIgdGltZWxpbmVPcHRpb24gPSBvcHRpb25NYW5hZ2VyLmdldFRpbWVsaW5lT3B0aW9uKHRoaXMpOwogICAgICB0aW1lbGluZU9wdGlvbiAmJiAodGhpcy5tZXJnZU9wdGlvbih0aW1lbGluZU9wdGlvbiksIG9wdGlvbkNoYW5nZWQgPSB0cnVlKTsKICAgIH0KCiAgICBpZiAoIXR5cGUgfHwgdHlwZSA9PT0gJ3JlY3JlYXRlJyB8fCB0eXBlID09PSAnbWVkaWEnKSB7CiAgICAgIHZhciBtZWRpYU9wdGlvbnMgPSBvcHRpb25NYW5hZ2VyLmdldE1lZGlhT3B0aW9uKHRoaXMsIHRoaXMuX2FwaSk7CgogICAgICBpZiAobWVkaWFPcHRpb25zLmxlbmd0aCkgewogICAgICAgIGVhY2gobWVkaWFPcHRpb25zLCBmdW5jdGlvbiAobWVkaWFPcHRpb24pIHsKICAgICAgICAgIHRoaXMubWVyZ2VPcHRpb24obWVkaWFPcHRpb24sIG9wdGlvbkNoYW5nZWQgPSB0cnVlKTsKICAgICAgICB9LCB0aGlzKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBvcHRpb25DaGFuZ2VkOwogIH0sCgogIC8qKgogICAqIEBwcm90ZWN0ZWQKICAgKi8KICBtZXJnZU9wdGlvbjogZnVuY3Rpb24gbWVyZ2VPcHRpb24obmV3T3B0aW9uKSB7CiAgICB2YXIgb3B0aW9uID0gdGhpcy5vcHRpb247CiAgICB2YXIgY29tcG9uZW50c01hcCA9IHRoaXMuX2NvbXBvbmVudHNNYXA7CiAgICB2YXIgbmV3Q3B0VHlwZXMgPSBbXTsKICAgIHJlc2V0U291cmNlRGVmYXVsdGVyKHRoaXMpOyAvLyBJZiBubyBjb21wb25lbnQgY2xhc3MsIG1lcmdlIGRpcmVjdGx5LgogICAgLy8gRm9yIGV4YW1wbGU6IGNvbG9yLCBhbmltYWl0b24gb3B0aW9ucywgZXRjLgoKICAgIGVhY2gobmV3T3B0aW9uLCBmdW5jdGlvbiAoY29tcG9uZW50T3B0aW9uLCBtYWluVHlwZSkgewogICAgICBpZiAoY29tcG9uZW50T3B0aW9uID09IG51bGwpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICghQ29tcG9uZW50TW9kZWwuaGFzQ2xhc3MobWFpblR5cGUpKSB7CiAgICAgICAgLy8gZ2xvYmFsU2V0dGluZ1Rhc2suZGlydHkoKTsKICAgICAgICBvcHRpb25bbWFpblR5cGVdID0gb3B0aW9uW21haW5UeXBlXSA9PSBudWxsID8gY2xvbmUoY29tcG9uZW50T3B0aW9uKSA6IG1lcmdlKG9wdGlvblttYWluVHlwZV0sIGNvbXBvbmVudE9wdGlvbiwgdHJ1ZSk7CiAgICAgIH0gZWxzZSBpZiAobWFpblR5cGUpIHsKICAgICAgICBuZXdDcHRUeXBlcy5wdXNoKG1haW5UeXBlKTsKICAgICAgfQogICAgfSk7CiAgICBDb21wb25lbnRNb2RlbC50b3BvbG9naWNhbFRyYXZlbChuZXdDcHRUeXBlcywgQ29tcG9uZW50TW9kZWwuZ2V0QWxsQ2xhc3NNYWluVHlwZXMoKSwgdmlzaXRDb21wb25lbnQsIHRoaXMpOwoKICAgIGZ1bmN0aW9uIHZpc2l0Q29tcG9uZW50KG1haW5UeXBlLCBkZXBlbmRlbmNpZXMpIHsKICAgICAgdmFyIG5ld0NwdE9wdGlvbkxpc3QgPSBtb2RlbFV0aWwubm9ybWFsaXplVG9BcnJheShuZXdPcHRpb25bbWFpblR5cGVdKTsKICAgICAgdmFyIG1hcFJlc3VsdCA9IG1vZGVsVXRpbC5tYXBwaW5nVG9FeGlzdHMoY29tcG9uZW50c01hcC5nZXQobWFpblR5cGUpLCBuZXdDcHRPcHRpb25MaXN0KTsKICAgICAgbW9kZWxVdGlsLm1ha2VJZEFuZE5hbWUobWFwUmVzdWx0KTsgLy8gU2V0IG1haW5UeXBlIGFuZCBjb21wbGV0ZSBzdWJUeXBlLgoKICAgICAgZWFjaChtYXBSZXN1bHQsIGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgIHZhciBvcHQgPSBpdGVtLm9wdGlvbjsKCiAgICAgICAgaWYgKGlzT2JqZWN0KG9wdCkpIHsKICAgICAgICAgIGl0ZW0ua2V5SW5mby5tYWluVHlwZSA9IG1haW5UeXBlOwogICAgICAgICAgaXRlbS5rZXlJbmZvLnN1YlR5cGUgPSBkZXRlcm1pbmVTdWJUeXBlKG1haW5UeXBlLCBvcHQsIGl0ZW0uZXhpc3QpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHZhciBkZXBlbmRlbnRNb2RlbHMgPSBnZXRDb21wb25lbnRzQnlUeXBlcyhjb21wb25lbnRzTWFwLCBkZXBlbmRlbmNpZXMpOwogICAgICBvcHRpb25bbWFpblR5cGVdID0gW107CiAgICAgIGNvbXBvbmVudHNNYXAuc2V0KG1haW5UeXBlLCBbXSk7CiAgICAgIGVhY2gobWFwUmVzdWx0LCBmdW5jdGlvbiAocmVzdWx0SXRlbSwgaW5kZXgpIHsKICAgICAgICB2YXIgY29tcG9uZW50TW9kZWwgPSByZXN1bHRJdGVtLmV4aXN0OwogICAgICAgIHZhciBuZXdDcHRPcHRpb24gPSByZXN1bHRJdGVtLm9wdGlvbjsKICAgICAgICBhc3NlcnQoaXNPYmplY3QobmV3Q3B0T3B0aW9uKSB8fCBjb21wb25lbnRNb2RlbCwgJ0VtcHR5IGNvbXBvbmVudCBkZWZpbml0aW9uJyk7IC8vIENvbnNpZGVyIHdoZXJlIGlzIG5vIG5ldyBvcHRpb24gYW5kIHNob3VsZCBiZSBtZXJnZWQgdXNpbmcge30sCiAgICAgICAgLy8gc2VlIHJlbW92ZUVkZ2VBbmRBZGQgaW4gdG9wb2xvZ2ljYWxUcmF2ZWwgYW5kCiAgICAgICAgLy8gQ29tcG9uZW50TW9kZWwuZ2V0QWxsQ2xhc3NNYWluVHlwZXMuCgogICAgICAgIGlmICghbmV3Q3B0T3B0aW9uKSB7CiAgICAgICAgICBjb21wb25lbnRNb2RlbC5tZXJnZU9wdGlvbih7fSwgdGhpcyk7CiAgICAgICAgICBjb21wb25lbnRNb2RlbC5vcHRpb25VcGRhdGVkKHt9LCBmYWxzZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBDb21wb25lbnRNb2RlbENsYXNzID0gQ29tcG9uZW50TW9kZWwuZ2V0Q2xhc3MobWFpblR5cGUsIHJlc3VsdEl0ZW0ua2V5SW5mby5zdWJUeXBlLCB0cnVlKTsKCiAgICAgICAgICBpZiAoY29tcG9uZW50TW9kZWwgJiYgY29tcG9uZW50TW9kZWwuY29uc3RydWN0b3IgPT09IENvbXBvbmVudE1vZGVsQ2xhc3MpIHsKICAgICAgICAgICAgY29tcG9uZW50TW9kZWwubmFtZSA9IHJlc3VsdEl0ZW0ua2V5SW5mby5uYW1lOyAvLyBjb21wb25lbnRNb2RlbC5zZXR0aW5nVGFzayAmJiBjb21wb25lbnRNb2RlbC5zZXR0aW5nVGFzay5kaXJ0eSgpOwoKICAgICAgICAgICAgY29tcG9uZW50TW9kZWwubWVyZ2VPcHRpb24obmV3Q3B0T3B0aW9uLCB0aGlzKTsKICAgICAgICAgICAgY29tcG9uZW50TW9kZWwub3B0aW9uVXBkYXRlZChuZXdDcHRPcHRpb24sIGZhbHNlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIFBFTkRJTkcgR2xvYmFsIGFzIHBhcmVudCA/CiAgICAgICAgICAgIHZhciBleHRyYU9wdCA9IGV4dGVuZCh7CiAgICAgICAgICAgICAgZGVwZW5kZW50TW9kZWxzOiBkZXBlbmRlbnRNb2RlbHMsCiAgICAgICAgICAgICAgY29tcG9uZW50SW5kZXg6IGluZGV4CiAgICAgICAgICAgIH0sIHJlc3VsdEl0ZW0ua2V5SW5mbyk7CiAgICAgICAgICAgIGNvbXBvbmVudE1vZGVsID0gbmV3IENvbXBvbmVudE1vZGVsQ2xhc3MobmV3Q3B0T3B0aW9uLCB0aGlzLCB0aGlzLCBleHRyYU9wdCk7CiAgICAgICAgICAgIGV4dGVuZChjb21wb25lbnRNb2RlbCwgZXh0cmFPcHQpOwogICAgICAgICAgICBjb21wb25lbnRNb2RlbC5pbml0KG5ld0NwdE9wdGlvbiwgdGhpcywgdGhpcywgZXh0cmFPcHQpOyAvLyBDYWxsIG9wdGlvblVwZGF0ZWQgYWZ0ZXIgaW5pdC4KICAgICAgICAgICAgLy8gbmV3Q3B0T3B0aW9uIGhhcyBiZWVuIHVzZWQgYXMgY29tcG9uZW50TW9kZWwub3B0aW9uCiAgICAgICAgICAgIC8vIGFuZCBtYXkgYmUgbWVyZ2VkIHdpdGggdGhlbWUgYW5kIGRlZmF1bHQsIHNvIHBhc3MgbnVsbAogICAgICAgICAgICAvLyB0byBhdm9pZCBjb25mdXNpb24uCgogICAgICAgICAgICBjb21wb25lbnRNb2RlbC5vcHRpb25VcGRhdGVkKG51bGwsIHRydWUpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY29tcG9uZW50c01hcC5nZXQobWFpblR5cGUpW2luZGV4XSA9IGNvbXBvbmVudE1vZGVsOwogICAgICAgIG9wdGlvblttYWluVHlwZV1baW5kZXhdID0gY29tcG9uZW50TW9kZWwub3B0aW9uOwogICAgICB9LCB0aGlzKTsgLy8gQmFja3VwIHNlcmllcyBmb3IgZmlsdGVyaW5nLgoKICAgICAgaWYgKG1haW5UeXBlID09PSAnc2VyaWVzJykgewogICAgICAgIGNyZWF0ZVNlcmllc0luZGljZXModGhpcywgY29tcG9uZW50c01hcC5nZXQoJ3NlcmllcycpKTsKICAgICAgfQogICAgfQoKICAgIHRoaXMuX3Nlcmllc0luZGljZXNNYXAgPSBjcmVhdGVIYXNoTWFwKHRoaXMuX3Nlcmllc0luZGljZXMgPSB0aGlzLl9zZXJpZXNJbmRpY2VzIHx8IFtdKTsKICB9LAoKICAvKioKICAgKiBHZXQgb3B0aW9uIGZvciBvdXRwdXQgKGNsb25lZCBvcHRpb24gYW5kIGlubmVyIGluZm8gcmVtb3ZlZCkKICAgKiBAcHVibGljCiAgICogQHJldHVybiB7T2JqZWN0fQogICAqLwogIGdldE9wdGlvbjogZnVuY3Rpb24gZ2V0T3B0aW9uKCkgewogICAgdmFyIG9wdGlvbiA9IGNsb25lKHRoaXMub3B0aW9uKTsKICAgIGVhY2gob3B0aW9uLCBmdW5jdGlvbiAob3B0cywgbWFpblR5cGUpIHsKICAgICAgaWYgKENvbXBvbmVudE1vZGVsLmhhc0NsYXNzKG1haW5UeXBlKSkgewogICAgICAgIHZhciBvcHRzID0gbW9kZWxVdGlsLm5vcm1hbGl6ZVRvQXJyYXkob3B0cyk7CgogICAgICAgIGZvciAodmFyIGkgPSBvcHRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICAvLyBSZW1vdmUgb3B0aW9ucyB3aXRoIGlubmVyIGlkLgogICAgICAgICAgaWYgKG1vZGVsVXRpbC5pc0lkSW5uZXIob3B0c1tpXSkpIHsKICAgICAgICAgICAgb3B0cy5zcGxpY2UoaSwgMSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBvcHRpb25bbWFpblR5cGVdID0gb3B0czsKICAgICAgfQogICAgfSk7CiAgICBkZWxldGUgb3B0aW9uW09QVElPTl9JTk5FUl9LRVldOwogICAgcmV0dXJuIG9wdGlvbjsKICB9LAoKICAvKioKICAgKiBAcmV0dXJuIHttb2R1bGU6ZWNoYXJ0cy9tb2RlbC9Nb2RlbH0KICAgKi8KICBnZXRUaGVtZTogZnVuY3Rpb24gZ2V0VGhlbWUoKSB7CiAgICByZXR1cm4gdGhpcy5fdGhlbWU7CiAgfSwKCiAgLyoqCiAgICogQHBhcmFtIHtzdHJpbmd9IG1haW5UeXBlCiAgICogQHBhcmFtIHtudW1iZXJ9IFtpZHg9MF0KICAgKiBAcmV0dXJuIHttb2R1bGU6ZWNoYXJ0cy9tb2RlbC9Db21wb25lbnR9CiAgICovCiAgZ2V0Q29tcG9uZW50OiBmdW5jdGlvbiBnZXRDb21wb25lbnQobWFpblR5cGUsIGlkeCkgewogICAgdmFyIGxpc3QgPSB0aGlzLl9jb21wb25lbnRzTWFwLmdldChtYWluVHlwZSk7CgogICAgaWYgKGxpc3QpIHsKICAgICAgcmV0dXJuIGxpc3RbaWR4IHx8IDBdOwogICAgfQogIH0sCgogIC8qKgogICAqIElmIG5vbmUgb2YgaW5kZXggYW5kIGlkIGFuZCBuYW1lIHVzZWQsIHJldHVybiBhbGwgY29tcG9uZW50cyB3aXRoIG1haW5UeXBlLgogICAqIEBwYXJhbSB7T2JqZWN0fSBjb25kaXRpb24KICAgKiBAcGFyYW0ge3N0cmluZ30gY29uZGl0aW9uLm1haW5UeXBlCiAgICogQHBhcmFtIHtzdHJpbmd9IFtjb25kaXRpb24uc3ViVHlwZV0gSWYgaWdub3JlLCBvbmx5IHF1ZXJ5IGJ5IG1haW5UeXBlCiAgICogQHBhcmFtIHtudW1iZXJ8QXJyYXkuPG51bWJlcj59IFtjb25kaXRpb24uaW5kZXhdIEVpdGhlciBpbnB1dCBpbmRleCBvciBpZCBvciBuYW1lLgogICAqIEBwYXJhbSB7c3RyaW5nfEFycmF5LjxzdHJpbmc+fSBbY29uZGl0aW9uLmlkXSBFaXRoZXIgaW5wdXQgaW5kZXggb3IgaWQgb3IgbmFtZS4KICAgKiBAcGFyYW0ge3N0cmluZ3xBcnJheS48c3RyaW5nPn0gW2NvbmRpdGlvbi5uYW1lXSBFaXRoZXIgaW5wdXQgaW5kZXggb3IgaWQgb3IgbmFtZS4KICAgKiBAcmV0dXJuIHtBcnJheS48bW9kdWxlOmVjaGFydHMvbW9kZWwvQ29tcG9uZW50Pn0KICAgKi8KICBxdWVyeUNvbXBvbmVudHM6IGZ1bmN0aW9uIHF1ZXJ5Q29tcG9uZW50cyhjb25kaXRpb24pIHsKICAgIHZhciBtYWluVHlwZSA9IGNvbmRpdGlvbi5tYWluVHlwZTsKCiAgICBpZiAoIW1haW5UeXBlKSB7CiAgICAgIHJldHVybiBbXTsKICAgIH0KCiAgICB2YXIgaW5kZXggPSBjb25kaXRpb24uaW5kZXg7CiAgICB2YXIgaWQgPSBjb25kaXRpb24uaWQ7CiAgICB2YXIgbmFtZSA9IGNvbmRpdGlvbi5uYW1lOwoKICAgIHZhciBjcHRzID0gdGhpcy5fY29tcG9uZW50c01hcC5nZXQobWFpblR5cGUpOwoKICAgIGlmICghY3B0cyB8fCAhY3B0cy5sZW5ndGgpIHsKICAgICAgcmV0dXJuIFtdOwogICAgfQoKICAgIHZhciByZXN1bHQ7CgogICAgaWYgKGluZGV4ICE9IG51bGwpIHsKICAgICAgaWYgKCFpc0FycmF5KGluZGV4KSkgewogICAgICAgIGluZGV4ID0gW2luZGV4XTsKICAgICAgfQoKICAgICAgcmVzdWx0ID0gZmlsdGVyKG1hcChpbmRleCwgZnVuY3Rpb24gKGlkeCkgewogICAgICAgIHJldHVybiBjcHRzW2lkeF07CiAgICAgIH0pLCBmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgcmV0dXJuICEhdmFsOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAoaWQgIT0gbnVsbCkgewogICAgICB2YXIgaXNJZEFycmF5ID0gaXNBcnJheShpZCk7CiAgICAgIHJlc3VsdCA9IGZpbHRlcihjcHRzLCBmdW5jdGlvbiAoY3B0KSB7CiAgICAgICAgcmV0dXJuIGlzSWRBcnJheSAmJiBpbmRleE9mKGlkLCBjcHQuaWQpID49IDAgfHwgIWlzSWRBcnJheSAmJiBjcHQuaWQgPT09IGlkOwogICAgICB9KTsKICAgIH0gZWxzZSBpZiAobmFtZSAhPSBudWxsKSB7CiAgICAgIHZhciBpc05hbWVBcnJheSA9IGlzQXJyYXkobmFtZSk7CiAgICAgIHJlc3VsdCA9IGZpbHRlcihjcHRzLCBmdW5jdGlvbiAoY3B0KSB7CiAgICAgICAgcmV0dXJuIGlzTmFtZUFycmF5ICYmIGluZGV4T2YobmFtZSwgY3B0Lm5hbWUpID49IDAgfHwgIWlzTmFtZUFycmF5ICYmIGNwdC5uYW1lID09PSBuYW1lOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIFJldHVybiBhbGwgY29tcG9uZW50cyB3aXRoIG1haW5UeXBlCiAgICAgIHJlc3VsdCA9IGNwdHMuc2xpY2UoKTsKICAgIH0KCiAgICByZXR1cm4gZmlsdGVyQnlTdWJUeXBlKHJlc3VsdCwgY29uZGl0aW9uKTsKICB9LAoKICAvKioKICAgKiBUaGUgaW50ZXJmYWNlIGlzIGRpZmZlcmVudCBmcm9tIHF1ZXJ5Q29tcG9uZW50cywKICAgKiB3aGljaCBpcyBjb252ZW5pZW50IGZvciBpbm5lciB1c2FnZS4KICAgKgogICAqIEB1c2FnZQogICAqIHZhciByZXN1bHQgPSBmaW5kQ29tcG9uZW50cygKICAgKiAgICAge21haW5UeXBlOiAnZGF0YVpvb20nLCBxdWVyeToge2RhdGFab29tSWQ6ICdhYmMnfX0KICAgKiApOwogICAqIHZhciByZXN1bHQgPSBmaW5kQ29tcG9uZW50cygKICAgKiAgICAge21haW5UeXBlOiAnc2VyaWVzJywgc3ViVHlwZTogJ3BpZScsIHF1ZXJ5OiB7c2VyaWVzTmFtZTogJ3Vpbyd9fQogICAqICk7CiAgICogdmFyIHJlc3VsdCA9IGZpbmRDb21wb25lbnRzKAogICAqICAgICB7bWFpblR5cGU6ICdzZXJpZXMnLAogICAqICAgICBmaWx0ZXI6IGZ1bmN0aW9uIChtb2RlbCwgaW5kZXgpIHsuLi59fQogICAqICk7CiAgICogLy8gcmVzdWx0IGxpa2UgW2NvbXBvbmVudDAsIGNvbXBvbm5ldDEsIC4uLl0KICAgKgogICAqIEBwYXJhbSB7T2JqZWN0fSBjb25kaXRpb24KICAgKiBAcGFyYW0ge3N0cmluZ30gY29uZGl0aW9uLm1haW5UeXBlIE1hbmRhdG9yeS4KICAgKiBAcGFyYW0ge3N0cmluZ30gW2NvbmRpdGlvbi5zdWJUeXBlXSBPcHRpb25hbC4KICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmRpdGlvbi5xdWVyeV0gbGlrZSB7eHh4SW5kZXgsIHh4eElkLCB4eHhOYW1lfSwKICAgKiAgICAgICAgd2hlcmUgeHh4IGlzIG1haW5UeXBlLgogICAqICAgICAgICBJZiBxdWVyeSBhdHRyaWJ1dGUgaXMgbnVsbC91bmRlZmluZWQgb3IgaGFzIG5vIGluZGV4L2lkL25hbWUsCiAgICogICAgICAgIGRvIG5vdCBmaWx0ZXJpbmcgYnkgcXVlcnkgY29uZGl0aW9ucywgd2hpY2ggaXMgY29udmVuaWVudCBmb3IKICAgKiAgICAgICAgbm8tcGF5bG9hZCBzaXR1YXRpb25zIG9yIHdoZW4gdGFyZ2V0IG9mIGFjdGlvbiBpcyBnbG9iYWwuCiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbmRpdGlvbi5maWx0ZXJdIHBhcmFtZXRlcjogY29tcG9uZW50LCByZXR1cm4gYm9vbGVhbi4KICAgKiBAcmV0dXJuIHtBcnJheS48bW9kdWxlOmVjaGFydHMvbW9kZWwvQ29tcG9uZW50Pn0KICAgKi8KICBmaW5kQ29tcG9uZW50czogZnVuY3Rpb24gZmluZENvbXBvbmVudHMoY29uZGl0aW9uKSB7CiAgICB2YXIgcXVlcnkgPSBjb25kaXRpb24ucXVlcnk7CiAgICB2YXIgbWFpblR5cGUgPSBjb25kaXRpb24ubWFpblR5cGU7CiAgICB2YXIgcXVlcnlDb25kID0gZ2V0UXVlcnlDb25kKHF1ZXJ5KTsKICAgIHZhciByZXN1bHQgPSBxdWVyeUNvbmQgPyB0aGlzLnF1ZXJ5Q29tcG9uZW50cyhxdWVyeUNvbmQpIDogdGhpcy5fY29tcG9uZW50c01hcC5nZXQobWFpblR5cGUpOwogICAgcmV0dXJuIGRvRmlsdGVyKGZpbHRlckJ5U3ViVHlwZShyZXN1bHQsIGNvbmRpdGlvbikpOwoKICAgIGZ1bmN0aW9uIGdldFF1ZXJ5Q29uZChxKSB7CiAgICAgIHZhciBpbmRleEF0dHIgPSBtYWluVHlwZSArICdJbmRleCc7CiAgICAgIHZhciBpZEF0dHIgPSBtYWluVHlwZSArICdJZCc7CiAgICAgIHZhciBuYW1lQXR0ciA9IG1haW5UeXBlICsgJ05hbWUnOwogICAgICByZXR1cm4gcSAmJiAocVtpbmRleEF0dHJdICE9IG51bGwgfHwgcVtpZEF0dHJdICE9IG51bGwgfHwgcVtuYW1lQXR0cl0gIT0gbnVsbCkgPyB7CiAgICAgICAgbWFpblR5cGU6IG1haW5UeXBlLAogICAgICAgIC8vIHN1YlR5cGUgd2lsbCBiZSBmaWx0ZXJlZCBmaW5hbGx5LgogICAgICAgIGluZGV4OiBxW2luZGV4QXR0cl0sCiAgICAgICAgaWQ6IHFbaWRBdHRyXSwKICAgICAgICBuYW1lOiBxW25hbWVBdHRyXQogICAgICB9IDogbnVsbDsKICAgIH0KCiAgICBmdW5jdGlvbiBkb0ZpbHRlcihyZXMpIHsKICAgICAgcmV0dXJuIGNvbmRpdGlvbi5maWx0ZXIgPyBmaWx0ZXIocmVzLCBjb25kaXRpb24uZmlsdGVyKSA6IHJlczsKICAgIH0KICB9LAoKICAvKioKICAgKiBAdXNhZ2UKICAgKiBlYWNoQ29tcG9uZW50KCdsZWdlbmQnLCBmdW5jdGlvbiAobGVnZW5kTW9kZWwsIGluZGV4KSB7CiAgICogICAgIC4uLgogICAqIH0pOwogICAqIGVhY2hDb21wb25lbnQoZnVuY3Rpb24gKGNvbXBvbmVudFR5cGUsIG1vZGVsLCBpbmRleCkgewogICAqICAgICAvLyBjb21wb25lbnRUeXBlIGRvZXMgbm90IGluY2x1ZGUgc3ViVHlwZQogICAqICAgICAvLyAoY29tcG9uZW50VHlwZSBpcyAneHh4JyBidXQgbm90ICd4eHguYWEnKQogICAqIH0pOwogICAqIGVhY2hDb21wb25lbnQoCiAgICogICAgIHttYWluVHlwZTogJ2RhdGFab29tJywgcXVlcnk6IHtkYXRhWm9vbUlkOiAnYWJjJ319LAogICAqICAgICBmdW5jdGlvbiAobW9kZWwsIGluZGV4KSB7Li4ufQogICAqICk7CiAgICogZWFjaENvbXBvbmVudCgKICAgKiAgICAge21haW5UeXBlOiAnc2VyaWVzJywgc3ViVHlwZTogJ3BpZScsIHF1ZXJ5OiB7c2VyaWVzTmFtZTogJ3Vpbyd9fSwKICAgKiAgICAgZnVuY3Rpb24gKG1vZGVsLCBpbmRleCkgey4uLn0KICAgKiApOwogICAqCiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0PX0gbWFpblR5cGUgV2hlbiBtYWluVHlwZSBpcyBvYmplY3QsIHRoZSBkZWZpbml0aW9uCiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgdGhlIHNhbWUgYXMgdGhlIG1ldGhvZCAnZmluZENvbXBvbmVudHMnLgogICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiCiAgICogQHBhcmFtIHsqfSBjb250ZXh0CiAgICovCiAgZWFjaENvbXBvbmVudDogZnVuY3Rpb24gZWFjaENvbXBvbmVudChtYWluVHlwZSwgY2IsIGNvbnRleHQpIHsKICAgIHZhciBjb21wb25lbnRzTWFwID0gdGhpcy5fY29tcG9uZW50c01hcDsKCiAgICBpZiAodHlwZW9mIG1haW5UeXBlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIGNvbnRleHQgPSBjYjsKICAgICAgY2IgPSBtYWluVHlwZTsKICAgICAgY29tcG9uZW50c01hcC5lYWNoKGZ1bmN0aW9uIChjb21wb25lbnRzLCBjb21wb25lbnRUeXBlKSB7CiAgICAgICAgZWFjaChjb21wb25lbnRzLCBmdW5jdGlvbiAoY29tcG9uZW50LCBpbmRleCkgewogICAgICAgICAgY2IuY2FsbChjb250ZXh0LCBjb21wb25lbnRUeXBlLCBjb21wb25lbnQsIGluZGV4KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKG1haW5UeXBlKSkgewogICAgICBlYWNoKGNvbXBvbmVudHNNYXAuZ2V0KG1haW5UeXBlKSwgY2IsIGNvbnRleHQpOwogICAgfSBlbHNlIGlmIChpc09iamVjdChtYWluVHlwZSkpIHsKICAgICAgdmFyIHF1ZXJ5UmVzdWx0ID0gdGhpcy5maW5kQ29tcG9uZW50cyhtYWluVHlwZSk7CiAgICAgIGVhY2gocXVlcnlSZXN1bHQsIGNiLCBjb250ZXh0KTsKICAgIH0KICB9LAoKICAvKioKICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZQogICAqIEByZXR1cm4ge0FycmF5Ljxtb2R1bGU6ZWNoYXJ0cy9tb2RlbC9TZXJpZXM+fQogICAqLwogIGdldFNlcmllc0J5TmFtZTogZnVuY3Rpb24gZ2V0U2VyaWVzQnlOYW1lKG5hbWUpIHsKICAgIHZhciBzZXJpZXMgPSB0aGlzLl9jb21wb25lbnRzTWFwLmdldCgnc2VyaWVzJyk7CgogICAgcmV0dXJuIGZpbHRlcihzZXJpZXMsIGZ1bmN0aW9uIChvbmVTZXJpZXMpIHsKICAgICAgcmV0dXJuIG9uZVNlcmllcy5uYW1lID09PSBuYW1lOwogICAgfSk7CiAgfSwKCiAgLyoqCiAgICogQHBhcmFtIHtudW1iZXJ9IHNlcmllc0luZGV4CiAgICogQHJldHVybiB7bW9kdWxlOmVjaGFydHMvbW9kZWwvU2VyaWVzfQogICAqLwogIGdldFNlcmllc0J5SW5kZXg6IGZ1bmN0aW9uIGdldFNlcmllc0J5SW5kZXgoc2VyaWVzSW5kZXgpIHsKICAgIHJldHVybiB0aGlzLl9jb21wb25lbnRzTWFwLmdldCgnc2VyaWVzJylbc2VyaWVzSW5kZXhdOwogIH0sCgogIC8qKgogICAqIEdldCBzZXJpZXMgbGlzdCBiZWZvcmUgZmlsdGVyZWQgYnkgdHlwZS4KICAgKiBGSVhNRTogcmVuYW1lIHRvIGdldFJhd1Nlcmllc0J5VHlwZT8KICAgKgogICAqIEBwYXJhbSB7c3RyaW5nfSBzdWJUeXBlCiAgICogQHJldHVybiB7QXJyYXkuPG1vZHVsZTplY2hhcnRzL21vZGVsL1Nlcmllcz59CiAgICovCiAgZ2V0U2VyaWVzQnlUeXBlOiBmdW5jdGlvbiBnZXRTZXJpZXNCeVR5cGUoc3ViVHlwZSkgewogICAgdmFyIHNlcmllcyA9IHRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCdzZXJpZXMnKTsKCiAgICByZXR1cm4gZmlsdGVyKHNlcmllcywgZnVuY3Rpb24gKG9uZVNlcmllcykgewogICAgICByZXR1cm4gb25lU2VyaWVzLnN1YlR5cGUgPT09IHN1YlR5cGU7CiAgICB9KTsKICB9LAoKICAvKioKICAgKiBAcmV0dXJuIHtBcnJheS48bW9kdWxlOmVjaGFydHMvbW9kZWwvU2VyaWVzPn0KICAgKi8KICBnZXRTZXJpZXM6IGZ1bmN0aW9uIGdldFNlcmllcygpIHsKICAgIHJldHVybiB0aGlzLl9jb21wb25lbnRzTWFwLmdldCgnc2VyaWVzJykuc2xpY2UoKTsKICB9LAoKICAvKioKICAgKiBAcmV0dXJuIHtudW1iZXJ9CiAgICovCiAgZ2V0U2VyaWVzQ291bnQ6IGZ1bmN0aW9uIGdldFNlcmllc0NvdW50KCkgewogICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCdzZXJpZXMnKS5sZW5ndGg7CiAgfSwKCiAgLyoqCiAgICogQWZ0ZXIgZmlsdGVyaW5nLCBzZXJpZXMgbWF5IGJlIGRpZmZlcmVudAogICAqIGZyb21lIHJhdyBzZXJpZXMuCiAgICoKICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYgogICAqIEBwYXJhbSB7Kn0gY29udGV4dAogICAqLwogIGVhY2hTZXJpZXM6IGZ1bmN0aW9uIGVhY2hTZXJpZXMoY2IsIGNvbnRleHQpIHsKICAgIGFzc2VydFNlcmllc0luaXRpYWxpemVkKHRoaXMpOwogICAgZWFjaCh0aGlzLl9zZXJpZXNJbmRpY2VzLCBmdW5jdGlvbiAocmF3U2VyaWVzSW5kZXgpIHsKICAgICAgdmFyIHNlcmllcyA9IHRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCdzZXJpZXMnKVtyYXdTZXJpZXNJbmRleF07CgogICAgICBjYi5jYWxsKGNvbnRleHQsIHNlcmllcywgcmF3U2VyaWVzSW5kZXgpOwogICAgfSwgdGhpcyk7CiAgfSwKCiAgLyoqCiAgICogSXRlcmF0ZSByYXcgc2VyaWVzIGJlZm9yZSBmaWx0ZXJlZC4KICAgKgogICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiCiAgICogQHBhcmFtIHsqfSBjb250ZXh0CiAgICovCiAgZWFjaFJhd1NlcmllczogZnVuY3Rpb24gZWFjaFJhd1NlcmllcyhjYiwgY29udGV4dCkgewogICAgZWFjaCh0aGlzLl9jb21wb25lbnRzTWFwLmdldCgnc2VyaWVzJyksIGNiLCBjb250ZXh0KTsKICB9LAoKICAvKioKICAgKiBBZnRlciBmaWx0ZXJpbmcsIHNlcmllcyBtYXkgYmUgZGlmZmVyZW50LgogICAqIGZyb21lIHJhdyBzZXJpZXMuCiAgICoKICAgKiBAcGFyYW0ge3N0cmluZ30gc3ViVHlwZS4KICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYgogICAqIEBwYXJhbSB7Kn0gY29udGV4dAogICAqLwogIGVhY2hTZXJpZXNCeVR5cGU6IGZ1bmN0aW9uIGVhY2hTZXJpZXNCeVR5cGUoc3ViVHlwZSwgY2IsIGNvbnRleHQpIHsKICAgIGFzc2VydFNlcmllc0luaXRpYWxpemVkKHRoaXMpOwogICAgZWFjaCh0aGlzLl9zZXJpZXNJbmRpY2VzLCBmdW5jdGlvbiAocmF3U2VyaWVzSW5kZXgpIHsKICAgICAgdmFyIHNlcmllcyA9IHRoaXMuX2NvbXBvbmVudHNNYXAuZ2V0KCdzZXJpZXMnKVtyYXdTZXJpZXNJbmRleF07CgogICAgICBpZiAoc2VyaWVzLnN1YlR5cGUgPT09IHN1YlR5cGUpIHsKICAgICAgICBjYi5jYWxsKGNvbnRleHQsIHNlcmllcywgcmF3U2VyaWVzSW5kZXgpOwogICAgICB9CiAgICB9LCB0aGlzKTsKICB9LAoKICAvKioKICAgKiBJdGVyYXRlIHJhdyBzZXJpZXMgYmVmb3JlIGZpbHRlcmVkIG9mIGdpdmVuIHR5cGUuCiAgICoKICAgKiBAcGFybWEge3N0cmluZ30gc3ViVHlwZQogICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiCiAgICogQHBhcmFtIHsqfSBjb250ZXh0CiAgICovCiAgZWFjaFJhd1Nlcmllc0J5VHlwZTogZnVuY3Rpb24gZWFjaFJhd1Nlcmllc0J5VHlwZShzdWJUeXBlLCBjYiwgY29udGV4dCkgewogICAgcmV0dXJuIGVhY2godGhpcy5nZXRTZXJpZXNCeVR5cGUoc3ViVHlwZSksIGNiLCBjb250ZXh0KTsKICB9LAoKICAvKioKICAgKiBAcGFyYW0ge21vZHVsZTplY2hhcnRzL21vZGVsL1Nlcmllc30gc2VyaWVzTW9kZWwKICAgKi8KICBpc1Nlcmllc0ZpbHRlcmVkOiBmdW5jdGlvbiBpc1Nlcmllc0ZpbHRlcmVkKHNlcmllc01vZGVsKSB7CiAgICBhc3NlcnRTZXJpZXNJbml0aWFsaXplZCh0aGlzKTsKICAgIHJldHVybiB0aGlzLl9zZXJpZXNJbmRpY2VzTWFwLmdldChzZXJpZXNNb2RlbC5jb21wb25lbnRJbmRleCkgPT0gbnVsbDsKICB9LAoKICAvKioKICAgKiBAcmV0dXJuIHtBcnJheS48bnVtYmVyPn0KICAgKi8KICBnZXRDdXJyZW50U2VyaWVzSW5kaWNlczogZnVuY3Rpb24gZ2V0Q3VycmVudFNlcmllc0luZGljZXMoKSB7CiAgICByZXR1cm4gKHRoaXMuX3Nlcmllc0luZGljZXMgfHwgW10pLnNsaWNlKCk7CiAgfSwKCiAgLyoqCiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IKICAgKiBAcGFyYW0geyp9IGNvbnRleHQKICAgKi8KICBmaWx0ZXJTZXJpZXM6IGZ1bmN0aW9uIGZpbHRlclNlcmllcyhjYiwgY29udGV4dCkgewogICAgYXNzZXJ0U2VyaWVzSW5pdGlhbGl6ZWQodGhpcyk7CiAgICB2YXIgZmlsdGVyZWRTZXJpZXMgPSBmaWx0ZXIodGhpcy5fY29tcG9uZW50c01hcC5nZXQoJ3NlcmllcycpLCBjYiwgY29udGV4dCk7CiAgICBjcmVhdGVTZXJpZXNJbmRpY2VzKHRoaXMsIGZpbHRlcmVkU2VyaWVzKTsKICB9LAogIHJlc3RvcmVEYXRhOiBmdW5jdGlvbiByZXN0b3JlRGF0YShwYXlsb2FkKSB7CiAgICB2YXIgY29tcG9uZW50c01hcCA9IHRoaXMuX2NvbXBvbmVudHNNYXA7CiAgICBjcmVhdGVTZXJpZXNJbmRpY2VzKHRoaXMsIGNvbXBvbmVudHNNYXAuZ2V0KCdzZXJpZXMnKSk7CiAgICB2YXIgY29tcG9uZW50VHlwZXMgPSBbXTsKICAgIGNvbXBvbmVudHNNYXAuZWFjaChmdW5jdGlvbiAoY29tcG9uZW50cywgY29tcG9uZW50VHlwZSkgewogICAgICBjb21wb25lbnRUeXBlcy5wdXNoKGNvbXBvbmVudFR5cGUpOwogICAgfSk7CiAgICBDb21wb25lbnRNb2RlbC50b3BvbG9naWNhbFRyYXZlbChjb21wb25lbnRUeXBlcywgQ29tcG9uZW50TW9kZWwuZ2V0QWxsQ2xhc3NNYWluVHlwZXMoKSwgZnVuY3Rpb24gKGNvbXBvbmVudFR5cGUsIGRlcGVuZGVuY2llcykgewogICAgICBlYWNoKGNvbXBvbmVudHNNYXAuZ2V0KGNvbXBvbmVudFR5cGUpLCBmdW5jdGlvbiAoY29tcG9uZW50KSB7CiAgICAgICAgKGNvbXBvbmVudFR5cGUgIT09ICdzZXJpZXMnIHx8ICFpc05vdFRhcmdldFNlcmllcyhjb21wb25lbnQsIHBheWxvYWQpKSAmJiBjb21wb25lbnQucmVzdG9yZURhdGEoKTsKICAgICAgfSk7CiAgICB9KTsKICB9Cn0pOwoKZnVuY3Rpb24gaXNOb3RUYXJnZXRTZXJpZXMoc2VyaWVzTW9kZWwsIHBheWxvYWQpIHsKICBpZiAocGF5bG9hZCkgewogICAgdmFyIGluZGV4ID0gcGF5bG9hZC5zZWlyZXNJbmRleDsKICAgIHZhciBpZCA9IHBheWxvYWQuc2VyaWVzSWQ7CiAgICB2YXIgbmFtZSA9IHBheWxvYWQuc2VyaWVzTmFtZTsKICAgIHJldHVybiBpbmRleCAhPSBudWxsICYmIHNlcmllc01vZGVsLmNvbXBvbmVudEluZGV4ICE9PSBpbmRleCB8fCBpZCAhPSBudWxsICYmIHNlcmllc01vZGVsLmlkICE9PSBpZCB8fCBuYW1lICE9IG51bGwgJiYgc2VyaWVzTW9kZWwubmFtZSAhPT0gbmFtZTsKICB9Cn0KLyoqCiAqIEBpbm5lcgogKi8KCgpmdW5jdGlvbiBtZXJnZVRoZW1lKG9wdGlvbiwgdGhlbWUpIHsKICAvLyBQRU5ESU5HCiAgLy8gTk9UIHVzZSBgY29sb3JMYXllcmAgaW4gdGhlbWUgaWYgb3B0aW9uIGhhcyBgY29sb3JgCiAgdmFyIG5vdE1lcmdlQ29sb3JMYXllciA9IG9wdGlvbi5jb2xvciAmJiAhb3B0aW9uLmNvbG9yTGF5ZXI7CiAgZWFjaCh0aGVtZSwgZnVuY3Rpb24gKHRoZW1lSXRlbSwgbmFtZSkgewogICAgaWYgKG5hbWUgPT09ICdjb2xvckxheWVyJyAmJiBub3RNZXJnZUNvbG9yTGF5ZXIpIHsKICAgICAgcmV0dXJuOwogICAgfSAvLyDlpoLmnpzmnIkgY29tcG9uZW50IG1vZGVsIOWImeaKiuWFt+S9k+eahCBtZXJnZSDpgLvovpHkuqTnu5nor6UgbW9kZWwg5aSE55CGCgoKICAgIGlmICghQ29tcG9uZW50TW9kZWwuaGFzQ2xhc3MobmFtZSkpIHsKICAgICAgaWYgKF90eXBlb2YodGhlbWVJdGVtKSA9PT0gJ29iamVjdCcpIHsKICAgICAgICBvcHRpb25bbmFtZV0gPSAhb3B0aW9uW25hbWVdID8gY2xvbmUodGhlbWVJdGVtKSA6IG1lcmdlKG9wdGlvbltuYW1lXSwgdGhlbWVJdGVtLCBmYWxzZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKG9wdGlvbltuYW1lXSA9PSBudWxsKSB7CiAgICAgICAgICBvcHRpb25bbmFtZV0gPSB0aGVtZUl0ZW07CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSk7Cn0KCmZ1bmN0aW9uIGluaXRCYXNlKGJhc2VPcHRpb24pIHsKICBiYXNlT3B0aW9uID0gYmFzZU9wdGlvbjsgLy8gVXNpbmcgT1BUSU9OX0lOTkVSX0tFWSB0byBtYXJrIHRoYXQgdGhpcyBvcHRpb24gY2FuIG5vdCBiZSB1c2VkIG91dHNpZGUsCiAgLy8gaS5lLiBgY2hhcnQuc2V0T3B0aW9uKGNoYXJ0LmdldE1vZGVsKCkub3B0aW9uKTtgIGlzIGZvcmJpZGVuLgoKICB0aGlzLm9wdGlvbiA9IHt9OwogIHRoaXMub3B0aW9uW09QVElPTl9JTk5FUl9LRVldID0gMTsKICAvKioKICAgKiBJbml0IHdpdGggc2VyaWVzOiBbXSwgaW4gY2FzZSBvZiBjYWxsaW5nIGZpbmRTZXJpZXMgbWV0aG9kCiAgICogYmVmb3JlIHNlcmllcyBpbml0aWFsaXplZC4KICAgKiBAdHlwZSB7T2JqZWN0LjxzdHJpbmcsIEFycmF5Ljxtb2R1bGU6ZWNoYXJ0cy9tb2RlbC9Nb2RlbD4+fQogICAqIEBwcml2YXRlCiAgICovCgogIHRoaXMuX2NvbXBvbmVudHNNYXAgPSBjcmVhdGVIYXNoTWFwKHsKICAgIHNlcmllczogW10KICB9KTsKICAvKioKICAgKiBNYXBwaW5nIGJldHdlZW4gZmlsdGVyZWQgc2VyaWVzIGxpc3QgYW5kIHJhdyBzZXJpZXMgbGlzdC4KICAgKiBrZXk6IGZpbHRlcmVkIHNlcmllcyBpbmRpY2VzLCB2YWx1ZTogcmF3IHNlcmllcyBpbmRpY2VzLgogICAqIEB0eXBlIHtBcnJheS48bnVibWVyPn0KICAgKiBAcHJpdmF0ZQogICAqLwoKICB0aGlzLl9zZXJpZXNJbmRpY2VzOwogIHRoaXMuX3Nlcmllc0luZGljZXNNYXA7CiAgbWVyZ2VUaGVtZShiYXNlT3B0aW9uLCB0aGlzLl90aGVtZS5vcHRpb24pOyAvLyBUT0RPIE5lZWRzIGNsb25lIHdoZW4gbWVyZ2luZyB0byB0aGUgdW5leGlzdGVkIHByb3BlcnR5CgogIG1lcmdlKGJhc2VPcHRpb24sIGdsb2JhbERlZmF1bHQsIGZhbHNlKTsKICB0aGlzLm1lcmdlT3B0aW9uKGJhc2VPcHRpb24pOwp9Ci8qKgogKiBAaW5uZXIKICogQHBhcmFtIHtBcnJheS48c3RyaW5nPnxzdHJpbmd9IHR5cGVzIG1vZGVsIHR5cGVzCiAqIEByZXR1cm4ge09iamVjdH0ga2V5OiB7c3RyaW5nfSB0eXBlLCB2YWx1ZToge0FycmF5LjxPYmplY3Q+fSBtb2RlbHMKICovCgoKZnVuY3Rpb24gZ2V0Q29tcG9uZW50c0J5VHlwZXMoY29tcG9uZW50c01hcCwgdHlwZXMpIHsKICBpZiAoIWlzQXJyYXkodHlwZXMpKSB7CiAgICB0eXBlcyA9IHR5cGVzID8gW3R5cGVzXSA6IFtdOwogIH0KCiAgdmFyIHJldCA9IHt9OwogIGVhY2godHlwZXMsIGZ1bmN0aW9uICh0eXBlKSB7CiAgICByZXRbdHlwZV0gPSAoY29tcG9uZW50c01hcC5nZXQodHlwZSkgfHwgW10pLnNsaWNlKCk7CiAgfSk7CiAgcmV0dXJuIHJldDsKfQovKioKICogQGlubmVyCiAqLwoKCmZ1bmN0aW9uIGRldGVybWluZVN1YlR5cGUobWFpblR5cGUsIG5ld0NwdE9wdGlvbiwgZXhpc3RDb21wb25lbnQpIHsKICB2YXIgc3ViVHlwZSA9IG5ld0NwdE9wdGlvbi50eXBlID8gbmV3Q3B0T3B0aW9uLnR5cGUgOiBleGlzdENvbXBvbmVudCA/IGV4aXN0Q29tcG9uZW50LnN1YlR5cGUgLy8gVXNlIGRldGVybWluZVN1YlR5cGUgb25seSB3aGVuIHRoZXJlIGlzIG5vIGV4aXN0Q29tcG9uZW50LgogIDogQ29tcG9uZW50TW9kZWwuZGV0ZXJtaW5lU3ViVHlwZShtYWluVHlwZSwgbmV3Q3B0T3B0aW9uKTsgLy8gdG9vbHRpcCwgbWFya2xpbmUsIG1hcmtwb2ludCBtYXkgYWx3YXlzIGhhcyBubyBzdWJUeXBlCgogIHJldHVybiBzdWJUeXBlOwp9Ci8qKgogKiBAaW5uZXIKICovCgoKZnVuY3Rpb24gY3JlYXRlU2VyaWVzSW5kaWNlcyhlY01vZGVsLCBzZXJpZXNNb2RlbHMpIHsKICBlY01vZGVsLl9zZXJpZXNJbmRpY2VzTWFwID0gY3JlYXRlSGFzaE1hcChlY01vZGVsLl9zZXJpZXNJbmRpY2VzID0gbWFwKHNlcmllc01vZGVscywgZnVuY3Rpb24gKHNlcmllcykgewogICAgcmV0dXJuIHNlcmllcy5jb21wb25lbnRJbmRleDsKICB9KSB8fCBbXSk7Cn0KLyoqCiAqIEBpbm5lcgogKi8KCgpmdW5jdGlvbiBmaWx0ZXJCeVN1YlR5cGUoY29tcG9uZW50cywgY29uZGl0aW9uKSB7CiAgLy8gVXNpbmcgaGFzT3duUHJvcGVydHkgZm9yIHJlc3RyaWN0LiBDb25zaWRlcgogIC8vIHN1YlR5cGUgaXMgdW5kZWZpbmVkIGluIHVzZXIgcGF5bG9hZC4KICByZXR1cm4gY29uZGl0aW9uLmhhc093blByb3BlcnR5KCdzdWJUeXBlJykgPyBmaWx0ZXIoY29tcG9uZW50cywgZnVuY3Rpb24gKGNwdCkgewogICAgcmV0dXJuIGNwdC5zdWJUeXBlID09PSBjb25kaXRpb24uc3ViVHlwZTsKICB9KSA6IGNvbXBvbmVudHM7Cn0KLyoqCiAqIEBpbm5lcgogKi8KCgpmdW5jdGlvbiBhc3NlcnRTZXJpZXNJbml0aWFsaXplZChlY01vZGVsKSB7fQoKbWl4aW4oR2xvYmFsTW9kZWwsIGNvbG9yUGFsZXR0ZU1peGluKTsKdmFyIF9kZWZhdWx0ID0gR2xvYmFsTW9kZWw7Cm1vZHVsZS5leHBvcnRzID0gX2RlZmF1bHQ7"},{"version":3,"sources":["/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/echarts/lib/model/Global.js"],"names":["_config","require","__DEV__","_util","each","filter","map","isArray","indexOf","isObject","isString","createHashMap","assert","clone","merge","extend","mixin","modelUtil","Model","ComponentModel","globalDefault","colorPaletteMixin","_sourceHelper","resetSourceDefaulter","OPTION_INNER_KEY","GlobalModel","init","option","parentModel","theme","optionManager","_theme","_optionManager","setOption","optionPreprocessorFuncs","resetOption","type","optionChanged","baseOption","mountOption","initBase","call","restoreData","mergeOption","timelineOption","getTimelineOption","mediaOptions","getMediaOption","_api","length","mediaOption","newOption","componentsMap","_componentsMap","newCptTypes","componentOption","mainType","hasClass","push","topologicalTravel","getAllClassMainTypes","visitComponent","dependencies","newCptOptionList","normalizeToArray","mapResult","mappingToExists","get","makeIdAndName","item","index","opt","keyInfo","subType","determineSubType","exist","dependentModels","getComponentsByTypes","set","resultItem","componentModel","newCptOption","optionUpdated","ComponentModelClass","getClass","constructor","name","extraOpt","componentIndex","createSeriesIndices","_seriesIndicesMap","_seriesIndices","getOption","opts","i","isIdInner","splice","getTheme","getComponent","idx","list","queryComponents","condition","id","cpts","result","val","isIdArray","cpt","isNameArray","slice","filterBySubType","findComponents","query","queryCond","getQueryCond","doFilter","q","indexAttr","idAttr","nameAttr","res","eachComponent","cb","context","components","componentType","component","queryResult","getSeriesByName","series","oneSeries","getSeriesByIndex","seriesIndex","getSeriesByType","getSeries","getSeriesCount","eachSeries","assertSeriesInitialized","rawSeriesIndex","eachRawSeries","eachSeriesByType","eachRawSeriesByType","isSeriesFiltered","seriesModel","getCurrentSeriesIndices","filterSeries","filteredSeries","payload","componentTypes","isNotTargetSeries","seiresIndex","seriesId","seriesName","mergeTheme","notMergeColorLayer","color","colorLayer","themeItem","types","ret","existComponent","ecModel","seriesModels","hasOwnProperty","_default","module","exports"],"mappings":"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","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar each = _util.each;\nvar filter = _util.filter;\nvar map = _util.map;\nvar isArray = _util.isArray;\nvar indexOf = _util.indexOf;\nvar isObject = _util.isObject;\nvar isString = _util.isString;\nvar createHashMap = _util.createHashMap;\nvar assert = _util.assert;\nvar clone = _util.clone;\nvar merge = _util.merge;\nvar extend = _util.extend;\nvar mixin = _util.mixin;\n\nvar modelUtil = require(\"../util/model\");\n\nvar Model = require(\"./Model\");\n\nvar ComponentModel = require(\"./Component\");\n\nvar globalDefault = require(\"./globalDefault\");\n\nvar colorPaletteMixin = require(\"./mixin/colorPalette\");\n\nvar _sourceHelper = require(\"../data/helper/sourceHelper\");\n\nvar resetSourceDefaulter = _sourceHelper.resetSourceDefaulter;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * ECharts global model\n *\n * @module {echarts/model/Global}\n */\n\n/**\n * Caution: If the mechanism should be changed some day, these cases\n * should be considered:\n *\n * (1) In `merge option` mode, if using the same option to call `setOption`\n * many times, the result should be the same (try our best to ensure that).\n * (2) In `merge option` mode, if a component has no id/name specified, it\n * will be merged by index, and the result sequence of the components is\n * consistent to the original sequence.\n * (3) `reset` feature (in toolbox). Find detailed info in comments about\n * `mergeOption` in module:echarts/model/OptionManager.\n */\nvar OPTION_INNER_KEY = '\\0_ec_inner';\n/**\n * @alias module:echarts/model/Global\n *\n * @param {Object} option\n * @param {module:echarts/model/Model} parentModel\n * @param {Object} theme\n */\n\nvar GlobalModel = Model.extend({\n  init: function (option, parentModel, theme, optionManager) {\n    theme = theme || {};\n    this.option = null; // Mark as not initialized.\n\n    /**\n     * @type {module:echarts/model/Model}\n     * @private\n     */\n\n    this._theme = new Model(theme);\n    /**\n     * @type {module:echarts/model/OptionManager}\n     */\n\n    this._optionManager = optionManager;\n  },\n  setOption: function (option, optionPreprocessorFuncs) {\n    assert(!(OPTION_INNER_KEY in option), 'please use chart.getOption()');\n\n    this._optionManager.setOption(option, optionPreprocessorFuncs);\n\n    this.resetOption(null);\n  },\n\n  /**\n   * @param {string} type null/undefined: reset all.\n   *                      'recreate': force recreate all.\n   *                      'timeline': only reset timeline option\n   *                      'media': only reset media query option\n   * @return {boolean} Whether option changed.\n   */\n  resetOption: function (type) {\n    var optionChanged = false;\n    var optionManager = this._optionManager;\n\n    if (!type || type === 'recreate') {\n      var baseOption = optionManager.mountOption(type === 'recreate');\n\n      if (!this.option || type === 'recreate') {\n        initBase.call(this, baseOption);\n      } else {\n        this.restoreData();\n        this.mergeOption(baseOption);\n      }\n\n      optionChanged = true;\n    }\n\n    if (type === 'timeline' || type === 'media') {\n      this.restoreData();\n    }\n\n    if (!type || type === 'recreate' || type === 'timeline') {\n      var timelineOption = optionManager.getTimelineOption(this);\n      timelineOption && (this.mergeOption(timelineOption), optionChanged = true);\n    }\n\n    if (!type || type === 'recreate' || type === 'media') {\n      var mediaOptions = optionManager.getMediaOption(this, this._api);\n\n      if (mediaOptions.length) {\n        each(mediaOptions, function (mediaOption) {\n          this.mergeOption(mediaOption, optionChanged = true);\n        }, this);\n      }\n    }\n\n    return optionChanged;\n  },\n\n  /**\n   * @protected\n   */\n  mergeOption: function (newOption) {\n    var option = this.option;\n    var componentsMap = this._componentsMap;\n    var newCptTypes = [];\n    resetSourceDefaulter(this); // If no component class, merge directly.\n    // For example: color, animaiton options, etc.\n\n    each(newOption, function (componentOption, mainType) {\n      if (componentOption == null) {\n        return;\n      }\n\n      if (!ComponentModel.hasClass(mainType)) {\n        // globalSettingTask.dirty();\n        option[mainType] = option[mainType] == null ? clone(componentOption) : merge(option[mainType], componentOption, true);\n      } else if (mainType) {\n        newCptTypes.push(mainType);\n      }\n    });\n    ComponentModel.topologicalTravel(newCptTypes, ComponentModel.getAllClassMainTypes(), visitComponent, this);\n\n    function visitComponent(mainType, dependencies) {\n      var newCptOptionList = modelUtil.normalizeToArray(newOption[mainType]);\n      var mapResult = modelUtil.mappingToExists(componentsMap.get(mainType), newCptOptionList);\n      modelUtil.makeIdAndName(mapResult); // Set mainType and complete subType.\n\n      each(mapResult, function (item, index) {\n        var opt = item.option;\n\n        if (isObject(opt)) {\n          item.keyInfo.mainType = mainType;\n          item.keyInfo.subType = determineSubType(mainType, opt, item.exist);\n        }\n      });\n      var dependentModels = getComponentsByTypes(componentsMap, dependencies);\n      option[mainType] = [];\n      componentsMap.set(mainType, []);\n      each(mapResult, function (resultItem, index) {\n        var componentModel = resultItem.exist;\n        var newCptOption = resultItem.option;\n        assert(isObject(newCptOption) || componentModel, 'Empty component definition'); // Consider where is no new option and should be merged using {},\n        // see removeEdgeAndAdd in topologicalTravel and\n        // ComponentModel.getAllClassMainTypes.\n\n        if (!newCptOption) {\n          componentModel.mergeOption({}, this);\n          componentModel.optionUpdated({}, false);\n        } else {\n          var ComponentModelClass = ComponentModel.getClass(mainType, resultItem.keyInfo.subType, true);\n\n          if (componentModel && componentModel.constructor === ComponentModelClass) {\n            componentModel.name = resultItem.keyInfo.name; // componentModel.settingTask && componentModel.settingTask.dirty();\n\n            componentModel.mergeOption(newCptOption, this);\n            componentModel.optionUpdated(newCptOption, false);\n          } else {\n            // PENDING Global as parent ?\n            var extraOpt = extend({\n              dependentModels: dependentModels,\n              componentIndex: index\n            }, resultItem.keyInfo);\n            componentModel = new ComponentModelClass(newCptOption, this, this, extraOpt);\n            extend(componentModel, extraOpt);\n            componentModel.init(newCptOption, this, this, extraOpt); // Call optionUpdated after init.\n            // newCptOption has been used as componentModel.option\n            // and may be merged with theme and default, so pass null\n            // to avoid confusion.\n\n            componentModel.optionUpdated(null, true);\n          }\n        }\n\n        componentsMap.get(mainType)[index] = componentModel;\n        option[mainType][index] = componentModel.option;\n      }, this); // Backup series for filtering.\n\n      if (mainType === 'series') {\n        createSeriesIndices(this, componentsMap.get('series'));\n      }\n    }\n\n    this._seriesIndicesMap = createHashMap(this._seriesIndices = this._seriesIndices || []);\n  },\n\n  /**\n   * Get option for output (cloned option and inner info removed)\n   * @public\n   * @return {Object}\n   */\n  getOption: function () {\n    var option = clone(this.option);\n    each(option, function (opts, mainType) {\n      if (ComponentModel.hasClass(mainType)) {\n        var opts = modelUtil.normalizeToArray(opts);\n\n        for (var i = opts.length - 1; i >= 0; i--) {\n          // Remove options with inner id.\n          if (modelUtil.isIdInner(opts[i])) {\n            opts.splice(i, 1);\n          }\n        }\n\n        option[mainType] = opts;\n      }\n    });\n    delete option[OPTION_INNER_KEY];\n    return option;\n  },\n\n  /**\n   * @return {module:echarts/model/Model}\n   */\n  getTheme: function () {\n    return this._theme;\n  },\n\n  /**\n   * @param {string} mainType\n   * @param {number} [idx=0]\n   * @return {module:echarts/model/Component}\n   */\n  getComponent: function (mainType, idx) {\n    var list = this._componentsMap.get(mainType);\n\n    if (list) {\n      return list[idx || 0];\n    }\n  },\n\n  /**\n   * If none of index and id and name used, return all components with mainType.\n   * @param {Object} condition\n   * @param {string} condition.mainType\n   * @param {string} [condition.subType] If ignore, only query by mainType\n   * @param {number|Array.<number>} [condition.index] Either input index or id or name.\n   * @param {string|Array.<string>} [condition.id] Either input index or id or name.\n   * @param {string|Array.<string>} [condition.name] Either input index or id or name.\n   * @return {Array.<module:echarts/model/Component>}\n   */\n  queryComponents: function (condition) {\n    var mainType = condition.mainType;\n\n    if (!mainType) {\n      return [];\n    }\n\n    var index = condition.index;\n    var id = condition.id;\n    var name = condition.name;\n\n    var cpts = this._componentsMap.get(mainType);\n\n    if (!cpts || !cpts.length) {\n      return [];\n    }\n\n    var result;\n\n    if (index != null) {\n      if (!isArray(index)) {\n        index = [index];\n      }\n\n      result = filter(map(index, function (idx) {\n        return cpts[idx];\n      }), function (val) {\n        return !!val;\n      });\n    } else if (id != null) {\n      var isIdArray = isArray(id);\n      result = filter(cpts, function (cpt) {\n        return isIdArray && indexOf(id, cpt.id) >= 0 || !isIdArray && cpt.id === id;\n      });\n    } else if (name != null) {\n      var isNameArray = isArray(name);\n      result = filter(cpts, function (cpt) {\n        return isNameArray && indexOf(name, cpt.name) >= 0 || !isNameArray && cpt.name === name;\n      });\n    } else {\n      // Return all components with mainType\n      result = cpts.slice();\n    }\n\n    return filterBySubType(result, condition);\n  },\n\n  /**\n   * The interface is different from queryComponents,\n   * which is convenient for inner usage.\n   *\n   * @usage\n   * var result = findComponents(\n   *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}}\n   * );\n   * var result = findComponents(\n   *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}}\n   * );\n   * var result = findComponents(\n   *     {mainType: 'series',\n   *     filter: function (model, index) {...}}\n   * );\n   * // result like [component0, componnet1, ...]\n   *\n   * @param {Object} condition\n   * @param {string} condition.mainType Mandatory.\n   * @param {string} [condition.subType] Optional.\n   * @param {Object} [condition.query] like {xxxIndex, xxxId, xxxName},\n   *        where xxx is mainType.\n   *        If query attribute is null/undefined or has no index/id/name,\n   *        do not filtering by query conditions, which is convenient for\n   *        no-payload situations or when target of action is global.\n   * @param {Function} [condition.filter] parameter: component, return boolean.\n   * @return {Array.<module:echarts/model/Component>}\n   */\n  findComponents: function (condition) {\n    var query = condition.query;\n    var mainType = condition.mainType;\n    var queryCond = getQueryCond(query);\n    var result = queryCond ? this.queryComponents(queryCond) : this._componentsMap.get(mainType);\n    return doFilter(filterBySubType(result, condition));\n\n    function getQueryCond(q) {\n      var indexAttr = mainType + 'Index';\n      var idAttr = mainType + 'Id';\n      var nameAttr = mainType + 'Name';\n      return q && (q[indexAttr] != null || q[idAttr] != null || q[nameAttr] != null) ? {\n        mainType: mainType,\n        // subType will be filtered finally.\n        index: q[indexAttr],\n        id: q[idAttr],\n        name: q[nameAttr]\n      } : null;\n    }\n\n    function doFilter(res) {\n      return condition.filter ? filter(res, condition.filter) : res;\n    }\n  },\n\n  /**\n   * @usage\n   * eachComponent('legend', function (legendModel, index) {\n   *     ...\n   * });\n   * eachComponent(function (componentType, model, index) {\n   *     // componentType does not include subType\n   *     // (componentType is 'xxx' but not 'xxx.aa')\n   * });\n   * eachComponent(\n   *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}},\n   *     function (model, index) {...}\n   * );\n   * eachComponent(\n   *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}},\n   *     function (model, index) {...}\n   * );\n   *\n   * @param {string|Object=} mainType When mainType is object, the definition\n   *                                  is the same as the method 'findComponents'.\n   * @param {Function} cb\n   * @param {*} context\n   */\n  eachComponent: function (mainType, cb, context) {\n    var componentsMap = this._componentsMap;\n\n    if (typeof mainType === 'function') {\n      context = cb;\n      cb = mainType;\n      componentsMap.each(function (components, componentType) {\n        each(components, function (component, index) {\n          cb.call(context, componentType, component, index);\n        });\n      });\n    } else if (isString(mainType)) {\n      each(componentsMap.get(mainType), cb, context);\n    } else if (isObject(mainType)) {\n      var queryResult = this.findComponents(mainType);\n      each(queryResult, cb, context);\n    }\n  },\n\n  /**\n   * @param {string} name\n   * @return {Array.<module:echarts/model/Series>}\n   */\n  getSeriesByName: function (name) {\n    var series = this._componentsMap.get('series');\n\n    return filter(series, function (oneSeries) {\n      return oneSeries.name === name;\n    });\n  },\n\n  /**\n   * @param {number} seriesIndex\n   * @return {module:echarts/model/Series}\n   */\n  getSeriesByIndex: function (seriesIndex) {\n    return this._componentsMap.get('series')[seriesIndex];\n  },\n\n  /**\n   * Get series list before filtered by type.\n   * FIXME: rename to getRawSeriesByType?\n   *\n   * @param {string} subType\n   * @return {Array.<module:echarts/model/Series>}\n   */\n  getSeriesByType: function (subType) {\n    var series = this._componentsMap.get('series');\n\n    return filter(series, function (oneSeries) {\n      return oneSeries.subType === subType;\n    });\n  },\n\n  /**\n   * @return {Array.<module:echarts/model/Series>}\n   */\n  getSeries: function () {\n    return this._componentsMap.get('series').slice();\n  },\n\n  /**\n   * @return {number}\n   */\n  getSeriesCount: function () {\n    return this._componentsMap.get('series').length;\n  },\n\n  /**\n   * After filtering, series may be different\n   * frome raw series.\n   *\n   * @param {Function} cb\n   * @param {*} context\n   */\n  eachSeries: function (cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n\n      cb.call(context, series, rawSeriesIndex);\n    }, this);\n  },\n\n  /**\n   * Iterate raw series before filtered.\n   *\n   * @param {Function} cb\n   * @param {*} context\n   */\n  eachRawSeries: function (cb, context) {\n    each(this._componentsMap.get('series'), cb, context);\n  },\n\n  /**\n   * After filtering, series may be different.\n   * frome raw series.\n   *\n   * @param {string} subType.\n   * @param {Function} cb\n   * @param {*} context\n   */\n  eachSeriesByType: function (subType, cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n\n      if (series.subType === subType) {\n        cb.call(context, series, rawSeriesIndex);\n      }\n    }, this);\n  },\n\n  /**\n   * Iterate raw series before filtered of given type.\n   *\n   * @parma {string} subType\n   * @param {Function} cb\n   * @param {*} context\n   */\n  eachRawSeriesByType: function (subType, cb, context) {\n    return each(this.getSeriesByType(subType), cb, context);\n  },\n\n  /**\n   * @param {module:echarts/model/Series} seriesModel\n   */\n  isSeriesFiltered: function (seriesModel) {\n    assertSeriesInitialized(this);\n    return this._seriesIndicesMap.get(seriesModel.componentIndex) == null;\n  },\n\n  /**\n   * @return {Array.<number>}\n   */\n  getCurrentSeriesIndices: function () {\n    return (this._seriesIndices || []).slice();\n  },\n\n  /**\n   * @param {Function} cb\n   * @param {*} context\n   */\n  filterSeries: function (cb, context) {\n    assertSeriesInitialized(this);\n    var filteredSeries = filter(this._componentsMap.get('series'), cb, context);\n    createSeriesIndices(this, filteredSeries);\n  },\n  restoreData: function (payload) {\n    var componentsMap = this._componentsMap;\n    createSeriesIndices(this, componentsMap.get('series'));\n    var componentTypes = [];\n    componentsMap.each(function (components, componentType) {\n      componentTypes.push(componentType);\n    });\n    ComponentModel.topologicalTravel(componentTypes, ComponentModel.getAllClassMainTypes(), function (componentType, dependencies) {\n      each(componentsMap.get(componentType), function (component) {\n        (componentType !== 'series' || !isNotTargetSeries(component, payload)) && component.restoreData();\n      });\n    });\n  }\n});\n\nfunction isNotTargetSeries(seriesModel, payload) {\n  if (payload) {\n    var index = payload.seiresIndex;\n    var id = payload.seriesId;\n    var name = payload.seriesName;\n    return index != null && seriesModel.componentIndex !== index || id != null && seriesModel.id !== id || name != null && seriesModel.name !== name;\n  }\n}\n/**\n * @inner\n */\n\n\nfunction mergeTheme(option, theme) {\n  // PENDING\n  // NOT use `colorLayer` in theme if option has `color`\n  var notMergeColorLayer = option.color && !option.colorLayer;\n  each(theme, function (themeItem, name) {\n    if (name === 'colorLayer' && notMergeColorLayer) {\n      return;\n    } // 如果有 component model 则把具体的 merge 逻辑交给该 model 处理\n\n\n    if (!ComponentModel.hasClass(name)) {\n      if (typeof themeItem === 'object') {\n        option[name] = !option[name] ? clone(themeItem) : merge(option[name], themeItem, false);\n      } else {\n        if (option[name] == null) {\n          option[name] = themeItem;\n        }\n      }\n    }\n  });\n}\n\nfunction initBase(baseOption) {\n  baseOption = baseOption; // Using OPTION_INNER_KEY to mark that this option can not be used outside,\n  // i.e. `chart.setOption(chart.getModel().option);` is forbiden.\n\n  this.option = {};\n  this.option[OPTION_INNER_KEY] = 1;\n  /**\n   * Init with series: [], in case of calling findSeries method\n   * before series initialized.\n   * @type {Object.<string, Array.<module:echarts/model/Model>>}\n   * @private\n   */\n\n  this._componentsMap = createHashMap({\n    series: []\n  });\n  /**\n   * Mapping between filtered series list and raw series list.\n   * key: filtered series indices, value: raw series indices.\n   * @type {Array.<nubmer>}\n   * @private\n   */\n\n  this._seriesIndices;\n  this._seriesIndicesMap;\n  mergeTheme(baseOption, this._theme.option); // TODO Needs clone when merging to the unexisted property\n\n  merge(baseOption, globalDefault, false);\n  this.mergeOption(baseOption);\n}\n/**\n * @inner\n * @param {Array.<string>|string} types model types\n * @return {Object} key: {string} type, value: {Array.<Object>} models\n */\n\n\nfunction getComponentsByTypes(componentsMap, types) {\n  if (!isArray(types)) {\n    types = types ? [types] : [];\n  }\n\n  var ret = {};\n  each(types, function (type) {\n    ret[type] = (componentsMap.get(type) || []).slice();\n  });\n  return ret;\n}\n/**\n * @inner\n */\n\n\nfunction determineSubType(mainType, newCptOption, existComponent) {\n  var subType = newCptOption.type ? newCptOption.type : existComponent ? existComponent.subType // Use determineSubType only when there is no existComponent.\n  : ComponentModel.determineSubType(mainType, newCptOption); // tooltip, markline, markpoint may always has no subType\n\n  return subType;\n}\n/**\n * @inner\n */\n\n\nfunction createSeriesIndices(ecModel, seriesModels) {\n  ecModel._seriesIndicesMap = createHashMap(ecModel._seriesIndices = map(seriesModels, function (series) {\n    return series.componentIndex;\n  }) || []);\n}\n/**\n * @inner\n */\n\n\nfunction filterBySubType(components, condition) {\n  // Using hasOwnProperty for restrict. Consider\n  // subType is undefined in user payload.\n  return condition.hasOwnProperty('subType') ? filter(components, function (cpt) {\n    return cpt.subType === condition.subType;\n  }) : components;\n}\n/**\n * @inner\n */\n\n\nfunction assertSeriesInitialized(ecModel) {}\n\nmixin(GlobalModel, colorPaletteMixin);\nvar _default = GlobalModel;\nmodule.exports = _default;"]}]}