{"remainingRequest":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/babel-loader/lib/index.js!/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/echarts/lib/chart/sunburst/SunburstView.js","dependencies":[{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/echarts/lib/chart/sunburst/SunburstView.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoKKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lCiogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24KKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlCiogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQoqICJMaWNlbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2UKKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAoqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwoqIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwp2YXIgenJVdGlsID0gcmVxdWlyZSgienJlbmRlci9saWIvY29yZS91dGlsIik7Cgp2YXIgQ2hhcnRWaWV3ID0gcmVxdWlyZSgiLi4vLi4vdmlldy9DaGFydCIpOwoKdmFyIFN1bmJ1cnN0UGllY2UgPSByZXF1aXJlKCIuL1N1bmJ1cnN0UGllY2UiKTsKCnZhciBEYXRhRGlmZmVyID0gcmVxdWlyZSgiLi4vLi4vZGF0YS9EYXRhRGlmZmVyIik7Cgp2YXIgX2Zvcm1hdCA9IHJlcXVpcmUoIi4uLy4uL3V0aWwvZm9ybWF0Iik7Cgp2YXIgd2luZG93T3BlbiA9IF9mb3JtYXQud2luZG93T3BlbjsKLyoKKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lCiogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24KKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlCiogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQoqICJMaWNlbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2UKKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAoqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwoqIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwoKdmFyIFJPT1RfVE9fTk9ERV9BQ1RJT04gPSAnc3VuYnVyc3RSb290VG9Ob2RlJzsKdmFyIFN1bmJ1cnN0VmlldyA9IENoYXJ0Vmlldy5leHRlbmQoewogIHR5cGU6ICdzdW5idXJzdCcsCiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHt9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHNlcmllc01vZGVsLCBlY01vZGVsLCBhcGksIHBheWxvYWQpIHsKICAgIHZhciB0aGF0ID0gdGhpczsKICAgIHRoaXMuc2VyaWVzTW9kZWwgPSBzZXJpZXNNb2RlbDsKICAgIHRoaXMuYXBpID0gYXBpOwogICAgdGhpcy5lY01vZGVsID0gZWNNb2RlbDsKICAgIHZhciBkYXRhID0gc2VyaWVzTW9kZWwuZ2V0RGF0YSgpOwogICAgdmFyIHZpcnR1YWxSb290ID0gZGF0YS50cmVlLnJvb3Q7CiAgICB2YXIgbmV3Um9vdCA9IHNlcmllc01vZGVsLmdldFZpZXdSb290KCk7CiAgICB2YXIgZ3JvdXAgPSB0aGlzLmdyb3VwOwogICAgdmFyIHJlbmRlckxhYmVsRm9yWmVyb0RhdGEgPSBzZXJpZXNNb2RlbC5nZXQoJ3JlbmRlckxhYmVsRm9yWmVyb0RhdGEnKTsKICAgIHZhciBuZXdDaGlsZHJlbiA9IFtdOwogICAgbmV3Um9vdC5lYWNoTm9kZShmdW5jdGlvbiAobm9kZSkgewogICAgICBuZXdDaGlsZHJlbi5wdXNoKG5vZGUpOwogICAgfSk7CiAgICB2YXIgb2xkQ2hpbGRyZW4gPSB0aGlzLl9vbGRDaGlsZHJlbiB8fCBbXTsKICAgIGR1YWxUcmF2ZWwobmV3Q2hpbGRyZW4sIG9sZENoaWxkcmVuKTsKICAgIHJlbmRlclJvbGxVcCh2aXJ0dWFsUm9vdCwgbmV3Um9vdCk7CgogICAgaWYgKHBheWxvYWQgJiYgcGF5bG9hZC5oaWdobGlnaHQgJiYgcGF5bG9hZC5oaWdobGlnaHQucGllY2UpIHsKICAgICAgdmFyIGhpZ2hsaWdodFBvbGljeSA9IHNlcmllc01vZGVsLmdldFNoYWxsb3coJ2hpZ2hsaWdodFBvbGljeScpOwogICAgICBwYXlsb2FkLmhpZ2hsaWdodC5waWVjZS5vbkVtcGhhc2lzKGhpZ2hsaWdodFBvbGljeSk7CiAgICB9IGVsc2UgaWYgKHBheWxvYWQgJiYgcGF5bG9hZC51bmhpZ2hsaWdodCkgewogICAgICB2YXIgcGllY2UgPSB0aGlzLnZpcnR1YWxQaWVjZTsKCiAgICAgIGlmICghcGllY2UgJiYgdmlydHVhbFJvb3QuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgcGllY2UgPSB2aXJ0dWFsUm9vdC5jaGlsZHJlblswXS5waWVjZTsKICAgICAgfQoKICAgICAgaWYgKHBpZWNlKSB7CiAgICAgICAgcGllY2Uub25Ob3JtYWwoKTsKICAgICAgfQogICAgfQoKICAgIHRoaXMuX2luaXRFdmVudHMoKTsKCiAgICB0aGlzLl9vbGRDaGlsZHJlbiA9IG5ld0NoaWxkcmVuOwoKICAgIGZ1bmN0aW9uIGR1YWxUcmF2ZWwobmV3Q2hpbGRyZW4sIG9sZENoaWxkcmVuKSB7CiAgICAgIGlmIChuZXdDaGlsZHJlbi5sZW5ndGggPT09IDAgJiYgb2xkQ2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBuZXcgRGF0YURpZmZlcihvbGRDaGlsZHJlbiwgbmV3Q2hpbGRyZW4sIGdldEtleSwgZ2V0S2V5KS5hZGQocHJvY2Vzc05vZGUpLnVwZGF0ZShwcm9jZXNzTm9kZSkucmVtb3ZlKHpyVXRpbC5jdXJyeShwcm9jZXNzTm9kZSwgbnVsbCkpLmV4ZWN1dGUoKTsKCiAgICAgIGZ1bmN0aW9uIGdldEtleShub2RlKSB7CiAgICAgICAgcmV0dXJuIG5vZGUuZ2V0SWQoKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gcHJvY2Vzc05vZGUobmV3SWQsIG9sZElkKSB7CiAgICAgICAgdmFyIG5ld05vZGUgPSBuZXdJZCA9PSBudWxsID8gbnVsbCA6IG5ld0NoaWxkcmVuW25ld0lkXTsKICAgICAgICB2YXIgb2xkTm9kZSA9IG9sZElkID09IG51bGwgPyBudWxsIDogb2xkQ2hpbGRyZW5bb2xkSWRdOwogICAgICAgIGRvUmVuZGVyTm9kZShuZXdOb2RlLCBvbGROb2RlKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGRvUmVuZGVyTm9kZShuZXdOb2RlLCBvbGROb2RlKSB7CiAgICAgIGlmICghcmVuZGVyTGFiZWxGb3JaZXJvRGF0YSAmJiBuZXdOb2RlICYmICFuZXdOb2RlLmdldFZhbHVlKCkpIHsKICAgICAgICAvLyBOb3QgcmVuZGVyIGRhdGEgd2l0aCB2YWx1ZSAwCiAgICAgICAgbmV3Tm9kZSA9IG51bGw7CiAgICAgIH0KCiAgICAgIGlmIChuZXdOb2RlICE9PSB2aXJ0dWFsUm9vdCAmJiBvbGROb2RlICE9PSB2aXJ0dWFsUm9vdCkgewogICAgICAgIGlmIChvbGROb2RlICYmIG9sZE5vZGUucGllY2UpIHsKICAgICAgICAgIGlmIChuZXdOb2RlKSB7CiAgICAgICAgICAgIC8vIFVwZGF0ZQogICAgICAgICAgICBvbGROb2RlLnBpZWNlLnVwZGF0ZURhdGEoZmFsc2UsIG5ld05vZGUsICdub3JtYWwnLCBzZXJpZXNNb2RlbCwgZWNNb2RlbCk7IC8vIEZvciB0b29sdGlwCgogICAgICAgICAgICBkYXRhLnNldEl0ZW1HcmFwaGljRWwobmV3Tm9kZS5kYXRhSW5kZXgsIG9sZE5vZGUucGllY2UpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gUmVtb3ZlCiAgICAgICAgICAgIHJlbW92ZU5vZGUob2xkTm9kZSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChuZXdOb2RlKSB7CiAgICAgICAgICAvLyBBZGQKICAgICAgICAgIHZhciBwaWVjZSA9IG5ldyBTdW5idXJzdFBpZWNlKG5ld05vZGUsIHNlcmllc01vZGVsLCBlY01vZGVsKTsKICAgICAgICAgIGdyb3VwLmFkZChwaWVjZSk7IC8vIEZvciB0b29sdGlwCgogICAgICAgICAgZGF0YS5zZXRJdGVtR3JhcGhpY0VsKG5ld05vZGUuZGF0YUluZGV4LCBwaWVjZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlKSB7CiAgICAgIGlmICghbm9kZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKG5vZGUucGllY2UpIHsKICAgICAgICBncm91cC5yZW1vdmUobm9kZS5waWVjZSk7CiAgICAgICAgbm9kZS5waWVjZSA9IG51bGw7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiByZW5kZXJSb2xsVXAodmlydHVhbFJvb3QsIHZpZXdSb290KSB7CiAgICAgIGlmICh2aWV3Um9vdC5kZXB0aCA+IDApIHsKICAgICAgICAvLyBSZW5kZXIKICAgICAgICBpZiAodGhhdC52aXJ0dWFsUGllY2UpIHsKICAgICAgICAgIC8vIFVwZGF0ZQogICAgICAgICAgdGhhdC52aXJ0dWFsUGllY2UudXBkYXRlRGF0YShmYWxzZSwgdmlydHVhbFJvb3QsICdub3JtYWwnLCBzZXJpZXNNb2RlbCwgZWNNb2RlbCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIEFkZAogICAgICAgICAgdGhhdC52aXJ0dWFsUGllY2UgPSBuZXcgU3VuYnVyc3RQaWVjZSh2aXJ0dWFsUm9vdCwgc2VyaWVzTW9kZWwsIGVjTW9kZWwpOwogICAgICAgICAgZ3JvdXAuYWRkKHRoYXQudmlydHVhbFBpZWNlKTsKICAgICAgICB9CgogICAgICAgIGlmICh2aWV3Um9vdC5waWVjZS5fb25jbGlja0V2ZW50KSB7CiAgICAgICAgICB2aWV3Um9vdC5waWVjZS5vZmYoJ2NsaWNrJywgdmlld1Jvb3QucGllY2UuX29uY2xpY2tFdmVudCk7CiAgICAgICAgfQoKICAgICAgICB2YXIgZXZlbnQgPSBmdW5jdGlvbiBldmVudChlKSB7CiAgICAgICAgICB0aGF0Ll9yb290VG9Ob2RlKHZpZXdSb290LnBhcmVudE5vZGUpOwogICAgICAgIH07CgogICAgICAgIHZpZXdSb290LnBpZWNlLl9vbmNsaWNrRXZlbnQgPSBldmVudDsKICAgICAgICB0aGF0LnZpcnR1YWxQaWVjZS5vbignY2xpY2snLCBldmVudCk7CiAgICAgIH0gZWxzZSBpZiAodGhhdC52aXJ0dWFsUGllY2UpIHsKICAgICAgICAvLyBSZW1vdmUKICAgICAgICBncm91cC5yZW1vdmUodGhhdC52aXJ0dWFsUGllY2UpOwogICAgICAgIHRoYXQudmlydHVhbFBpZWNlID0gbnVsbDsKICAgICAgfQogICAgfQogIH0sCiAgZGlzcG9zZTogZnVuY3Rpb24gZGlzcG9zZSgpIHt9LAoKICAvKioKICAgKiBAcHJpdmF0ZQogICAqLwogIF9pbml0RXZlbnRzOiBmdW5jdGlvbiBfaW5pdEV2ZW50cygpIHsKICAgIHZhciB0aGF0ID0gdGhpczsKCiAgICB2YXIgZXZlbnQgPSBmdW5jdGlvbiBldmVudChlKSB7CiAgICAgIHZhciB0YXJnZXRGb3VuZCA9IGZhbHNlOwogICAgICB2YXIgdmlld1Jvb3QgPSB0aGF0LnNlcmllc01vZGVsLmdldFZpZXdSb290KCk7CiAgICAgIHZpZXdSb290LmVhY2hOb2RlKGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgaWYgKCF0YXJnZXRGb3VuZCAmJiBub2RlLnBpZWNlICYmIG5vZGUucGllY2UuY2hpbGRBdCgwKSA9PT0gZS50YXJnZXQpIHsKICAgICAgICAgIHZhciBub2RlQ2xpY2sgPSBub2RlLmdldE1vZGVsKCkuZ2V0KCdub2RlQ2xpY2snKTsKCiAgICAgICAgICBpZiAobm9kZUNsaWNrID09PSAncm9vdFRvTm9kZScpIHsKICAgICAgICAgICAgdGhhdC5fcm9vdFRvTm9kZShub2RlKTsKICAgICAgICAgIH0gZWxzZSBpZiAobm9kZUNsaWNrID09PSAnbGluaycpIHsKICAgICAgICAgICAgdmFyIGl0ZW1Nb2RlbCA9IG5vZGUuZ2V0TW9kZWwoKTsKICAgICAgICAgICAgdmFyIGxpbmsgPSBpdGVtTW9kZWwuZ2V0KCdsaW5rJyk7CgogICAgICAgICAgICBpZiAobGluaykgewogICAgICAgICAgICAgIHZhciBsaW5rVGFyZ2V0ID0gaXRlbU1vZGVsLmdldCgndGFyZ2V0JywgdHJ1ZSkgfHwgJ19ibGFuayc7CiAgICAgICAgICAgICAgd2luZG93T3BlbihsaW5rLCBsaW5rVGFyZ2V0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHRhcmdldEZvdW5kID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKCiAgICBpZiAodGhpcy5ncm91cC5fb25jbGlja0V2ZW50KSB7CiAgICAgIHRoaXMuZ3JvdXAub2ZmKCdjbGljaycsIHRoaXMuZ3JvdXAuX29uY2xpY2tFdmVudCk7CiAgICB9CgogICAgdGhpcy5ncm91cC5vbignY2xpY2snLCBldmVudCk7CiAgICB0aGlzLmdyb3VwLl9vbmNsaWNrRXZlbnQgPSBldmVudDsKICB9LAoKICAvKioKICAgKiBAcHJpdmF0ZQogICAqLwogIF9yb290VG9Ob2RlOiBmdW5jdGlvbiBfcm9vdFRvTm9kZShub2RlKSB7CiAgICBpZiAobm9kZSAhPT0gdGhpcy5zZXJpZXNNb2RlbC5nZXRWaWV3Um9vdCgpKSB7CiAgICAgIHRoaXMuYXBpLmRpc3BhdGNoQWN0aW9uKHsKICAgICAgICB0eXBlOiBST09UX1RPX05PREVfQUNUSU9OLAogICAgICAgIGZyb206IHRoaXMudWlkLAogICAgICAgIHNlcmllc0lkOiB0aGlzLnNlcmllc01vZGVsLmlkLAogICAgICAgIHRhcmdldE5vZGU6IG5vZGUKICAgICAgfSk7CiAgICB9CiAgfSwKCiAgLyoqCiAgICogQGltcGxlbWVudAogICAqLwogIGNvbnRhaW5Qb2ludDogZnVuY3Rpb24gY29udGFpblBvaW50KHBvaW50LCBzZXJpZXNNb2RlbCkgewogICAgdmFyIHRyZWVSb290ID0gc2VyaWVzTW9kZWwuZ2V0RGF0YSgpOwogICAgdmFyIGl0ZW1MYXlvdXQgPSB0cmVlUm9vdC5nZXRJdGVtTGF5b3V0KDApOwoKICAgIGlmIChpdGVtTGF5b3V0KSB7CiAgICAgIHZhciBkeCA9IHBvaW50WzBdIC0gaXRlbUxheW91dC5jeDsKICAgICAgdmFyIGR5ID0gcG9pbnRbMV0gLSBpdGVtTGF5b3V0LmN5OwogICAgICB2YXIgcmFkaXVzID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTsKICAgICAgcmV0dXJuIHJhZGl1cyA8PSBpdGVtTGF5b3V0LnIgJiYgcmFkaXVzID49IGl0ZW1MYXlvdXQucjA7CiAgICB9CiAgfQp9KTsKdmFyIF9kZWZhdWx0ID0gU3VuYnVyc3RWaWV3Owptb2R1bGUuZXhwb3J0cyA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/echarts/lib/chart/sunburst/SunburstView.js"],"names":["zrUtil","require","ChartView","SunburstPiece","DataDiffer","_format","windowOpen","ROOT_TO_NODE_ACTION","SunburstView","extend","type","init","render","seriesModel","ecModel","api","payload","that","data","getData","virtualRoot","tree","root","newRoot","getViewRoot","group","renderLabelForZeroData","get","newChildren","eachNode","node","push","oldChildren","_oldChildren","dualTravel","renderRollUp","highlight","piece","highlightPolicy","getShallow","onEmphasis","unhighlight","virtualPiece","children","length","onNormal","_initEvents","getKey","add","processNode","update","remove","curry","execute","getId","newId","oldId","newNode","oldNode","doRenderNode","getValue","updateData","setItemGraphicEl","dataIndex","removeNode","viewRoot","depth","_onclickEvent","off","event","e","_rootToNode","parentNode","on","dispose","targetFound","childAt","target","nodeClick","getModel","itemModel","link","linkTarget","dispatchAction","from","uid","seriesId","id","targetNode","containPoint","point","treeRoot","itemLayout","getItemLayout","dx","cx","dy","cy","radius","Math","sqrt","r","r0","_default","module","exports"],"mappings":"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","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar ChartView = require(\"../../view/Chart\");\n\nvar SunburstPiece = require(\"./SunburstPiece\");\n\nvar DataDiffer = require(\"../../data/DataDiffer\");\n\nvar _format = require(\"../../util/format\");\n\nvar windowOpen = _format.windowOpen;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar ROOT_TO_NODE_ACTION = 'sunburstRootToNode';\nvar SunburstView = ChartView.extend({\n  type: 'sunburst',\n  init: function () {},\n  render: function (seriesModel, ecModel, api, payload) {\n    var that = this;\n    this.seriesModel = seriesModel;\n    this.api = api;\n    this.ecModel = ecModel;\n    var data = seriesModel.getData();\n    var virtualRoot = data.tree.root;\n    var newRoot = seriesModel.getViewRoot();\n    var group = this.group;\n    var renderLabelForZeroData = seriesModel.get('renderLabelForZeroData');\n    var newChildren = [];\n    newRoot.eachNode(function (node) {\n      newChildren.push(node);\n    });\n    var oldChildren = this._oldChildren || [];\n    dualTravel(newChildren, oldChildren);\n    renderRollUp(virtualRoot, newRoot);\n\n    if (payload && payload.highlight && payload.highlight.piece) {\n      var highlightPolicy = seriesModel.getShallow('highlightPolicy');\n      payload.highlight.piece.onEmphasis(highlightPolicy);\n    } else if (payload && payload.unhighlight) {\n      var piece = this.virtualPiece;\n\n      if (!piece && virtualRoot.children.length) {\n        piece = virtualRoot.children[0].piece;\n      }\n\n      if (piece) {\n        piece.onNormal();\n      }\n    }\n\n    this._initEvents();\n\n    this._oldChildren = newChildren;\n\n    function dualTravel(newChildren, oldChildren) {\n      if (newChildren.length === 0 && oldChildren.length === 0) {\n        return;\n      }\n\n      new DataDiffer(oldChildren, newChildren, getKey, getKey).add(processNode).update(processNode).remove(zrUtil.curry(processNode, null)).execute();\n\n      function getKey(node) {\n        return node.getId();\n      }\n\n      function processNode(newId, oldId) {\n        var newNode = newId == null ? null : newChildren[newId];\n        var oldNode = oldId == null ? null : oldChildren[oldId];\n        doRenderNode(newNode, oldNode);\n      }\n    }\n\n    function doRenderNode(newNode, oldNode) {\n      if (!renderLabelForZeroData && newNode && !newNode.getValue()) {\n        // Not render data with value 0\n        newNode = null;\n      }\n\n      if (newNode !== virtualRoot && oldNode !== virtualRoot) {\n        if (oldNode && oldNode.piece) {\n          if (newNode) {\n            // Update\n            oldNode.piece.updateData(false, newNode, 'normal', seriesModel, ecModel); // For tooltip\n\n            data.setItemGraphicEl(newNode.dataIndex, oldNode.piece);\n          } else {\n            // Remove\n            removeNode(oldNode);\n          }\n        } else if (newNode) {\n          // Add\n          var piece = new SunburstPiece(newNode, seriesModel, ecModel);\n          group.add(piece); // For tooltip\n\n          data.setItemGraphicEl(newNode.dataIndex, piece);\n        }\n      }\n    }\n\n    function removeNode(node) {\n      if (!node) {\n        return;\n      }\n\n      if (node.piece) {\n        group.remove(node.piece);\n        node.piece = null;\n      }\n    }\n\n    function renderRollUp(virtualRoot, viewRoot) {\n      if (viewRoot.depth > 0) {\n        // Render\n        if (that.virtualPiece) {\n          // Update\n          that.virtualPiece.updateData(false, virtualRoot, 'normal', seriesModel, ecModel);\n        } else {\n          // Add\n          that.virtualPiece = new SunburstPiece(virtualRoot, seriesModel, ecModel);\n          group.add(that.virtualPiece);\n        }\n\n        if (viewRoot.piece._onclickEvent) {\n          viewRoot.piece.off('click', viewRoot.piece._onclickEvent);\n        }\n\n        var event = function (e) {\n          that._rootToNode(viewRoot.parentNode);\n        };\n\n        viewRoot.piece._onclickEvent = event;\n        that.virtualPiece.on('click', event);\n      } else if (that.virtualPiece) {\n        // Remove\n        group.remove(that.virtualPiece);\n        that.virtualPiece = null;\n      }\n    }\n  },\n  dispose: function () {},\n\n  /**\n   * @private\n   */\n  _initEvents: function () {\n    var that = this;\n\n    var event = function (e) {\n      var targetFound = false;\n      var viewRoot = that.seriesModel.getViewRoot();\n      viewRoot.eachNode(function (node) {\n        if (!targetFound && node.piece && node.piece.childAt(0) === e.target) {\n          var nodeClick = node.getModel().get('nodeClick');\n\n          if (nodeClick === 'rootToNode') {\n            that._rootToNode(node);\n          } else if (nodeClick === 'link') {\n            var itemModel = node.getModel();\n            var link = itemModel.get('link');\n\n            if (link) {\n              var linkTarget = itemModel.get('target', true) || '_blank';\n              windowOpen(link, linkTarget);\n            }\n          }\n\n          targetFound = true;\n        }\n      });\n    };\n\n    if (this.group._onclickEvent) {\n      this.group.off('click', this.group._onclickEvent);\n    }\n\n    this.group.on('click', event);\n    this.group._onclickEvent = event;\n  },\n\n  /**\n   * @private\n   */\n  _rootToNode: function (node) {\n    if (node !== this.seriesModel.getViewRoot()) {\n      this.api.dispatchAction({\n        type: ROOT_TO_NODE_ACTION,\n        from: this.uid,\n        seriesId: this.seriesModel.id,\n        targetNode: node\n      });\n    }\n  },\n\n  /**\n   * @implement\n   */\n  containPoint: function (point, seriesModel) {\n    var treeRoot = seriesModel.getData();\n    var itemLayout = treeRoot.getItemLayout(0);\n\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  }\n});\nvar _default = SunburstView;\nmodule.exports = _default;"]}]}