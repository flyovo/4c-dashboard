{"remainingRequest":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/babel-loader/lib/index.js!/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/echarts/lib/component/legend/LegendView.js","dependencies":[{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/echarts/lib/component/legend/LegendView.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIik7CgovKgoqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmUKKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbgoqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiogIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZQoqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4KKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUKKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zCiogdW5kZXIgdGhlIExpY2Vuc2UuCiovCnZhciBfY29uZmlnID0gcmVxdWlyZSgiLi4vLi4vY29uZmlnIik7Cgp2YXIgX19ERVZfXyA9IF9jb25maWcuX19ERVZfXzsKCnZhciBlY2hhcnRzID0gcmVxdWlyZSgiLi4vLi4vZWNoYXJ0cyIpOwoKdmFyIHpyVXRpbCA9IHJlcXVpcmUoInpyZW5kZXIvbGliL2NvcmUvdXRpbCIpOwoKdmFyIF9zeW1ib2wgPSByZXF1aXJlKCIuLi8uLi91dGlsL3N5bWJvbCIpOwoKdmFyIGNyZWF0ZVN5bWJvbCA9IF9zeW1ib2wuY3JlYXRlU3ltYm9sOwoKdmFyIGdyYXBoaWMgPSByZXF1aXJlKCIuLi8uLi91dGlsL2dyYXBoaWMiKTsKCnZhciBfbGlzdENvbXBvbmVudCA9IHJlcXVpcmUoIi4uL2hlbHBlci9saXN0Q29tcG9uZW50Iik7Cgp2YXIgbWFrZUJhY2tncm91bmQgPSBfbGlzdENvbXBvbmVudC5tYWtlQmFja2dyb3VuZDsKCnZhciBsYXlvdXRVdGlsID0gcmVxdWlyZSgiLi4vLi4vdXRpbC9sYXlvdXQiKTsKLyoKKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lCiogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24KKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlCiogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQoqICJMaWNlbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2UKKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAoqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwoqIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwoKCnZhciBjdXJyeSA9IHpyVXRpbC5jdXJyeTsKdmFyIGVhY2ggPSB6clV0aWwuZWFjaDsKdmFyIEdyb3VwID0gZ3JhcGhpYy5Hcm91cDsKCnZhciBfZGVmYXVsdCA9IGVjaGFydHMuZXh0ZW5kQ29tcG9uZW50Vmlldyh7CiAgdHlwZTogJ2xlZ2VuZC5wbGFpbicsCiAgbmV3bGluZURpc2FibGVkOiBmYWxzZSwKCiAgLyoqCiAgICogQG92ZXJyaWRlCiAgICovCiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgIC8qKgogICAgICogQHByaXZhdGUKICAgICAqIEB0eXBlIHttb2R1bGU6enJlbmRlci9jb250YWluZXIvR3JvdXB9CiAgICAgKi8KICAgIHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2NvbnRlbnRHcm91cCA9IG5ldyBHcm91cCgpKTsKICAgIC8qKgogICAgICogQHByaXZhdGUKICAgICAqIEB0eXBlIHttb2R1bGU6enJlbmRlci9FbGVtZW50fQogICAgICovCgogICAgdGhpcy5fYmFja2dyb3VuZEVsOwogICAgLyoqCiAgICAgKiBAcHJpdmF0ZQogICAgICogQHR5cGUge21vZHVsZTp6cmVuZGVyL2NvbnRhaW5lci9Hcm91cH0KICAgICAqLwoKICAgIHRoaXMuZ3JvdXAuYWRkKHRoaXMuX3NlbGVjdG9yR3JvdXAgPSBuZXcgR3JvdXAoKSk7CiAgICAvKioKICAgICAqIElmIGZpcnN0IHJlbmRlcmluZywgYGNvbnRlbnRHcm91cC5wb3NpdGlvbmAgaXMgWzAsIDBdLCB3aGljaAogICAgICogZG9lcyBub3QgbWFrZSBzZW5zZSBhbmQgbWF5IGNhdXNlIHVuZXhlcGN0ZWQgYW5pbWF0aW9uIGlmIGFkb3B0ZWQuCiAgICAgKiBAcHJpdmF0ZQogICAgICogQHR5cGUge2Jvb2xlYW59CiAgICAgKi8KCiAgICB0aGlzLl9pc0ZpcnN0UmVuZGVyID0gdHJ1ZTsKICB9LAoKICAvKioKICAgKiBAcHJvdGVjdGVkCiAgICovCiAgZ2V0Q29udGVudEdyb3VwOiBmdW5jdGlvbiBnZXRDb250ZW50R3JvdXAoKSB7CiAgICByZXR1cm4gdGhpcy5fY29udGVudEdyb3VwOwogIH0sCgogIC8qKgogICAqIEBwcm90ZWN0ZWQKICAgKi8KICBnZXRTZWxlY3Rvckdyb3VwOiBmdW5jdGlvbiBnZXRTZWxlY3Rvckdyb3VwKCkgewogICAgcmV0dXJuIHRoaXMuX3NlbGVjdG9yR3JvdXA7CiAgfSwKCiAgLyoqCiAgICogQG92ZXJyaWRlCiAgICovCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIobGVnZW5kTW9kZWwsIGVjTW9kZWwsIGFwaSkgewogICAgdmFyIGlzRmlyc3RSZW5kZXIgPSB0aGlzLl9pc0ZpcnN0UmVuZGVyOwogICAgdGhpcy5faXNGaXJzdFJlbmRlciA9IGZhbHNlOwogICAgdGhpcy5yZXNldElubmVyKCk7CgogICAgaWYgKCFsZWdlbmRNb2RlbC5nZXQoJ3Nob3cnLCB0cnVlKSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIGl0ZW1BbGlnbiA9IGxlZ2VuZE1vZGVsLmdldCgnYWxpZ24nKTsKICAgIHZhciBvcmllbnQgPSBsZWdlbmRNb2RlbC5nZXQoJ29yaWVudCcpOwoKICAgIGlmICghaXRlbUFsaWduIHx8IGl0ZW1BbGlnbiA9PT0gJ2F1dG8nKSB7CiAgICAgIGl0ZW1BbGlnbiA9IGxlZ2VuZE1vZGVsLmdldCgnbGVmdCcpID09PSAncmlnaHQnICYmIG9yaWVudCA9PT0gJ3ZlcnRpY2FsJyA/ICdyaWdodCcgOiAnbGVmdCc7CiAgICB9CgogICAgdmFyIHNlbGVjdG9yID0gbGVnZW5kTW9kZWwuZ2V0KCdzZWxlY3RvcicsIHRydWUpOwogICAgdmFyIHNlbGVjdG9yUG9zaXRpb24gPSBsZWdlbmRNb2RlbC5nZXQoJ3NlbGVjdG9yUG9zaXRpb24nLCB0cnVlKTsKCiAgICBpZiAoc2VsZWN0b3IgJiYgKCFzZWxlY3RvclBvc2l0aW9uIHx8IHNlbGVjdG9yUG9zaXRpb24gPT09ICdhdXRvJykpIHsKICAgICAgc2VsZWN0b3JQb3NpdGlvbiA9IG9yaWVudCA9PT0gJ2hvcml6b250YWwnID8gJ2VuZCcgOiAnc3RhcnQnOwogICAgfQoKICAgIHRoaXMucmVuZGVySW5uZXIoaXRlbUFsaWduLCBsZWdlbmRNb2RlbCwgZWNNb2RlbCwgYXBpLCBzZWxlY3Rvciwgb3JpZW50LCBzZWxlY3RvclBvc2l0aW9uKTsgLy8gUGVyZm9ybSBsYXlvdXQuCgogICAgdmFyIHBvc2l0aW9uSW5mbyA9IGxlZ2VuZE1vZGVsLmdldEJveExheW91dFBhcmFtcygpOwogICAgdmFyIHZpZXdwb3J0U2l6ZSA9IHsKICAgICAgd2lkdGg6IGFwaS5nZXRXaWR0aCgpLAogICAgICBoZWlnaHQ6IGFwaS5nZXRIZWlnaHQoKQogICAgfTsKICAgIHZhciBwYWRkaW5nID0gbGVnZW5kTW9kZWwuZ2V0KCdwYWRkaW5nJyk7CiAgICB2YXIgbWF4U2l6ZSA9IGxheW91dFV0aWwuZ2V0TGF5b3V0UmVjdChwb3NpdGlvbkluZm8sIHZpZXdwb3J0U2l6ZSwgcGFkZGluZyk7CiAgICB2YXIgbWFpblJlY3QgPSB0aGlzLmxheW91dElubmVyKGxlZ2VuZE1vZGVsLCBpdGVtQWxpZ24sIG1heFNpemUsIGlzRmlyc3RSZW5kZXIsIHNlbGVjdG9yLCBzZWxlY3RvclBvc2l0aW9uKTsgLy8gUGxhY2UgbWFpbkdyb3VwLCBiYXNlZCBvbiB0aGUgY2FsY3VsYXRlZCBgbWFpblJlY3RgLgoKICAgIHZhciBsYXlvdXRSZWN0ID0gbGF5b3V0VXRpbC5nZXRMYXlvdXRSZWN0KHpyVXRpbC5kZWZhdWx0cyh7CiAgICAgIHdpZHRoOiBtYWluUmVjdC53aWR0aCwKICAgICAgaGVpZ2h0OiBtYWluUmVjdC5oZWlnaHQKICAgIH0sIHBvc2l0aW9uSW5mbyksIHZpZXdwb3J0U2l6ZSwgcGFkZGluZyk7CiAgICB0aGlzLmdyb3VwLmF0dHIoJ3Bvc2l0aW9uJywgW2xheW91dFJlY3QueCAtIG1haW5SZWN0LngsIGxheW91dFJlY3QueSAtIG1haW5SZWN0LnldKTsgLy8gUmVuZGVyIGJhY2tncm91bmQgYWZ0ZXIgZ3JvdXAgaXMgbGF5b3V0LgoKICAgIHRoaXMuZ3JvdXAuYWRkKHRoaXMuX2JhY2tncm91bmRFbCA9IG1ha2VCYWNrZ3JvdW5kKG1haW5SZWN0LCBsZWdlbmRNb2RlbCkpOwogIH0sCgogIC8qKgogICAqIEBwcm90ZWN0ZWQKICAgKi8KICByZXNldElubmVyOiBmdW5jdGlvbiByZXNldElubmVyKCkgewogICAgdGhpcy5nZXRDb250ZW50R3JvdXAoKS5yZW1vdmVBbGwoKTsKICAgIHRoaXMuX2JhY2tncm91bmRFbCAmJiB0aGlzLmdyb3VwLnJlbW92ZSh0aGlzLl9iYWNrZ3JvdW5kRWwpOwogICAgdGhpcy5nZXRTZWxlY3Rvckdyb3VwKCkucmVtb3ZlQWxsKCk7CiAgfSwKCiAgLyoqCiAgICogQHByb3RlY3RlZAogICAqLwogIHJlbmRlcklubmVyOiBmdW5jdGlvbiByZW5kZXJJbm5lcihpdGVtQWxpZ24sIGxlZ2VuZE1vZGVsLCBlY01vZGVsLCBhcGksIHNlbGVjdG9yLCBvcmllbnQsIHNlbGVjdG9yUG9zaXRpb24pIHsKICAgIHZhciBjb250ZW50R3JvdXAgPSB0aGlzLmdldENvbnRlbnRHcm91cCgpOwogICAgdmFyIGxlZ2VuZERyYXduTWFwID0genJVdGlsLmNyZWF0ZUhhc2hNYXAoKTsKICAgIHZhciBzZWxlY3RNb2RlID0gbGVnZW5kTW9kZWwuZ2V0KCdzZWxlY3RlZE1vZGUnKTsKICAgIHZhciBleGNsdWRlU2VyaWVzSWQgPSBbXTsKICAgIGVjTW9kZWwuZWFjaFJhd1NlcmllcyhmdW5jdGlvbiAoc2VyaWVzTW9kZWwpIHsKICAgICAgIXNlcmllc01vZGVsLmdldCgnbGVnZW5kSG92ZXJMaW5rJykgJiYgZXhjbHVkZVNlcmllc0lkLnB1c2goc2VyaWVzTW9kZWwuaWQpOwogICAgfSk7CiAgICBlYWNoKGxlZ2VuZE1vZGVsLmdldERhdGEoKSwgZnVuY3Rpb24gKGl0ZW1Nb2RlbCwgZGF0YUluZGV4KSB7CiAgICAgIHZhciBuYW1lID0gaXRlbU1vZGVsLmdldCgnbmFtZScpOyAvLyBVc2UgZW1wdHkgc3RyaW5nIG9yIFxuIGFzIGEgbmV3bGluZSBzdHJpbmcKCiAgICAgIGlmICghdGhpcy5uZXdsaW5lRGlzYWJsZWQgJiYgKG5hbWUgPT09ICcnIHx8IG5hbWUgPT09ICdcbicpKSB7CiAgICAgICAgY29udGVudEdyb3VwLmFkZChuZXcgR3JvdXAoewogICAgICAgICAgbmV3bGluZTogdHJ1ZQogICAgICAgIH0pKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gUmVwcmVzZW50aXRpdmUgc2VyaWVzLgoKCiAgICAgIHZhciBzZXJpZXNNb2RlbCA9IGVjTW9kZWwuZ2V0U2VyaWVzQnlOYW1lKG5hbWUpWzBdOwoKICAgICAgaWYgKGxlZ2VuZERyYXduTWFwLmdldChuYW1lKSkgewogICAgICAgIC8vIEhhdmUgYmVlbiBkcmF3ZWQKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gTGVnZW5kIHRvIGNvbnRyb2wgc2VyaWVzLgoKCiAgICAgIGlmIChzZXJpZXNNb2RlbCkgewogICAgICAgIHZhciBkYXRhID0gc2VyaWVzTW9kZWwuZ2V0RGF0YSgpOwogICAgICAgIHZhciBjb2xvciA9IGRhdGEuZ2V0VmlzdWFsKCdjb2xvcicpOwogICAgICAgIHZhciBib3JkZXJDb2xvciA9IGRhdGEuZ2V0VmlzdWFsKCdib3JkZXJDb2xvcicpOyAvLyBJZiBjb2xvciBpcyBhIGNhbGxiYWNrIGZ1bmN0aW9uCgogICAgICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgIC8vIFVzZSB0aGUgZmlyc3QgZGF0YQogICAgICAgICAgY29sb3IgPSBjb2xvcihzZXJpZXNNb2RlbC5nZXREYXRhUGFyYW1zKDApKTsKICAgICAgICB9IC8vIElmIGJvcmRlckNvbG9yIGlzIGEgY2FsbGJhY2sgZnVuY3Rpb24KCgogICAgICAgIGlmICh0eXBlb2YgYm9yZGVyQ29sb3IgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgIC8vIFVzZSB0aGUgZmlyc3QgZGF0YQogICAgICAgICAgYm9yZGVyQ29sb3IgPSBib3JkZXJDb2xvcihzZXJpZXNNb2RlbC5nZXREYXRhUGFyYW1zKDApKTsKICAgICAgICB9IC8vIFVzaW5nIHJlY3Qgc3ltYm9sIGRlZmF1bHRseQoKCiAgICAgICAgdmFyIGxlZ2VuZFN5bWJvbFR5cGUgPSBkYXRhLmdldFZpc3VhbCgnbGVnZW5kU3ltYm9sJykgfHwgJ3JvdW5kUmVjdCc7CiAgICAgICAgdmFyIHN5bWJvbFR5cGUgPSBkYXRhLmdldFZpc3VhbCgnc3ltYm9sJyk7CgogICAgICAgIHZhciBpdGVtR3JvdXAgPSB0aGlzLl9jcmVhdGVJdGVtKG5hbWUsIGRhdGFJbmRleCwgaXRlbU1vZGVsLCBsZWdlbmRNb2RlbCwgbGVnZW5kU3ltYm9sVHlwZSwgc3ltYm9sVHlwZSwgaXRlbUFsaWduLCBjb2xvciwgYm9yZGVyQ29sb3IsIHNlbGVjdE1vZGUpOwoKICAgICAgICBpdGVtR3JvdXAub24oJ2NsaWNrJywgY3VycnkoZGlzcGF0Y2hTZWxlY3RBY3Rpb24sIG5hbWUsIG51bGwsIGFwaSwgZXhjbHVkZVNlcmllc0lkKSkub24oJ21vdXNlb3ZlcicsIGN1cnJ5KGRpc3BhdGNoSGlnaGxpZ2h0QWN0aW9uLCBzZXJpZXNNb2RlbC5uYW1lLCBudWxsLCBhcGksIGV4Y2x1ZGVTZXJpZXNJZCkpLm9uKCdtb3VzZW91dCcsIGN1cnJ5KGRpc3BhdGNoRG93bnBsYXlBY3Rpb24sIHNlcmllc01vZGVsLm5hbWUsIG51bGwsIGFwaSwgZXhjbHVkZVNlcmllc0lkKSk7CiAgICAgICAgbGVnZW5kRHJhd25NYXAuc2V0KG5hbWUsIHRydWUpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIExlZ2VuZCB0byBjb250cm9sIGRhdGEuIEluIHBpZSBhbmQgZnVubmVsLgogICAgICAgIGVjTW9kZWwuZWFjaFJhd1NlcmllcyhmdW5jdGlvbiAoc2VyaWVzTW9kZWwpIHsKICAgICAgICAgIC8vIEluIGNhc2UgbXVsdGlwbGUgc2VyaWVzIGhhcyBzYW1lIGRhdGEgbmFtZQogICAgICAgICAgaWYgKGxlZ2VuZERyYXduTWFwLmdldChuYW1lKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHNlcmllc01vZGVsLmxlZ2VuZFZpc3VhbFByb3ZpZGVyKSB7CiAgICAgICAgICAgIHZhciBwcm92aWRlciA9IHNlcmllc01vZGVsLmxlZ2VuZFZpc3VhbFByb3ZpZGVyOwoKICAgICAgICAgICAgaWYgKCFwcm92aWRlci5jb250YWluTmFtZShuYW1lKSkgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIGlkeCA9IHByb3ZpZGVyLmluZGV4T2ZOYW1lKG5hbWUpOwogICAgICAgICAgICB2YXIgY29sb3IgPSBwcm92aWRlci5nZXRJdGVtVmlzdWFsKGlkeCwgJ2NvbG9yJyk7CiAgICAgICAgICAgIHZhciBib3JkZXJDb2xvciA9IHByb3ZpZGVyLmdldEl0ZW1WaXN1YWwoaWR4LCAnYm9yZGVyQ29sb3InKTsKICAgICAgICAgICAgdmFyIGxlZ2VuZFN5bWJvbFR5cGUgPSAncm91bmRSZWN0JzsKCiAgICAgICAgICAgIHZhciBpdGVtR3JvdXAgPSB0aGlzLl9jcmVhdGVJdGVtKG5hbWUsIGRhdGFJbmRleCwgaXRlbU1vZGVsLCBsZWdlbmRNb2RlbCwgbGVnZW5kU3ltYm9sVHlwZSwgbnVsbCwgaXRlbUFsaWduLCBjb2xvciwgYm9yZGVyQ29sb3IsIHNlbGVjdE1vZGUpOyAvLyBGSVhNRTogY29uc2lkZXIgZGlmZmVyZW50IHNlcmllcyBoYXMgaXRlbXMgd2l0aCB0aGUgc2FtZSBuYW1lLgoKCiAgICAgICAgICAgIGl0ZW1Hcm91cC5vbignY2xpY2snLCBjdXJyeShkaXNwYXRjaFNlbGVjdEFjdGlvbiwgbnVsbCwgbmFtZSwgYXBpLCBleGNsdWRlU2VyaWVzSWQpKSAvLyBTaG91bGQgbm90IHNwZWNpZnkgdGhlIHNlcmllcyBuYW1lLCBjb25zaWRlciBsZWdlbmQgY29udHJvbHMKICAgICAgICAgICAgLy8gbW9yZSB0aGFuIG9uZSBwaWUgc2VyaWVzLgogICAgICAgICAgICAub24oJ21vdXNlb3ZlcicsIGN1cnJ5KGRpc3BhdGNoSGlnaGxpZ2h0QWN0aW9uLCBudWxsLCBuYW1lLCBhcGksIGV4Y2x1ZGVTZXJpZXNJZCkpLm9uKCdtb3VzZW91dCcsIGN1cnJ5KGRpc3BhdGNoRG93bnBsYXlBY3Rpb24sIG51bGwsIG5hbWUsIGFwaSwgZXhjbHVkZVNlcmllc0lkKSk7CiAgICAgICAgICAgIGxlZ2VuZERyYXduTWFwLnNldChuYW1lLCB0cnVlKTsKICAgICAgICAgIH0KICAgICAgICB9LCB0aGlzKTsKICAgICAgfQogICAgfSwgdGhpcyk7CgogICAgaWYgKHNlbGVjdG9yKSB7CiAgICAgIHRoaXMuX2NyZWF0ZVNlbGVjdG9yKHNlbGVjdG9yLCBsZWdlbmRNb2RlbCwgYXBpLCBvcmllbnQsIHNlbGVjdG9yUG9zaXRpb24pOwogICAgfQogIH0sCiAgX2NyZWF0ZVNlbGVjdG9yOiBmdW5jdGlvbiBfY3JlYXRlU2VsZWN0b3Ioc2VsZWN0b3IsIGxlZ2VuZE1vZGVsLCBhcGksIG9yaWVudCwgc2VsZWN0b3JQb3NpdGlvbikgewogICAgdmFyIHNlbGVjdG9yR3JvdXAgPSB0aGlzLmdldFNlbGVjdG9yR3JvdXAoKTsKICAgIGVhY2goc2VsZWN0b3IsIGZ1bmN0aW9uIChzZWxlY3Rvckl0ZW0pIHsKICAgICAgY3JlYXRlU2VsZWN0b3JCdXR0b24oc2VsZWN0b3JJdGVtKTsKICAgIH0pOwoKICAgIGZ1bmN0aW9uIGNyZWF0ZVNlbGVjdG9yQnV0dG9uKHNlbGVjdG9ySXRlbSkgewogICAgICB2YXIgdHlwZSA9IHNlbGVjdG9ySXRlbS50eXBlOwogICAgICB2YXIgbGFiZWxUZXh0ID0gbmV3IGdyYXBoaWMuVGV4dCh7CiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHg6IDAsCiAgICAgICAgICB5OiAwLAogICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgdmVydGljYWxBbGlnbjogJ21pZGRsZScKICAgICAgICB9LAogICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uIG9uY2xpY2soKSB7CiAgICAgICAgICBhcGkuZGlzcGF0Y2hBY3Rpb24oewogICAgICAgICAgICB0eXBlOiB0eXBlID09PSAnYWxsJyA/ICdsZWdlbmRBbGxTZWxlY3QnIDogJ2xlZ2VuZEludmVyc2VTZWxlY3QnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBzZWxlY3Rvckdyb3VwLmFkZChsYWJlbFRleHQpOwogICAgICB2YXIgbGFiZWxNb2RlbCA9IGxlZ2VuZE1vZGVsLmdldE1vZGVsKCdzZWxlY3RvckxhYmVsJyk7CiAgICAgIHZhciBlbXBoYXNpc0xhYmVsTW9kZWwgPSBsZWdlbmRNb2RlbC5nZXRNb2RlbCgnZW1waGFzaXMuc2VsZWN0b3JMYWJlbCcpOwogICAgICBncmFwaGljLnNldExhYmVsU3R5bGUobGFiZWxUZXh0LnN0eWxlLCBsYWJlbFRleHQuaG92ZXJTdHlsZSA9IHt9LCBsYWJlbE1vZGVsLCBlbXBoYXNpc0xhYmVsTW9kZWwsIHsKICAgICAgICBkZWZhdWx0VGV4dDogc2VsZWN0b3JJdGVtLnRpdGxlLAogICAgICAgIGlzUmVjdFRleHQ6IGZhbHNlCiAgICAgIH0pOwogICAgICBncmFwaGljLnNldEhvdmVyU3R5bGUobGFiZWxUZXh0KTsKICAgIH0KICB9LAogIF9jcmVhdGVJdGVtOiBmdW5jdGlvbiBfY3JlYXRlSXRlbShuYW1lLCBkYXRhSW5kZXgsIGl0ZW1Nb2RlbCwgbGVnZW5kTW9kZWwsIGxlZ2VuZFN5bWJvbFR5cGUsIHN5bWJvbFR5cGUsIGl0ZW1BbGlnbiwgY29sb3IsIGJvcmRlckNvbG9yLCBzZWxlY3RNb2RlKSB7CiAgICB2YXIgaXRlbVdpZHRoID0gbGVnZW5kTW9kZWwuZ2V0KCdpdGVtV2lkdGgnKTsKICAgIHZhciBpdGVtSGVpZ2h0ID0gbGVnZW5kTW9kZWwuZ2V0KCdpdGVtSGVpZ2h0Jyk7CiAgICB2YXIgaW5hY3RpdmVDb2xvciA9IGxlZ2VuZE1vZGVsLmdldCgnaW5hY3RpdmVDb2xvcicpOwogICAgdmFyIGluYWN0aXZlQm9yZGVyQ29sb3IgPSBsZWdlbmRNb2RlbC5nZXQoJ2luYWN0aXZlQm9yZGVyQ29sb3InKTsKICAgIHZhciBzeW1ib2xLZWVwQXNwZWN0ID0gbGVnZW5kTW9kZWwuZ2V0KCdzeW1ib2xLZWVwQXNwZWN0Jyk7CiAgICB2YXIgbGVnZW5kTW9kZWxJdGVtU3R5bGUgPSBsZWdlbmRNb2RlbC5nZXRNb2RlbCgnaXRlbVN0eWxlJyk7CiAgICB2YXIgaXNTZWxlY3RlZCA9IGxlZ2VuZE1vZGVsLmlzU2VsZWN0ZWQobmFtZSk7CiAgICB2YXIgaXRlbUdyb3VwID0gbmV3IEdyb3VwKCk7CiAgICB2YXIgdGV4dFN0eWxlTW9kZWwgPSBpdGVtTW9kZWwuZ2V0TW9kZWwoJ3RleHRTdHlsZScpOwogICAgdmFyIGl0ZW1JY29uID0gaXRlbU1vZGVsLmdldCgnaWNvbicpOwogICAgdmFyIHRvb2x0aXBNb2RlbCA9IGl0ZW1Nb2RlbC5nZXRNb2RlbCgndG9vbHRpcCcpOwogICAgdmFyIGxlZ2VuZEdsb2JhbFRvb2x0aXBNb2RlbCA9IHRvb2x0aXBNb2RlbC5wYXJlbnRNb2RlbDsgLy8gVXNlIHVzZXIgZ2l2ZW4gaWNvbiBmaXJzdAoKICAgIGxlZ2VuZFN5bWJvbFR5cGUgPSBpdGVtSWNvbiB8fCBsZWdlbmRTeW1ib2xUeXBlOwogICAgdmFyIGxlZ2VuZFN5bWJvbCA9IGNyZWF0ZVN5bWJvbChsZWdlbmRTeW1ib2xUeXBlLCAwLCAwLCBpdGVtV2lkdGgsIGl0ZW1IZWlnaHQsIGlzU2VsZWN0ZWQgPyBjb2xvciA6IGluYWN0aXZlQ29sb3IsIC8vIHN5bWJvbEtlZXBBc3BlY3QgZGVmYXVsdCB0cnVlIGZvciBsZWdlbmQKICAgIHN5bWJvbEtlZXBBc3BlY3QgPT0gbnVsbCA/IHRydWUgOiBzeW1ib2xLZWVwQXNwZWN0KTsKICAgIGl0ZW1Hcm91cC5hZGQoc2V0U3ltYm9sU3R5bGUobGVnZW5kU3ltYm9sLCBsZWdlbmRTeW1ib2xUeXBlLCBsZWdlbmRNb2RlbEl0ZW1TdHlsZSwgYm9yZGVyQ29sb3IsIGluYWN0aXZlQm9yZGVyQ29sb3IsIGlzU2VsZWN0ZWQpKTsgLy8gQ29tcG9zZSBzeW1ib2xzCiAgICAvLyBQRU5ESU5HCgogICAgaWYgKCFpdGVtSWNvbiAmJiBzeW1ib2xUeXBlIC8vIEF0IGxlYXN0IHNob3cgb25lIHN5bWJvbCwgY2FuJ3QgYmUgYWxsIG5vbmUKICAgICYmIChzeW1ib2xUeXBlICE9PSBsZWdlbmRTeW1ib2xUeXBlIHx8IHN5bWJvbFR5cGUgPT09ICdub25lJykpIHsKICAgICAgdmFyIHNpemUgPSBpdGVtSGVpZ2h0ICogMC44OwoKICAgICAgaWYgKHN5bWJvbFR5cGUgPT09ICdub25lJykgewogICAgICAgIHN5bWJvbFR5cGUgPSAnY2lyY2xlJzsKICAgICAgfQoKICAgICAgdmFyIGxlZ2VuZFN5bWJvbENlbnRlciA9IGNyZWF0ZVN5bWJvbChzeW1ib2xUeXBlLCAoaXRlbVdpZHRoIC0gc2l6ZSkgLyAyLCAoaXRlbUhlaWdodCAtIHNpemUpIC8gMiwgc2l6ZSwgc2l6ZSwgaXNTZWxlY3RlZCA/IGNvbG9yIDogaW5hY3RpdmVDb2xvciwgLy8gc3ltYm9sS2VlcEFzcGVjdCBkZWZhdWx0IHRydWUgZm9yIGxlZ2VuZAogICAgICBzeW1ib2xLZWVwQXNwZWN0ID09IG51bGwgPyB0cnVlIDogc3ltYm9sS2VlcEFzcGVjdCk7IC8vIFB1dCBzeW1ib2wgaW4gdGhlIGNlbnRlcgoKICAgICAgaXRlbUdyb3VwLmFkZChzZXRTeW1ib2xTdHlsZShsZWdlbmRTeW1ib2xDZW50ZXIsIHN5bWJvbFR5cGUsIGxlZ2VuZE1vZGVsSXRlbVN0eWxlLCBib3JkZXJDb2xvciwgaW5hY3RpdmVCb3JkZXJDb2xvciwgaXNTZWxlY3RlZCkpOwogICAgfQoKICAgIHZhciB0ZXh0WCA9IGl0ZW1BbGlnbiA9PT0gJ2xlZnQnID8gaXRlbVdpZHRoICsgNSA6IC01OwogICAgdmFyIHRleHRBbGlnbiA9IGl0ZW1BbGlnbjsKICAgIHZhciBmb3JtYXR0ZXIgPSBsZWdlbmRNb2RlbC5nZXQoJ2Zvcm1hdHRlcicpOwogICAgdmFyIGNvbnRlbnQgPSBuYW1lOwoKICAgIGlmICh0eXBlb2YgZm9ybWF0dGVyID09PSAnc3RyaW5nJyAmJiBmb3JtYXR0ZXIpIHsKICAgICAgY29udGVudCA9IGZvcm1hdHRlci5yZXBsYWNlKCd7bmFtZX0nLCBuYW1lICE9IG51bGwgPyBuYW1lIDogJycpOwogICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybWF0dGVyID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIGNvbnRlbnQgPSBmb3JtYXR0ZXIobmFtZSk7CiAgICB9CgogICAgaXRlbUdyb3VwLmFkZChuZXcgZ3JhcGhpYy5UZXh0KHsKICAgICAgc3R5bGU6IGdyYXBoaWMuc2V0VGV4dFN0eWxlKHt9LCB0ZXh0U3R5bGVNb2RlbCwgewogICAgICAgIHRleHQ6IGNvbnRlbnQsCiAgICAgICAgeDogdGV4dFgsCiAgICAgICAgeTogaXRlbUhlaWdodCAvIDIsCiAgICAgICAgdGV4dEZpbGw6IGlzU2VsZWN0ZWQgPyB0ZXh0U3R5bGVNb2RlbC5nZXRUZXh0Q29sb3IoKSA6IGluYWN0aXZlQ29sb3IsCiAgICAgICAgdGV4dEFsaWduOiB0ZXh0QWxpZ24sCiAgICAgICAgdGV4dFZlcnRpY2FsQWxpZ246ICdtaWRkbGUnCiAgICAgIH0pCiAgICB9KSk7IC8vIEFkZCBhIGludmlzaWJsZSByZWN0IHRvIGluY3JlYXNlIHRoZSBhcmVhIG9mIG1vdXNlIGhvdmVyCgogICAgdmFyIGhpdFJlY3QgPSBuZXcgZ3JhcGhpYy5SZWN0KHsKICAgICAgc2hhcGU6IGl0ZW1Hcm91cC5nZXRCb3VuZGluZ1JlY3QoKSwKICAgICAgaW52aXNpYmxlOiB0cnVlLAogICAgICB0b29sdGlwOiB0b29sdGlwTW9kZWwuZ2V0KCdzaG93JykgPyB6clV0aWwuZXh0ZW5kKHsKICAgICAgICBjb250ZW50OiBuYW1lLAogICAgICAgIC8vIERlZmF1bCBmb3JtYXR0ZXIKICAgICAgICBmb3JtYXR0ZXI6IGxlZ2VuZEdsb2JhbFRvb2x0aXBNb2RlbC5nZXQoJ2Zvcm1hdHRlcicsIHRydWUpIHx8IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBuYW1lOwogICAgICAgIH0sCiAgICAgICAgZm9ybWF0dGVyUGFyYW1zOiB7CiAgICAgICAgICBjb21wb25lbnRUeXBlOiAnbGVnZW5kJywKICAgICAgICAgIGxlZ2VuZEluZGV4OiBsZWdlbmRNb2RlbC5jb21wb25lbnRJbmRleCwKICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAkdmFyczogWyduYW1lJ10KICAgICAgICB9CiAgICAgIH0sIHRvb2x0aXBNb2RlbC5vcHRpb24pIDogbnVsbAogICAgfSk7CiAgICBpdGVtR3JvdXAuYWRkKGhpdFJlY3QpOwogICAgaXRlbUdyb3VwLmVhY2hDaGlsZChmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgY2hpbGQuc2lsZW50ID0gdHJ1ZTsKICAgIH0pOwogICAgaGl0UmVjdC5zaWxlbnQgPSAhc2VsZWN0TW9kZTsKICAgIHRoaXMuZ2V0Q29udGVudEdyb3VwKCkuYWRkKGl0ZW1Hcm91cCk7CiAgICBncmFwaGljLnNldEhvdmVyU3R5bGUoaXRlbUdyb3VwKTsKICAgIGl0ZW1Hcm91cC5fX2xlZ2VuZERhdGFJbmRleCA9IGRhdGFJbmRleDsKICAgIHJldHVybiBpdGVtR3JvdXA7CiAgfSwKCiAgLyoqCiAgICogQHByb3RlY3RlZAogICAqLwogIGxheW91dElubmVyOiBmdW5jdGlvbiBsYXlvdXRJbm5lcihsZWdlbmRNb2RlbCwgaXRlbUFsaWduLCBtYXhTaXplLCBpc0ZpcnN0UmVuZGVyLCBzZWxlY3Rvciwgc2VsZWN0b3JQb3NpdGlvbikgewogICAgdmFyIGNvbnRlbnRHcm91cCA9IHRoaXMuZ2V0Q29udGVudEdyb3VwKCk7CiAgICB2YXIgc2VsZWN0b3JHcm91cCA9IHRoaXMuZ2V0U2VsZWN0b3JHcm91cCgpOyAvLyBQbGFjZSBpdGVtcyBpbiBjb250ZW50R3JvdXAuCgogICAgbGF5b3V0VXRpbC5ib3gobGVnZW5kTW9kZWwuZ2V0KCdvcmllbnQnKSwgY29udGVudEdyb3VwLCBsZWdlbmRNb2RlbC5nZXQoJ2l0ZW1HYXAnKSwgbWF4U2l6ZS53aWR0aCwgbWF4U2l6ZS5oZWlnaHQpOwogICAgdmFyIGNvbnRlbnRSZWN0ID0gY29udGVudEdyb3VwLmdldEJvdW5kaW5nUmVjdCgpOwogICAgdmFyIGNvbnRlbnRQb3MgPSBbLWNvbnRlbnRSZWN0LngsIC1jb250ZW50UmVjdC55XTsKCiAgICBpZiAoc2VsZWN0b3IpIHsKICAgICAgLy8gUGxhY2UgYnV0dG9ucyBpbiBzZWxlY3Rvckdyb3VwCiAgICAgIGxheW91dFV0aWwuYm94KCAvLyBCdXR0b25zIGluIHNlbGVjdG9yR3JvdXAgYWx3YXlzIGxheW91dCBob3Jpem9udGFsbHkKICAgICAgJ2hvcml6b250YWwnLCBzZWxlY3Rvckdyb3VwLCBsZWdlbmRNb2RlbC5nZXQoJ3NlbGVjdG9ySXRlbUdhcCcsIHRydWUpKTsKICAgICAgdmFyIHNlbGVjdG9yUmVjdCA9IHNlbGVjdG9yR3JvdXAuZ2V0Qm91bmRpbmdSZWN0KCk7CiAgICAgIHZhciBzZWxlY3RvclBvcyA9IFstc2VsZWN0b3JSZWN0LngsIC1zZWxlY3RvclJlY3QueV07CiAgICAgIHZhciBzZWxlY3RvckJ1dHRvbkdhcCA9IGxlZ2VuZE1vZGVsLmdldCgnc2VsZWN0b3JCdXR0b25HYXAnLCB0cnVlKTsKICAgICAgdmFyIG9yaWVudElkeCA9IGxlZ2VuZE1vZGVsLmdldE9yaWVudCgpLmluZGV4OwogICAgICB2YXIgd2ggPSBvcmllbnRJZHggPT09IDAgPyAnd2lkdGgnIDogJ2hlaWdodCc7CiAgICAgIHZhciBodyA9IG9yaWVudElkeCA9PT0gMCA/ICdoZWlnaHQnIDogJ3dpZHRoJzsKICAgICAgdmFyIHl4ID0gb3JpZW50SWR4ID09PSAwID8gJ3knIDogJ3gnOwoKICAgICAgaWYgKHNlbGVjdG9yUG9zaXRpb24gPT09ICdlbmQnKSB7CiAgICAgICAgc2VsZWN0b3JQb3Nbb3JpZW50SWR4XSArPSBjb250ZW50UmVjdFt3aF0gKyBzZWxlY3RvckJ1dHRvbkdhcDsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb250ZW50UG9zW29yaWVudElkeF0gKz0gc2VsZWN0b3JSZWN0W3doXSArIHNlbGVjdG9yQnV0dG9uR2FwOwogICAgICB9IC8vQWx3YXlzIGFsaWduIHNlbGVjdG9yIHRvIGNvbnRlbnQgYXMgJ21pZGRsZScKCgogICAgICBzZWxlY3RvclBvc1sxIC0gb3JpZW50SWR4XSArPSBjb250ZW50UmVjdFtod10gLyAyIC0gc2VsZWN0b3JSZWN0W2h3XSAvIDI7CiAgICAgIHNlbGVjdG9yR3JvdXAuYXR0cigncG9zaXRpb24nLCBzZWxlY3RvclBvcyk7CiAgICAgIGNvbnRlbnRHcm91cC5hdHRyKCdwb3NpdGlvbicsIGNvbnRlbnRQb3MpOwogICAgICB2YXIgbWFpblJlY3QgPSB7CiAgICAgICAgeDogMCwKICAgICAgICB5OiAwCiAgICAgIH07CiAgICAgIG1haW5SZWN0W3doXSA9IGNvbnRlbnRSZWN0W3doXSArIHNlbGVjdG9yQnV0dG9uR2FwICsgc2VsZWN0b3JSZWN0W3doXTsKICAgICAgbWFpblJlY3RbaHddID0gTWF0aC5tYXgoY29udGVudFJlY3RbaHddLCBzZWxlY3RvclJlY3RbaHddKTsKICAgICAgbWFpblJlY3RbeXhdID0gTWF0aC5taW4oMCwgc2VsZWN0b3JSZWN0W3l4XSArIHNlbGVjdG9yUG9zWzEgLSBvcmllbnRJZHhdKTsKICAgICAgcmV0dXJuIG1haW5SZWN0OwogICAgfSBlbHNlIHsKICAgICAgY29udGVudEdyb3VwLmF0dHIoJ3Bvc2l0aW9uJywgY29udGVudFBvcyk7CiAgICAgIHJldHVybiB0aGlzLmdyb3VwLmdldEJvdW5kaW5nUmVjdCgpOwogICAgfQogIH0sCgogIC8qKgogICAqIEBwcm90ZWN0ZWQKICAgKi8KICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgIHRoaXMuZ2V0Q29udGVudEdyb3VwKCkucmVtb3ZlQWxsKCk7CiAgICB0aGlzLl9pc0ZpcnN0UmVuZGVyID0gdHJ1ZTsKICB9Cn0pOwoKZnVuY3Rpb24gc2V0U3ltYm9sU3R5bGUoc3ltYm9sLCBzeW1ib2xUeXBlLCBsZWdlbmRNb2RlbEl0ZW1TdHlsZSwgYm9yZGVyQ29sb3IsIGluYWN0aXZlQm9yZGVyQ29sb3IsIGlzU2VsZWN0ZWQpIHsKICB2YXIgaXRlbVN0eWxlOwoKICBpZiAoc3ltYm9sVHlwZSAhPT0gJ2xpbmUnICYmIHN5bWJvbFR5cGUuaW5kZXhPZignZW1wdHknKSA8IDApIHsKICAgIGl0ZW1TdHlsZSA9IGxlZ2VuZE1vZGVsSXRlbVN0eWxlLmdldEl0ZW1TdHlsZSgpOwogICAgc3ltYm9sLnN0eWxlLnN0cm9rZSA9IGJvcmRlckNvbG9yOwoKICAgIGlmICghaXNTZWxlY3RlZCkgewogICAgICBpdGVtU3R5bGUuc3Ryb2tlID0gaW5hY3RpdmVCb3JkZXJDb2xvcjsKICAgIH0KICB9IGVsc2UgewogICAgaXRlbVN0eWxlID0gbGVnZW5kTW9kZWxJdGVtU3R5bGUuZ2V0SXRlbVN0eWxlKFsnYm9yZGVyV2lkdGgnLCAnYm9yZGVyQ29sb3InXSk7CiAgfQoKICByZXR1cm4gc3ltYm9sLnNldFN0eWxlKGl0ZW1TdHlsZSk7Cn0KCmZ1bmN0aW9uIGRpc3BhdGNoU2VsZWN0QWN0aW9uKHNlcmllc05hbWUsIGRhdGFOYW1lLCBhcGksIGV4Y2x1ZGVTZXJpZXNJZCkgewogIC8vIGRvd25wbGF5IGJlZm9yZSB1bnNlbGVjdAogIGRpc3BhdGNoRG93bnBsYXlBY3Rpb24oc2VyaWVzTmFtZSwgZGF0YU5hbWUsIGFwaSwgZXhjbHVkZVNlcmllc0lkKTsKICBhcGkuZGlzcGF0Y2hBY3Rpb24oewogICAgdHlwZTogJ2xlZ2VuZFRvZ2dsZVNlbGVjdCcsCiAgICBuYW1lOiBzZXJpZXNOYW1lICE9IG51bGwgPyBzZXJpZXNOYW1lIDogZGF0YU5hbWUKICB9KTsgLy8gaGlnaGxpZ2h0IGFmdGVyIHNlbGVjdAoKICBkaXNwYXRjaEhpZ2hsaWdodEFjdGlvbihzZXJpZXNOYW1lLCBkYXRhTmFtZSwgYXBpLCBleGNsdWRlU2VyaWVzSWQpOwp9CgpmdW5jdGlvbiBkaXNwYXRjaEhpZ2hsaWdodEFjdGlvbihzZXJpZXNOYW1lLCBkYXRhTmFtZSwgYXBpLCBleGNsdWRlU2VyaWVzSWQpIHsKICAvLyBJZiBlbGVtZW50IGhvdmVyIHdpbGwgbW92ZSB0byBhIGhvdmVyTGF5ZXIuCiAgdmFyIGVsID0gYXBpLmdldFpyKCkuc3RvcmFnZS5nZXREaXNwbGF5TGlzdCgpWzBdOwoKICBpZiAoIShlbCAmJiBlbC51c2VIb3ZlckxheWVyKSkgewogICAgYXBpLmRpc3BhdGNoQWN0aW9uKHsKICAgICAgdHlwZTogJ2hpZ2hsaWdodCcsCiAgICAgIHNlcmllc05hbWU6IHNlcmllc05hbWUsCiAgICAgIG5hbWU6IGRhdGFOYW1lLAogICAgICBleGNsdWRlU2VyaWVzSWQ6IGV4Y2x1ZGVTZXJpZXNJZAogICAgfSk7CiAgfQp9CgpmdW5jdGlvbiBkaXNwYXRjaERvd25wbGF5QWN0aW9uKHNlcmllc05hbWUsIGRhdGFOYW1lLCBhcGksIGV4Y2x1ZGVTZXJpZXNJZCkgewogIC8vIElmIGVsZW1lbnQgaG92ZXIgd2lsbCBtb3ZlIHRvIGEgaG92ZXJMYXllci4KICB2YXIgZWwgPSBhcGkuZ2V0WnIoKS5zdG9yYWdlLmdldERpc3BsYXlMaXN0KClbMF07CgogIGlmICghKGVsICYmIGVsLnVzZUhvdmVyTGF5ZXIpKSB7CiAgICBhcGkuZGlzcGF0Y2hBY3Rpb24oewogICAgICB0eXBlOiAnZG93bnBsYXknLAogICAgICBzZXJpZXNOYW1lOiBzZXJpZXNOYW1lLAogICAgICBuYW1lOiBkYXRhTmFtZSwKICAgICAgZXhjbHVkZVNlcmllc0lkOiBleGNsdWRlU2VyaWVzSWQKICAgIH0pOwogIH0KfQoKbW9kdWxlLmV4cG9ydHMgPSBfZGVmYXVsdDs="},{"version":3,"sources":["/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/echarts/lib/component/legend/LegendView.js"],"names":["_config","require","__DEV__","echarts","zrUtil","_symbol","createSymbol","graphic","_listComponent","makeBackground","layoutUtil","curry","each","Group","_default","extendComponentView","type","newlineDisabled","init","group","add","_contentGroup","_backgroundEl","_selectorGroup","_isFirstRender","getContentGroup","getSelectorGroup","render","legendModel","ecModel","api","isFirstRender","resetInner","get","itemAlign","orient","selector","selectorPosition","renderInner","positionInfo","getBoxLayoutParams","viewportSize","width","getWidth","height","getHeight","padding","maxSize","getLayoutRect","mainRect","layoutInner","layoutRect","defaults","attr","x","y","removeAll","remove","contentGroup","legendDrawnMap","createHashMap","selectMode","excludeSeriesId","eachRawSeries","seriesModel","push","id","getData","itemModel","dataIndex","name","newline","getSeriesByName","data","color","getVisual","borderColor","getDataParams","legendSymbolType","symbolType","itemGroup","_createItem","on","dispatchSelectAction","dispatchHighlightAction","dispatchDownplayAction","set","legendVisualProvider","provider","containName","idx","indexOfName","getItemVisual","_createSelector","selectorGroup","selectorItem","createSelectorButton","labelText","Text","style","align","verticalAlign","onclick","dispatchAction","labelModel","getModel","emphasisLabelModel","setLabelStyle","hoverStyle","defaultText","title","isRectText","setHoverStyle","itemWidth","itemHeight","inactiveColor","inactiveBorderColor","symbolKeepAspect","legendModelItemStyle","isSelected","textStyleModel","itemIcon","tooltipModel","legendGlobalTooltipModel","parentModel","legendSymbol","setSymbolStyle","size","legendSymbolCenter","textX","textAlign","formatter","content","replace","setTextStyle","text","textFill","getTextColor","textVerticalAlign","hitRect","Rect","shape","getBoundingRect","invisible","tooltip","extend","formatterParams","componentType","legendIndex","componentIndex","$vars","option","eachChild","child","silent","__legendDataIndex","box","contentRect","contentPos","selectorRect","selectorPos","selectorButtonGap","orientIdx","getOrient","index","wh","hw","yx","Math","max","min","symbol","itemStyle","indexOf","getItemStyle","stroke","setStyle","seriesName","dataName","el","getZr","storage","getDisplayList","useHoverLayer","module","exports"],"mappings":"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","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _listComponent = require(\"../helper/listComponent\");\n\nvar makeBackground = _listComponent.makeBackground;\n\nvar layoutUtil = require(\"../../util/layout\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar Group = graphic.Group;\n\nvar _default = echarts.extendComponentView({\n  type: 'legend.plain',\n  newlineDisabled: false,\n\n  /**\n   * @override\n   */\n  init: function () {\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n    this.group.add(this._contentGroup = new Group());\n    /**\n     * @private\n     * @type {module:zrender/Element}\n     */\n\n    this._backgroundEl;\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n\n    this.group.add(this._selectorGroup = new Group());\n    /**\n     * If first rendering, `contentGroup.position` is [0, 0], which\n     * does not make sense and may cause unexepcted animation if adopted.\n     * @private\n     * @type {boolean}\n     */\n\n    this._isFirstRender = true;\n  },\n\n  /**\n   * @protected\n   */\n  getContentGroup: function () {\n    return this._contentGroup;\n  },\n\n  /**\n   * @protected\n   */\n  getSelectorGroup: function () {\n    return this._selectorGroup;\n  },\n\n  /**\n   * @override\n   */\n  render: function (legendModel, ecModel, api) {\n    var isFirstRender = this._isFirstRender;\n    this._isFirstRender = false;\n    this.resetInner();\n\n    if (!legendModel.get('show', true)) {\n      return;\n    }\n\n    var itemAlign = legendModel.get('align');\n    var orient = legendModel.get('orient');\n\n    if (!itemAlign || itemAlign === 'auto') {\n      itemAlign = legendModel.get('left') === 'right' && orient === 'vertical' ? 'right' : 'left';\n    }\n\n    var selector = legendModel.get('selector', true);\n    var selectorPosition = legendModel.get('selectorPosition', true);\n\n    if (selector && (!selectorPosition || selectorPosition === 'auto')) {\n      selectorPosition = orient === 'horizontal' ? 'end' : 'start';\n    }\n\n    this.renderInner(itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition); // Perform layout.\n\n    var positionInfo = legendModel.getBoxLayoutParams();\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var padding = legendModel.get('padding');\n    var maxSize = layoutUtil.getLayoutRect(positionInfo, viewportSize, padding);\n    var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition); // Place mainGroup, based on the calculated `mainRect`.\n\n    var layoutRect = layoutUtil.getLayoutRect(zrUtil.defaults({\n      width: mainRect.width,\n      height: mainRect.height\n    }, positionInfo), viewportSize, padding);\n    this.group.attr('position', [layoutRect.x - mainRect.x, layoutRect.y - mainRect.y]); // Render background after group is layout.\n\n    this.group.add(this._backgroundEl = makeBackground(mainRect, legendModel));\n  },\n\n  /**\n   * @protected\n   */\n  resetInner: function () {\n    this.getContentGroup().removeAll();\n    this._backgroundEl && this.group.remove(this._backgroundEl);\n    this.getSelectorGroup().removeAll();\n  },\n\n  /**\n   * @protected\n   */\n  renderInner: function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var legendDrawnMap = zrUtil.createHashMap();\n    var selectMode = legendModel.get('selectedMode');\n    var excludeSeriesId = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n    });\n    each(legendModel.getData(), function (itemModel, dataIndex) {\n      var name = itemModel.get('name'); // Use empty string or \\n as a newline string\n\n      if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n        contentGroup.add(new Group({\n          newline: true\n        }));\n        return;\n      } // Representitive series.\n\n\n      var seriesModel = ecModel.getSeriesByName(name)[0];\n\n      if (legendDrawnMap.get(name)) {\n        // Have been drawed\n        return;\n      } // Legend to control series.\n\n\n      if (seriesModel) {\n        var data = seriesModel.getData();\n        var color = data.getVisual('color');\n        var borderColor = data.getVisual('borderColor'); // If color is a callback function\n\n        if (typeof color === 'function') {\n          // Use the first data\n          color = color(seriesModel.getDataParams(0));\n        } // If borderColor is a callback function\n\n\n        if (typeof borderColor === 'function') {\n          // Use the first data\n          borderColor = borderColor(seriesModel.getDataParams(0));\n        } // Using rect symbol defaultly\n\n\n        var legendSymbolType = data.getVisual('legendSymbol') || 'roundRect';\n        var symbolType = data.getVisual('symbol');\n\n        var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, borderColor, selectMode);\n\n        itemGroup.on('click', curry(dispatchSelectAction, name, null, api, excludeSeriesId)).on('mouseover', curry(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n        legendDrawnMap.set(name, true);\n      } else {\n        // Legend to control data. In pie and funnel.\n        ecModel.eachRawSeries(function (seriesModel) {\n          // In case multiple series has same data name\n          if (legendDrawnMap.get(name)) {\n            return;\n          }\n\n          if (seriesModel.legendVisualProvider) {\n            var provider = seriesModel.legendVisualProvider;\n\n            if (!provider.containName(name)) {\n              return;\n            }\n\n            var idx = provider.indexOfName(name);\n            var color = provider.getItemVisual(idx, 'color');\n            var borderColor = provider.getItemVisual(idx, 'borderColor');\n            var legendSymbolType = 'roundRect';\n\n            var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, null, itemAlign, color, borderColor, selectMode); // FIXME: consider different series has items with the same name.\n\n\n            itemGroup.on('click', curry(dispatchSelectAction, null, name, api, excludeSeriesId)) // Should not specify the series name, consider legend controls\n            // more than one pie series.\n            .on('mouseover', curry(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, null, name, api, excludeSeriesId));\n            legendDrawnMap.set(name, true);\n          }\n        }, this);\n      }\n    }, this);\n\n    if (selector) {\n      this._createSelector(selector, legendModel, api, orient, selectorPosition);\n    }\n  },\n  _createSelector: function (selector, legendModel, api, orient, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    each(selector, function (selectorItem) {\n      createSelectorButton(selectorItem);\n    });\n\n    function createSelectorButton(selectorItem) {\n      var type = selectorItem.type;\n      var labelText = new graphic.Text({\n        style: {\n          x: 0,\n          y: 0,\n          align: 'center',\n          verticalAlign: 'middle'\n        },\n        onclick: function () {\n          api.dispatchAction({\n            type: type === 'all' ? 'legendAllSelect' : 'legendInverseSelect'\n          });\n        }\n      });\n      selectorGroup.add(labelText);\n      var labelModel = legendModel.getModel('selectorLabel');\n      var emphasisLabelModel = legendModel.getModel('emphasis.selectorLabel');\n      graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, emphasisLabelModel, {\n        defaultText: selectorItem.title,\n        isRectText: false\n      });\n      graphic.setHoverStyle(labelText);\n    }\n  },\n  _createItem: function (name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, borderColor, selectMode) {\n    var itemWidth = legendModel.get('itemWidth');\n    var itemHeight = legendModel.get('itemHeight');\n    var inactiveColor = legendModel.get('inactiveColor');\n    var inactiveBorderColor = legendModel.get('inactiveBorderColor');\n    var symbolKeepAspect = legendModel.get('symbolKeepAspect');\n    var legendModelItemStyle = legendModel.getModel('itemStyle');\n    var isSelected = legendModel.isSelected(name);\n    var itemGroup = new Group();\n    var textStyleModel = itemModel.getModel('textStyle');\n    var itemIcon = itemModel.get('icon');\n    var tooltipModel = itemModel.getModel('tooltip');\n    var legendGlobalTooltipModel = tooltipModel.parentModel; // Use user given icon first\n\n    legendSymbolType = itemIcon || legendSymbolType;\n    var legendSymbol = createSymbol(legendSymbolType, 0, 0, itemWidth, itemHeight, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n    symbolKeepAspect == null ? true : symbolKeepAspect);\n    itemGroup.add(setSymbolStyle(legendSymbol, legendSymbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected)); // Compose symbols\n    // PENDING\n\n    if (!itemIcon && symbolType // At least show one symbol, can't be all none\n    && (symbolType !== legendSymbolType || symbolType === 'none')) {\n      var size = itemHeight * 0.8;\n\n      if (symbolType === 'none') {\n        symbolType = 'circle';\n      }\n\n      var legendSymbolCenter = createSymbol(symbolType, (itemWidth - size) / 2, (itemHeight - size) / 2, size, size, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n      symbolKeepAspect == null ? true : symbolKeepAspect); // Put symbol in the center\n\n      itemGroup.add(setSymbolStyle(legendSymbolCenter, symbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected));\n    }\n\n    var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n    var textAlign = itemAlign;\n    var formatter = legendModel.get('formatter');\n    var content = name;\n\n    if (typeof formatter === 'string' && formatter) {\n      content = formatter.replace('{name}', name != null ? name : '');\n    } else if (typeof formatter === 'function') {\n      content = formatter(name);\n    }\n\n    itemGroup.add(new graphic.Text({\n      style: graphic.setTextStyle({}, textStyleModel, {\n        text: content,\n        x: textX,\n        y: itemHeight / 2,\n        textFill: isSelected ? textStyleModel.getTextColor() : inactiveColor,\n        textAlign: textAlign,\n        textVerticalAlign: 'middle'\n      })\n    })); // Add a invisible rect to increase the area of mouse hover\n\n    var hitRect = new graphic.Rect({\n      shape: itemGroup.getBoundingRect(),\n      invisible: true,\n      tooltip: tooltipModel.get('show') ? zrUtil.extend({\n        content: name,\n        // Defaul formatter\n        formatter: legendGlobalTooltipModel.get('formatter', true) || function () {\n          return name;\n        },\n        formatterParams: {\n          componentType: 'legend',\n          legendIndex: legendModel.componentIndex,\n          name: name,\n          $vars: ['name']\n        }\n      }, tooltipModel.option) : null\n    });\n    itemGroup.add(hitRect);\n    itemGroup.eachChild(function (child) {\n      child.silent = true;\n    });\n    hitRect.silent = !selectMode;\n    this.getContentGroup().add(itemGroup);\n    graphic.setHoverStyle(itemGroup);\n    itemGroup.__legendDataIndex = dataIndex;\n    return itemGroup;\n  },\n\n  /**\n   * @protected\n   */\n  layoutInner: function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var selectorGroup = this.getSelectorGroup(); // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n    var contentRect = contentGroup.getBoundingRect();\n    var contentPos = [-contentRect.x, -contentRect.y];\n\n    if (selector) {\n      // Place buttons in selectorGroup\n      layoutUtil.box( // Buttons in selectorGroup always layout horizontally\n      'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n      var selectorRect = selectorGroup.getBoundingRect();\n      var selectorPos = [-selectorRect.x, -selectorRect.y];\n      var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n      var orientIdx = legendModel.getOrient().index;\n      var wh = orientIdx === 0 ? 'width' : 'height';\n      var hw = orientIdx === 0 ? 'height' : 'width';\n      var yx = orientIdx === 0 ? 'y' : 'x';\n\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += contentRect[wh] + selectorButtonGap;\n      } else {\n        contentPos[orientIdx] += selectorRect[wh] + selectorButtonGap;\n      } //Always align selector to content as 'middle'\n\n\n      selectorPos[1 - orientIdx] += contentRect[hw] / 2 - selectorRect[hw] / 2;\n      selectorGroup.attr('position', selectorPos);\n      contentGroup.attr('position', contentPos);\n      var mainRect = {\n        x: 0,\n        y: 0\n      };\n      mainRect[wh] = contentRect[wh] + selectorButtonGap + selectorRect[wh];\n      mainRect[hw] = Math.max(contentRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(0, selectorRect[yx] + selectorPos[1 - orientIdx]);\n      return mainRect;\n    } else {\n      contentGroup.attr('position', contentPos);\n      return this.group.getBoundingRect();\n    }\n  },\n\n  /**\n   * @protected\n   */\n  remove: function () {\n    this.getContentGroup().removeAll();\n    this._isFirstRender = true;\n  }\n});\n\nfunction setSymbolStyle(symbol, symbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected) {\n  var itemStyle;\n\n  if (symbolType !== 'line' && symbolType.indexOf('empty') < 0) {\n    itemStyle = legendModelItemStyle.getItemStyle();\n    symbol.style.stroke = borderColor;\n\n    if (!isSelected) {\n      itemStyle.stroke = inactiveBorderColor;\n    }\n  } else {\n    itemStyle = legendModelItemStyle.getItemStyle(['borderWidth', 'borderColor']);\n  }\n\n  return symbol.setStyle(itemStyle);\n}\n\nfunction dispatchSelectAction(seriesName, dataName, api, excludeSeriesId) {\n  // downplay before unselect\n  dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId);\n  api.dispatchAction({\n    type: 'legendToggleSelect',\n    name: seriesName != null ? seriesName : dataName\n  }); // highlight after select\n\n  dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId);\n}\n\nfunction dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  var el = api.getZr().storage.getDisplayList()[0];\n\n  if (!(el && el.useHoverLayer)) {\n    api.dispatchAction({\n      type: 'highlight',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nfunction dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  var el = api.getZr().storage.getDisplayList()[0];\n\n  if (!(el && el.useHoverLayer)) {\n    api.dispatchAction({\n      type: 'downplay',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nmodule.exports = _default;"]}]}