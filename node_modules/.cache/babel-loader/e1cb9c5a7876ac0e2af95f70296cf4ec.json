{"remainingRequest":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/babel-loader/lib/index.js!/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/echarts/lib/chart/line/lineAnimationDiff.js","dependencies":[{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/echarts/lib/chart/line/lineAnimationDiff.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIik7CgovKgoqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmUKKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUKKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbgoqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUKKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlCiogIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZQoqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKKgoqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCioKKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsCiogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4KKiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUKKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zCiogdW5kZXIgdGhlIExpY2Vuc2UuCiovCnZhciBfaGVscGVyID0gcmVxdWlyZSgiLi9oZWxwZXIiKTsKCnZhciBwcmVwYXJlRGF0YUNvb3JkSW5mbyA9IF9oZWxwZXIucHJlcGFyZURhdGFDb29yZEluZm87CnZhciBnZXRTdGFja2VkT25Qb2ludCA9IF9oZWxwZXIuZ2V0U3RhY2tlZE9uUG9pbnQ7Ci8qCiogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQoqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQoqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uCiogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQoqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgoqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQoqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQoqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKKiB1bmRlciB0aGUgTGljZW5zZS4KKi8KLy8gdmFyIGFycmF5RGlmZiA9IHJlcXVpcmUoJ3pyZW5kZXIvc3JjL2NvcmUvYXJyYXlEaWZmJyk7Ci8vICd6cmVuZGVyL3NyYy9jb3JlL2FycmF5RGlmZicgaGFzIGJlZW4gdXNlZCBiZWZvcmUsIGJ1dCBpdCBkaWQKLy8gbm90IGRvIHdlbGwgaW4gcGVyZm9ybWFuY2Ugd2hlbiByb2FtIHdpdGggZml4ZWQgZGF0YVpvb20gd2luZG93LgovLyBmdW5jdGlvbiBjb252ZXJ0VG9JbnRJZChuZXdJZExpc3QsIG9sZElkTGlzdCkgewovLyAgICAgLy8gR2VuZXJhdGUgaW50IGlkIGluc3RlYWQgb2Ygc3RyaW5nIGlkLgovLyAgICAgLy8gQ29tcGFyZSBzdHJpbmcgbWF5YmUgc2xvdyBpbiBzY29yZSBmdW5jdGlvbiBvZiBhcnJEaWZmCi8vICAgICAvLyBBc3N1bWUgaWQgaW4gaWRMaXN0IGFyZSBhbGwgdW5pcXVlCi8vICAgICB2YXIgaWRJbmRpY2VzTWFwID0ge307Ci8vICAgICB2YXIgaWR4ID0gMDsKLy8gICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3SWRMaXN0Lmxlbmd0aDsgaSsrKSB7Ci8vICAgICAgICAgaWRJbmRpY2VzTWFwW25ld0lkTGlzdFtpXV0gPSBpZHg7Ci8vICAgICAgICAgbmV3SWRMaXN0W2ldID0gaWR4Kys7Ci8vICAgICB9Ci8vICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZElkTGlzdC5sZW5ndGg7IGkrKykgewovLyAgICAgICAgIHZhciBvbGRJZCA9IG9sZElkTGlzdFtpXTsKLy8gICAgICAgICAvLyBTYW1lIHdpdGggbmV3SWRMaXN0Ci8vICAgICAgICAgaWYgKGlkSW5kaWNlc01hcFtvbGRJZF0pIHsKLy8gICAgICAgICAgICAgb2xkSWRMaXN0W2ldID0gaWRJbmRpY2VzTWFwW29sZElkXTsKLy8gICAgICAgICB9Ci8vICAgICAgICAgZWxzZSB7Ci8vICAgICAgICAgICAgIG9sZElkTGlzdFtpXSA9IGlkeCsrOwovLyAgICAgICAgIH0KLy8gICAgIH0KLy8gfQoKZnVuY3Rpb24gZGlmZkRhdGEob2xkRGF0YSwgbmV3RGF0YSkgewogIHZhciBkaWZmUmVzdWx0ID0gW107CiAgbmV3RGF0YS5kaWZmKG9sZERhdGEpLmFkZChmdW5jdGlvbiAoaWR4KSB7CiAgICBkaWZmUmVzdWx0LnB1c2goewogICAgICBjbWQ6ICcrJywKICAgICAgaWR4OiBpZHgKICAgIH0pOwogIH0pLnVwZGF0ZShmdW5jdGlvbiAobmV3SWR4LCBvbGRJZHgpIHsKICAgIGRpZmZSZXN1bHQucHVzaCh7CiAgICAgIGNtZDogJz0nLAogICAgICBpZHg6IG9sZElkeCwKICAgICAgaWR4MTogbmV3SWR4CiAgICB9KTsKICB9KS5yZW1vdmUoZnVuY3Rpb24gKGlkeCkgewogICAgZGlmZlJlc3VsdC5wdXNoKHsKICAgICAgY21kOiAnLScsCiAgICAgIGlkeDogaWR4CiAgICB9KTsKICB9KS5leGVjdXRlKCk7CiAgcmV0dXJuIGRpZmZSZXN1bHQ7Cn0KCmZ1bmN0aW9uIF9kZWZhdWx0KG9sZERhdGEsIG5ld0RhdGEsIG9sZFN0YWNrZWRPblBvaW50cywgbmV3U3RhY2tlZE9uUG9pbnRzLCBvbGRDb29yZFN5cywgbmV3Q29vcmRTeXMsIG9sZFZhbHVlT3JpZ2luLCBuZXdWYWx1ZU9yaWdpbikgewogIHZhciBkaWZmID0gZGlmZkRhdGEob2xkRGF0YSwgbmV3RGF0YSk7IC8vIHZhciBuZXdJZExpc3QgPSBuZXdEYXRhLm1hcEFycmF5KG5ld0RhdGEuZ2V0SWQpOwogIC8vIHZhciBvbGRJZExpc3QgPSBvbGREYXRhLm1hcEFycmF5KG9sZERhdGEuZ2V0SWQpOwogIC8vIGNvbnZlcnRUb0ludElkKG5ld0lkTGlzdCwgb2xkSWRMaXN0KTsKICAvLyAvLyBGSVhNRSBPbmUgZGF0YSA/CiAgLy8gZGlmZiA9IGFycmF5RGlmZihvbGRJZExpc3QsIG5ld0lkTGlzdCk7CgogIHZhciBjdXJyUG9pbnRzID0gW107CiAgdmFyIG5leHRQb2ludHMgPSBbXTsgLy8gUG9pbnRzIGZvciBzdGFja2luZyBiYXNlIGxpbmUKCiAgdmFyIGN1cnJTdGFja2VkUG9pbnRzID0gW107CiAgdmFyIG5leHRTdGFja2VkUG9pbnRzID0gW107CiAgdmFyIHN0YXR1cyA9IFtdOwogIHZhciBzb3J0ZWRJbmRpY2VzID0gW107CiAgdmFyIHJhd0luZGljZXMgPSBbXTsKICB2YXIgbmV3RGF0YU9sZENvb3JkSW5mbyA9IHByZXBhcmVEYXRhQ29vcmRJbmZvKG9sZENvb3JkU3lzLCBuZXdEYXRhLCBvbGRWYWx1ZU9yaWdpbik7CiAgdmFyIG9sZERhdGFOZXdDb29yZEluZm8gPSBwcmVwYXJlRGF0YUNvb3JkSW5mbyhuZXdDb29yZFN5cywgb2xkRGF0YSwgbmV3VmFsdWVPcmlnaW4pOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IGRpZmYubGVuZ3RoOyBpKyspIHsKICAgIHZhciBkaWZmSXRlbSA9IGRpZmZbaV07CiAgICB2YXIgcG9pbnRBZGRlZCA9IHRydWU7IC8vIEZJWE1FLCBhbmltYXRpb24gaXMgbm90IHNvIHBlcmZlY3Qgd2hlbiBkYXRhWm9vbSB3aW5kb3cgbW92ZXMgZmFzdAogICAgLy8gV2hpY2ggaXMgaW4gY2FzZSByZW12b2luZyBvciBhZGQgbW9yZSB0aGFuIG9uZSBkYXRhIGluIHRoZSB0YWlsIG9yIGhlYWQKCiAgICBzd2l0Y2ggKGRpZmZJdGVtLmNtZCkgewogICAgICBjYXNlICc9JzoKICAgICAgICB2YXIgY3VycmVudFB0ID0gb2xkRGF0YS5nZXRJdGVtTGF5b3V0KGRpZmZJdGVtLmlkeCk7CiAgICAgICAgdmFyIG5leHRQdCA9IG5ld0RhdGEuZ2V0SXRlbUxheW91dChkaWZmSXRlbS5pZHgxKTsgLy8gSWYgcHJldmlvdXMgZGF0YSBpcyBOYU4sIHVzZSBuZXh0IHBvaW50IGRpcmVjdGx5CgogICAgICAgIGlmIChpc05hTihjdXJyZW50UHRbMF0pIHx8IGlzTmFOKGN1cnJlbnRQdFsxXSkpIHsKICAgICAgICAgIGN1cnJlbnRQdCA9IG5leHRQdC5zbGljZSgpOwogICAgICAgIH0KCiAgICAgICAgY3VyclBvaW50cy5wdXNoKGN1cnJlbnRQdCk7CiAgICAgICAgbmV4dFBvaW50cy5wdXNoKG5leHRQdCk7CiAgICAgICAgY3VyclN0YWNrZWRQb2ludHMucHVzaChvbGRTdGFja2VkT25Qb2ludHNbZGlmZkl0ZW0uaWR4XSk7CiAgICAgICAgbmV4dFN0YWNrZWRQb2ludHMucHVzaChuZXdTdGFja2VkT25Qb2ludHNbZGlmZkl0ZW0uaWR4MV0pOwogICAgICAgIHJhd0luZGljZXMucHVzaChuZXdEYXRhLmdldFJhd0luZGV4KGRpZmZJdGVtLmlkeDEpKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJysnOgogICAgICAgIHZhciBpZHggPSBkaWZmSXRlbS5pZHg7CiAgICAgICAgY3VyclBvaW50cy5wdXNoKG9sZENvb3JkU3lzLmRhdGFUb1BvaW50KFtuZXdEYXRhLmdldChuZXdEYXRhT2xkQ29vcmRJbmZvLmRhdGFEaW1zRm9yUG9pbnRbMF0sIGlkeCksIG5ld0RhdGEuZ2V0KG5ld0RhdGFPbGRDb29yZEluZm8uZGF0YURpbXNGb3JQb2ludFsxXSwgaWR4KV0pKTsKICAgICAgICBuZXh0UG9pbnRzLnB1c2gobmV3RGF0YS5nZXRJdGVtTGF5b3V0KGlkeCkuc2xpY2UoKSk7CiAgICAgICAgY3VyclN0YWNrZWRQb2ludHMucHVzaChnZXRTdGFja2VkT25Qb2ludChuZXdEYXRhT2xkQ29vcmRJbmZvLCBvbGRDb29yZFN5cywgbmV3RGF0YSwgaWR4KSk7CiAgICAgICAgbmV4dFN0YWNrZWRQb2ludHMucHVzaChuZXdTdGFja2VkT25Qb2ludHNbaWR4XSk7CiAgICAgICAgcmF3SW5kaWNlcy5wdXNoKG5ld0RhdGEuZ2V0UmF3SW5kZXgoaWR4KSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICctJzoKICAgICAgICB2YXIgaWR4ID0gZGlmZkl0ZW0uaWR4OwogICAgICAgIHZhciByYXdJbmRleCA9IG9sZERhdGEuZ2V0UmF3SW5kZXgoaWR4KTsgLy8gRGF0YSBpcyByZXBsYWNlZC4gSW4gdGhlIGNhc2Ugb2YgZHluYW1pYyBkYXRhIHF1ZXVlCiAgICAgICAgLy8gRklYTUUgRklYTUUgRklYTUUKCiAgICAgICAgaWYgKHJhd0luZGV4ICE9PSBpZHgpIHsKICAgICAgICAgIGN1cnJQb2ludHMucHVzaChvbGREYXRhLmdldEl0ZW1MYXlvdXQoaWR4KSk7CiAgICAgICAgICBuZXh0UG9pbnRzLnB1c2gobmV3Q29vcmRTeXMuZGF0YVRvUG9pbnQoW29sZERhdGEuZ2V0KG9sZERhdGFOZXdDb29yZEluZm8uZGF0YURpbXNGb3JQb2ludFswXSwgaWR4KSwgb2xkRGF0YS5nZXQob2xkRGF0YU5ld0Nvb3JkSW5mby5kYXRhRGltc0ZvclBvaW50WzFdLCBpZHgpXSkpOwogICAgICAgICAgY3VyclN0YWNrZWRQb2ludHMucHVzaChvbGRTdGFja2VkT25Qb2ludHNbaWR4XSk7CiAgICAgICAgICBuZXh0U3RhY2tlZFBvaW50cy5wdXNoKGdldFN0YWNrZWRPblBvaW50KG9sZERhdGFOZXdDb29yZEluZm8sIG5ld0Nvb3JkU3lzLCBvbGREYXRhLCBpZHgpKTsKICAgICAgICAgIHJhd0luZGljZXMucHVzaChyYXdJbmRleCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHBvaW50QWRkZWQgPSBmYWxzZTsKICAgICAgICB9CgogICAgfSAvLyBPcmlnaW5hbCBpbmRpY2VzCgoKICAgIGlmIChwb2ludEFkZGVkKSB7CiAgICAgIHN0YXR1cy5wdXNoKGRpZmZJdGVtKTsKICAgICAgc29ydGVkSW5kaWNlcy5wdXNoKHNvcnRlZEluZGljZXMubGVuZ3RoKTsKICAgIH0KICB9IC8vIERpZmYgcmVzdWx0IG1heSBiZSBjcm9zc2VkIGlmIGFsbCBpdGVtcyBhcmUgY2hhbmdlZAogIC8vIFNvcnQgYnkgZGF0YSBpbmRleAoKCiAgc29ydGVkSW5kaWNlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICByZXR1cm4gcmF3SW5kaWNlc1thXSAtIHJhd0luZGljZXNbYl07CiAgfSk7CiAgdmFyIHNvcnRlZEN1cnJQb2ludHMgPSBbXTsKICB2YXIgc29ydGVkTmV4dFBvaW50cyA9IFtdOwogIHZhciBzb3J0ZWRDdXJyU3RhY2tlZFBvaW50cyA9IFtdOwogIHZhciBzb3J0ZWROZXh0U3RhY2tlZFBvaW50cyA9IFtdOwogIHZhciBzb3J0ZWRTdGF0dXMgPSBbXTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3J0ZWRJbmRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgaWR4ID0gc29ydGVkSW5kaWNlc1tpXTsKICAgIHNvcnRlZEN1cnJQb2ludHNbaV0gPSBjdXJyUG9pbnRzW2lkeF07CiAgICBzb3J0ZWROZXh0UG9pbnRzW2ldID0gbmV4dFBvaW50c1tpZHhdOwogICAgc29ydGVkQ3VyclN0YWNrZWRQb2ludHNbaV0gPSBjdXJyU3RhY2tlZFBvaW50c1tpZHhdOwogICAgc29ydGVkTmV4dFN0YWNrZWRQb2ludHNbaV0gPSBuZXh0U3RhY2tlZFBvaW50c1tpZHhdOwogICAgc29ydGVkU3RhdHVzW2ldID0gc3RhdHVzW2lkeF07CiAgfQoKICByZXR1cm4gewogICAgY3VycmVudDogc29ydGVkQ3VyclBvaW50cywKICAgIG5leHQ6IHNvcnRlZE5leHRQb2ludHMsCiAgICBzdGFja2VkT25DdXJyZW50OiBzb3J0ZWRDdXJyU3RhY2tlZFBvaW50cywKICAgIHN0YWNrZWRPbk5leHQ6IHNvcnRlZE5leHRTdGFja2VkUG9pbnRzLAogICAgc3RhdHVzOiBzb3J0ZWRTdGF0dXMKICB9Owp9Cgptb2R1bGUuZXhwb3J0cyA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/echarts/lib/chart/line/lineAnimationDiff.js"],"names":["_helper","require","prepareDataCoordInfo","getStackedOnPoint","diffData","oldData","newData","diffResult","diff","add","idx","push","cmd","update","newIdx","oldIdx","idx1","remove","execute","_default","oldStackedOnPoints","newStackedOnPoints","oldCoordSys","newCoordSys","oldValueOrigin","newValueOrigin","currPoints","nextPoints","currStackedPoints","nextStackedPoints","status","sortedIndices","rawIndices","newDataOldCoordInfo","oldDataNewCoordInfo","i","length","diffItem","pointAdded","currentPt","getItemLayout","nextPt","isNaN","slice","getRawIndex","dataToPoint","get","dataDimsForPoint","rawIndex","sort","a","b","sortedCurrPoints","sortedNextPoints","sortedCurrStackedPoints","sortedNextStackedPoints","sortedStatus","current","next","stackedOnCurrent","stackedOnNext","module","exports"],"mappings":"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","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _helper = require(\"./helper\");\n\nvar prepareDataCoordInfo = _helper.prepareDataCoordInfo;\nvar getStackedOnPoint = _helper.getStackedOnPoint;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// var arrayDiff = require('zrender/src/core/arrayDiff');\n// 'zrender/src/core/arrayDiff' has been used before, but it did\n// not do well in performance when roam with fixed dataZoom window.\n// function convertToIntId(newIdList, oldIdList) {\n//     // Generate int id instead of string id.\n//     // Compare string maybe slow in score function of arrDiff\n//     // Assume id in idList are all unique\n//     var idIndicesMap = {};\n//     var idx = 0;\n//     for (var i = 0; i < newIdList.length; i++) {\n//         idIndicesMap[newIdList[i]] = idx;\n//         newIdList[i] = idx++;\n//     }\n//     for (var i = 0; i < oldIdList.length; i++) {\n//         var oldId = oldIdList[i];\n//         // Same with newIdList\n//         if (idIndicesMap[oldId]) {\n//             oldIdList[i] = idIndicesMap[oldId];\n//         }\n//         else {\n//             oldIdList[i] = idx++;\n//         }\n//     }\n// }\nfunction diffData(oldData, newData) {\n  var diffResult = [];\n  newData.diff(oldData).add(function (idx) {\n    diffResult.push({\n      cmd: '+',\n      idx: idx\n    });\n  }).update(function (newIdx, oldIdx) {\n    diffResult.push({\n      cmd: '=',\n      idx: oldIdx,\n      idx1: newIdx\n    });\n  }).remove(function (idx) {\n    diffResult.push({\n      cmd: '-',\n      idx: idx\n    });\n  }).execute();\n  return diffResult;\n}\n\nfunction _default(oldData, newData, oldStackedOnPoints, newStackedOnPoints, oldCoordSys, newCoordSys, oldValueOrigin, newValueOrigin) {\n  var diff = diffData(oldData, newData); // var newIdList = newData.mapArray(newData.getId);\n  // var oldIdList = oldData.mapArray(oldData.getId);\n  // convertToIntId(newIdList, oldIdList);\n  // // FIXME One data ?\n  // diff = arrayDiff(oldIdList, newIdList);\n\n  var currPoints = [];\n  var nextPoints = []; // Points for stacking base line\n\n  var currStackedPoints = [];\n  var nextStackedPoints = [];\n  var status = [];\n  var sortedIndices = [];\n  var rawIndices = [];\n  var newDataOldCoordInfo = prepareDataCoordInfo(oldCoordSys, newData, oldValueOrigin);\n  var oldDataNewCoordInfo = prepareDataCoordInfo(newCoordSys, oldData, newValueOrigin);\n\n  for (var i = 0; i < diff.length; i++) {\n    var diffItem = diff[i];\n    var pointAdded = true; // FIXME, animation is not so perfect when dataZoom window moves fast\n    // Which is in case remvoing or add more than one data in the tail or head\n\n    switch (diffItem.cmd) {\n      case '=':\n        var currentPt = oldData.getItemLayout(diffItem.idx);\n        var nextPt = newData.getItemLayout(diffItem.idx1); // If previous data is NaN, use next point directly\n\n        if (isNaN(currentPt[0]) || isNaN(currentPt[1])) {\n          currentPt = nextPt.slice();\n        }\n\n        currPoints.push(currentPt);\n        nextPoints.push(nextPt);\n        currStackedPoints.push(oldStackedOnPoints[diffItem.idx]);\n        nextStackedPoints.push(newStackedOnPoints[diffItem.idx1]);\n        rawIndices.push(newData.getRawIndex(diffItem.idx1));\n        break;\n\n      case '+':\n        var idx = diffItem.idx;\n        currPoints.push(oldCoordSys.dataToPoint([newData.get(newDataOldCoordInfo.dataDimsForPoint[0], idx), newData.get(newDataOldCoordInfo.dataDimsForPoint[1], idx)]));\n        nextPoints.push(newData.getItemLayout(idx).slice());\n        currStackedPoints.push(getStackedOnPoint(newDataOldCoordInfo, oldCoordSys, newData, idx));\n        nextStackedPoints.push(newStackedOnPoints[idx]);\n        rawIndices.push(newData.getRawIndex(idx));\n        break;\n\n      case '-':\n        var idx = diffItem.idx;\n        var rawIndex = oldData.getRawIndex(idx); // Data is replaced. In the case of dynamic data queue\n        // FIXME FIXME FIXME\n\n        if (rawIndex !== idx) {\n          currPoints.push(oldData.getItemLayout(idx));\n          nextPoints.push(newCoordSys.dataToPoint([oldData.get(oldDataNewCoordInfo.dataDimsForPoint[0], idx), oldData.get(oldDataNewCoordInfo.dataDimsForPoint[1], idx)]));\n          currStackedPoints.push(oldStackedOnPoints[idx]);\n          nextStackedPoints.push(getStackedOnPoint(oldDataNewCoordInfo, newCoordSys, oldData, idx));\n          rawIndices.push(rawIndex);\n        } else {\n          pointAdded = false;\n        }\n\n    } // Original indices\n\n\n    if (pointAdded) {\n      status.push(diffItem);\n      sortedIndices.push(sortedIndices.length);\n    }\n  } // Diff result may be crossed if all items are changed\n  // Sort by data index\n\n\n  sortedIndices.sort(function (a, b) {\n    return rawIndices[a] - rawIndices[b];\n  });\n  var sortedCurrPoints = [];\n  var sortedNextPoints = [];\n  var sortedCurrStackedPoints = [];\n  var sortedNextStackedPoints = [];\n  var sortedStatus = [];\n\n  for (var i = 0; i < sortedIndices.length; i++) {\n    var idx = sortedIndices[i];\n    sortedCurrPoints[i] = currPoints[idx];\n    sortedNextPoints[i] = nextPoints[idx];\n    sortedCurrStackedPoints[i] = currStackedPoints[idx];\n    sortedNextStackedPoints[i] = nextStackedPoints[idx];\n    sortedStatus[i] = status[idx];\n  }\n\n  return {\n    current: sortedCurrPoints,\n    next: sortedNextPoints,\n    stackedOnCurrent: sortedCurrStackedPoints,\n    stackedOnNext: sortedNextStackedPoints,\n    status: sortedStatus\n  };\n}\n\nmodule.exports = _default;"]}]}