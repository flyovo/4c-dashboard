{"remainingRequest":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/babel-loader/lib/index.js!/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/echarts/lib/chart/themeRiver/themeRiverLayout.js","dependencies":[{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/echarts/lib/chart/themeRiver/themeRiverLayout.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyIpOwoKLyoKKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lCiogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlCiogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24KKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlCiogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZQoqICJMaWNlbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2UKKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLAoqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuCiogIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlCiogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucwoqIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwp2YXIgenJVdGlsID0gcmVxdWlyZSgienJlbmRlci9saWIvY29yZS91dGlsIik7Cgp2YXIgbnVtYmVyVXRpbCA9IHJlcXVpcmUoIi4uLy4uL3V0aWwvbnVtYmVyIik7Ci8qCiogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZQoqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZQoqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uCiogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZQoqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUKKiAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlCiogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywKKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbgoqICJBUyBJUyIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQoqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZQoqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMKKiB1bmRlciB0aGUgTGljZW5zZS4KKi8KCgpmdW5jdGlvbiBfZGVmYXVsdChlY01vZGVsLCBhcGkpIHsKICBlY01vZGVsLmVhY2hTZXJpZXNCeVR5cGUoJ3RoZW1lUml2ZXInLCBmdW5jdGlvbiAoc2VyaWVzTW9kZWwpIHsKICAgIHZhciBkYXRhID0gc2VyaWVzTW9kZWwuZ2V0RGF0YSgpOwogICAgdmFyIHNpbmdsZSA9IHNlcmllc01vZGVsLmNvb3JkaW5hdGVTeXN0ZW07CiAgICB2YXIgbGF5b3V0SW5mbyA9IHt9OyAvLyB1c2UgdGhlIGF4aXMgYm91bmRpbmdSZWN0IGZvciB2aWV3CgogICAgdmFyIHJlY3QgPSBzaW5nbGUuZ2V0UmVjdCgpOwogICAgbGF5b3V0SW5mby5yZWN0ID0gcmVjdDsKICAgIHZhciBib3VuZGFyeUdhcCA9IHNlcmllc01vZGVsLmdldCgnYm91bmRhcnlHYXAnKTsKICAgIHZhciBheGlzID0gc2luZ2xlLmdldEF4aXMoKTsKICAgIGxheW91dEluZm8uYm91bmRhcnlHYXAgPSBib3VuZGFyeUdhcDsKCiAgICBpZiAoYXhpcy5vcmllbnQgPT09ICdob3Jpem9udGFsJykgewogICAgICBib3VuZGFyeUdhcFswXSA9IG51bWJlclV0aWwucGFyc2VQZXJjZW50KGJvdW5kYXJ5R2FwWzBdLCByZWN0LmhlaWdodCk7CiAgICAgIGJvdW5kYXJ5R2FwWzFdID0gbnVtYmVyVXRpbC5wYXJzZVBlcmNlbnQoYm91bmRhcnlHYXBbMV0sIHJlY3QuaGVpZ2h0KTsKICAgICAgdmFyIGhlaWdodCA9IHJlY3QuaGVpZ2h0IC0gYm91bmRhcnlHYXBbMF0gLSBib3VuZGFyeUdhcFsxXTsKICAgICAgdGhlbWVSaXZlckxheW91dChkYXRhLCBzZXJpZXNNb2RlbCwgaGVpZ2h0KTsKICAgIH0gZWxzZSB7CiAgICAgIGJvdW5kYXJ5R2FwWzBdID0gbnVtYmVyVXRpbC5wYXJzZVBlcmNlbnQoYm91bmRhcnlHYXBbMF0sIHJlY3Qud2lkdGgpOwogICAgICBib3VuZGFyeUdhcFsxXSA9IG51bWJlclV0aWwucGFyc2VQZXJjZW50KGJvdW5kYXJ5R2FwWzFdLCByZWN0LndpZHRoKTsKICAgICAgdmFyIHdpZHRoID0gcmVjdC53aWR0aCAtIGJvdW5kYXJ5R2FwWzBdIC0gYm91bmRhcnlHYXBbMV07CiAgICAgIHRoZW1lUml2ZXJMYXlvdXQoZGF0YSwgc2VyaWVzTW9kZWwsIHdpZHRoKTsKICAgIH0KCiAgICBkYXRhLnNldExheW91dCgnbGF5b3V0SW5mbycsIGxheW91dEluZm8pOwogIH0pOwp9Ci8qKgogKiBUaGUgbGF5b3V0IGluZm9ybWF0aW9uIGFib3V0IHRoZW1lcml2ZXIKICoKICogQHBhcmFtIHttb2R1bGU6ZWNoYXJ0cy9kYXRhL0xpc3R9IGRhdGEgIGRhdGEgaW4gdGhlIHNlcmllcwogKiBAcGFyYW0ge21vZHVsZTplY2hhcnRzL21vZGVsL1Nlcmllc30gc2VyaWVzTW9kZWwgIHRoZSBtb2RlbCBvYmplY3Qgb2YgdGhlbWVSaXZlciBzZXJpZXMKICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAgdmFsdWUgdXNlZCB0byBjb21wdXRlIGV2ZXJ5IHNlcmllcyBoZWlnaHQKICovCgoKZnVuY3Rpb24gdGhlbWVSaXZlckxheW91dChkYXRhLCBzZXJpZXNNb2RlbCwgaGVpZ2h0KSB7CiAgaWYgKCFkYXRhLmNvdW50KCkpIHsKICAgIHJldHVybjsKICB9CgogIHZhciBjb29yZFN5cyA9IHNlcmllc01vZGVsLmNvb3JkaW5hdGVTeXN0ZW07IC8vIHRoZSBkYXRhIGluIGVhY2ggbGF5ZXIgYXJlIG9yZ2FuaXplZCBpbnRvIGEgc2VyaWVzLgoKICB2YXIgbGF5ZXJTZXJpZXMgPSBzZXJpZXNNb2RlbC5nZXRMYXllclNlcmllcygpOyAvLyB0aGUgcG9pbnRzIGluIGVhY2ggbGF5ZXIuCgogIHZhciB0aW1lRGltID0gZGF0YS5tYXBEaW1lbnNpb24oJ3NpbmdsZScpOwogIHZhciB2YWx1ZURpbSA9IGRhdGEubWFwRGltZW5zaW9uKCd2YWx1ZScpOwogIHZhciBsYXllclBvaW50cyA9IHpyVXRpbC5tYXAobGF5ZXJTZXJpZXMsIGZ1bmN0aW9uIChzaW5nbGVMYXllcikgewogICAgcmV0dXJuIHpyVXRpbC5tYXAoc2luZ2xlTGF5ZXIuaW5kaWNlcywgZnVuY3Rpb24gKGlkeCkgewogICAgICB2YXIgcHQgPSBjb29yZFN5cy5kYXRhVG9Qb2ludChkYXRhLmdldCh0aW1lRGltLCBpZHgpKTsKICAgICAgcHRbMV0gPSBkYXRhLmdldCh2YWx1ZURpbSwgaWR4KTsKICAgICAgcmV0dXJuIHB0OwogICAgfSk7CiAgfSk7CiAgdmFyIGJhc2UgPSBjb21wdXRlQmFzZWxpbmUobGF5ZXJQb2ludHMpOwogIHZhciBiYXNlTGluZSA9IGJhc2UueTA7CiAgdmFyIGt5ID0gaGVpZ2h0IC8gYmFzZS5tYXg7IC8vIHNldCBsYXlvdXQgaW5mb3JtYXRpb24gZm9yIGVhY2ggaXRlbS4KCiAgdmFyIG4gPSBsYXllclNlcmllcy5sZW5ndGg7CiAgdmFyIG0gPSBsYXllclNlcmllc1swXS5pbmRpY2VzLmxlbmd0aDsKICB2YXIgYmFzZVkwOwoKICBmb3IgKHZhciBqID0gMDsgaiA8IG07ICsraikgewogICAgYmFzZVkwID0gYmFzZUxpbmVbal0gKiBreTsKICAgIGRhdGEuc2V0SXRlbUxheW91dChsYXllclNlcmllc1swXS5pbmRpY2VzW2pdLCB7CiAgICAgIGxheWVySW5kZXg6IDAsCiAgICAgIHg6IGxheWVyUG9pbnRzWzBdW2pdWzBdLAogICAgICB5MDogYmFzZVkwLAogICAgICB5OiBsYXllclBvaW50c1swXVtqXVsxXSAqIGt5CiAgICB9KTsKCiAgICBmb3IgKHZhciBpID0gMTsgaSA8IG47ICsraSkgewogICAgICBiYXNlWTAgKz0gbGF5ZXJQb2ludHNbaSAtIDFdW2pdWzFdICoga3k7CiAgICAgIGRhdGEuc2V0SXRlbUxheW91dChsYXllclNlcmllc1tpXS5pbmRpY2VzW2pdLCB7CiAgICAgICAgbGF5ZXJJbmRleDogaSwKICAgICAgICB4OiBsYXllclBvaW50c1tpXVtqXVswXSwKICAgICAgICB5MDogYmFzZVkwLAogICAgICAgIHk6IGxheWVyUG9pbnRzW2ldW2pdWzFdICoga3kKICAgICAgfSk7CiAgICB9CiAgfQp9Ci8qKgogKiBDb21wdXRlIHRoZSBiYXNlTGluZSBvZiB0aGUgcmF3ZGF0YQogKiBJbnNwaXJlZCBieSBMZWUgQnlyb24ncyBwYXBlciBTdGFja2VkIEdyYXBocyAtIEdlb21ldHJ5ICYgQWVzdGhldGljcwogKgogKiBAcGFyYW0gIHtBcnJheS48QXJyYXk+fSBkYXRhICB0aGUgcG9pbnRzIGluIGVhY2ggbGF5ZXIKICogQHJldHVybiB7T2JqZWN0fQogKi8KCgpmdW5jdGlvbiBjb21wdXRlQmFzZWxpbmUoZGF0YSkgewogIHZhciBsYXllck51bSA9IGRhdGEubGVuZ3RoOwogIHZhciBwb2ludE51bSA9IGRhdGFbMF0ubGVuZ3RoOwogIHZhciBzdW1zID0gW107CiAgdmFyIHkwID0gW107CiAgdmFyIG1heCA9IDA7CiAgdmFyIHRlbXA7CiAgdmFyIGJhc2UgPSB7fTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludE51bTsgKytpKSB7CiAgICBmb3IgKHZhciBqID0gMCwgdGVtcCA9IDA7IGogPCBsYXllck51bTsgKytqKSB7CiAgICAgIHRlbXAgKz0gZGF0YVtqXVtpXVsxXTsKICAgIH0KCiAgICBpZiAodGVtcCA+IG1heCkgewogICAgICBtYXggPSB0ZW1wOwogICAgfQoKICAgIHN1bXMucHVzaCh0ZW1wKTsKICB9CgogIGZvciAodmFyIGsgPSAwOyBrIDwgcG9pbnROdW07ICsraykgewogICAgeTBba10gPSAobWF4IC0gc3Vtc1trXSkgLyAyOwogIH0KCiAgbWF4ID0gMDsKCiAgZm9yICh2YXIgbCA9IDA7IGwgPCBwb2ludE51bTsgKytsKSB7CiAgICB2YXIgc3VtID0gc3Vtc1tsXSArIHkwW2xdOwoKICAgIGlmIChzdW0gPiBtYXgpIHsKICAgICAgbWF4ID0gc3VtOwogICAgfQogIH0KCiAgYmFzZS55MCA9IHkwOwogIGJhc2UubWF4ID0gbWF4OwogIHJldHVybiBiYXNlOwp9Cgptb2R1bGUuZXhwb3J0cyA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/echarts/lib/chart/themeRiver/themeRiverLayout.js"],"names":["zrUtil","require","numberUtil","_default","ecModel","api","eachSeriesByType","seriesModel","data","getData","single","coordinateSystem","layoutInfo","rect","getRect","boundaryGap","get","axis","getAxis","orient","parsePercent","height","themeRiverLayout","width","setLayout","count","coordSys","layerSeries","getLayerSeries","timeDim","mapDimension","valueDim","layerPoints","map","singleLayer","indices","idx","pt","dataToPoint","base","computeBaseline","baseLine","y0","ky","max","n","length","m","baseY0","j","setItemLayout","layerIndex","x","y","i","layerNum","pointNum","sums","temp","push","k","l","sum","module","exports"],"mappings":"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","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar numberUtil = require(\"../../util/number\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel, api) {\n  ecModel.eachSeriesByType('themeRiver', function (seriesModel) {\n    var data = seriesModel.getData();\n    var single = seriesModel.coordinateSystem;\n    var layoutInfo = {}; // use the axis boundingRect for view\n\n    var rect = single.getRect();\n    layoutInfo.rect = rect;\n    var boundaryGap = seriesModel.get('boundaryGap');\n    var axis = single.getAxis();\n    layoutInfo.boundaryGap = boundaryGap;\n\n    if (axis.orient === 'horizontal') {\n      boundaryGap[0] = numberUtil.parsePercent(boundaryGap[0], rect.height);\n      boundaryGap[1] = numberUtil.parsePercent(boundaryGap[1], rect.height);\n      var height = rect.height - boundaryGap[0] - boundaryGap[1];\n      themeRiverLayout(data, seriesModel, height);\n    } else {\n      boundaryGap[0] = numberUtil.parsePercent(boundaryGap[0], rect.width);\n      boundaryGap[1] = numberUtil.parsePercent(boundaryGap[1], rect.width);\n      var width = rect.width - boundaryGap[0] - boundaryGap[1];\n      themeRiverLayout(data, seriesModel, width);\n    }\n\n    data.setLayout('layoutInfo', layoutInfo);\n  });\n}\n/**\n * The layout information about themeriver\n *\n * @param {module:echarts/data/List} data  data in the series\n * @param {module:echarts/model/Series} seriesModel  the model object of themeRiver series\n * @param {number} height  value used to compute every series height\n */\n\n\nfunction themeRiverLayout(data, seriesModel, height) {\n  if (!data.count()) {\n    return;\n  }\n\n  var coordSys = seriesModel.coordinateSystem; // the data in each layer are organized into a series.\n\n  var layerSeries = seriesModel.getLayerSeries(); // the points in each layer.\n\n  var timeDim = data.mapDimension('single');\n  var valueDim = data.mapDimension('value');\n  var layerPoints = zrUtil.map(layerSeries, function (singleLayer) {\n    return zrUtil.map(singleLayer.indices, function (idx) {\n      var pt = coordSys.dataToPoint(data.get(timeDim, idx));\n      pt[1] = data.get(valueDim, idx);\n      return pt;\n    });\n  });\n  var base = computeBaseline(layerPoints);\n  var baseLine = base.y0;\n  var ky = height / base.max; // set layout information for each item.\n\n  var n = layerSeries.length;\n  var m = layerSeries[0].indices.length;\n  var baseY0;\n\n  for (var j = 0; j < m; ++j) {\n    baseY0 = baseLine[j] * ky;\n    data.setItemLayout(layerSeries[0].indices[j], {\n      layerIndex: 0,\n      x: layerPoints[0][j][0],\n      y0: baseY0,\n      y: layerPoints[0][j][1] * ky\n    });\n\n    for (var i = 1; i < n; ++i) {\n      baseY0 += layerPoints[i - 1][j][1] * ky;\n      data.setItemLayout(layerSeries[i].indices[j], {\n        layerIndex: i,\n        x: layerPoints[i][j][0],\n        y0: baseY0,\n        y: layerPoints[i][j][1] * ky\n      });\n    }\n  }\n}\n/**\n * Compute the baseLine of the rawdata\n * Inspired by Lee Byron's paper Stacked Graphs - Geometry & Aesthetics\n *\n * @param  {Array.<Array>} data  the points in each layer\n * @return {Object}\n */\n\n\nfunction computeBaseline(data) {\n  var layerNum = data.length;\n  var pointNum = data[0].length;\n  var sums = [];\n  var y0 = [];\n  var max = 0;\n  var temp;\n  var base = {};\n\n  for (var i = 0; i < pointNum; ++i) {\n    for (var j = 0, temp = 0; j < layerNum; ++j) {\n      temp += data[j][i][1];\n    }\n\n    if (temp > max) {\n      max = temp;\n    }\n\n    sums.push(temp);\n  }\n\n  for (var k = 0; k < pointNum; ++k) {\n    y0[k] = (max - sums[k]) / 2;\n  }\n\n  max = 0;\n\n  for (var l = 0; l < pointNum; ++l) {\n    var sum = sums[l] + y0[l];\n\n    if (sum > max) {\n      max = sum;\n    }\n  }\n\n  base.y0 = y0;\n  base.max = max;\n  return base;\n}\n\nmodule.exports = _default;"]}]}