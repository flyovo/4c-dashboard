{"remainingRequest":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/babel-loader/lib/index.js!/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/ts-loader/index.js??ref--14-2!/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/eslint-loader/index.js??ref--13-0!/Users/id-repair/Documents/SEOL/4c-dashboard/src/permission.ts","dependencies":[{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/src/permission.ts","mtime":1620536846074},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvaWQtcmVwYWlyL0RvY3VtZW50cy9TRU9MLzRjLWRhc2hib2FyZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKS5kZWZhdWx0OwoKcmVxdWlyZSgicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIik7Cgp2YXIgX2FzeW5jVG9HZW5lcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvaWQtcmVwYWlyL0RvY3VtZW50cy9TRU9MLzRjLWRhc2hib2FyZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yIikpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyIpOwoKdmFyIF9yb3V0ZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vcm91dGVyIikpOwoKdmFyIF9ucHJvZ3Jlc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm5wcm9ncmVzcyIpKTsKCnJlcXVpcmUoIm5wcm9ncmVzcy9ucHJvZ3Jlc3MuY3NzIik7Cgp2YXIgX2xhbmcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvbGFuZyIpKTsKCnZhciBfc2V0dGluZ3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vc2V0dGluZ3MiKSk7CgpfbnByb2dyZXNzLmRlZmF1bHQuY29uZmlndXJlKHsKICBzaG93U3Bpbm5lcjogZmFsc2UKfSk7Cgp2YXIgd2hpdGVMaXN0ID0gWycvbG9naW4nLCAnL2F1dGgtcmVkaXJlY3QnXTsKCnZhciBnZXRQYWdlVGl0bGUgPSBmdW5jdGlvbiBnZXRQYWdlVGl0bGUoa2V5KSB7CiAgdmFyIGhhc0tleSA9IF9sYW5nLmRlZmF1bHQudGUoInJvdXRlLiIuY29uY2F0KGtleSkpOwoKICBpZiAoaGFzS2V5KSB7CiAgICB2YXIgcGFnZU5hbWUgPSBfbGFuZy5kZWZhdWx0LnQoInJvdXRlLiIuY29uY2F0KGtleSkpOwoKICAgIHJldHVybiAiIi5jb25jYXQocGFnZU5hbWUsICIgLSAiKS5jb25jYXQoX3NldHRpbmdzLmRlZmF1bHQudGl0bGUpOwogIH0KCiAgcmV0dXJuICIiLmNvbmNhdChfc2V0dGluZ3MuZGVmYXVsdC50aXRsZSk7Cn07Cgpfcm91dGVyLmRlZmF1bHQuYmVmb3JlRWFjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjIuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHRvLCBfLCBuZXh0KSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9ucHJvZ3Jlc3MuZGVmYXVsdC5zdGFydCgpOwoKICAgICAgICAgICAgY29uc29sZS5sb2coJ3JvdXRlci5iZWZvcmVFYWNoJyk7CiAgICAgICAgICAgIG5leHQoKTsgLy8gaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpKSB7CiAgICAgICAgICAgIC8vICAgaWYgKHRvLnBhdGggPT09ICcvbG9naW4nKSB7CiAgICAgICAgICAgIC8vICAgICBuZXh0KHsgcGF0aDogJy8nIH0pCiAgICAgICAgICAgIC8vICAgICBOUHJvZ3Jlc3MuZG9uZSgpCiAgICAgICAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gICAgIGlmIChVc2VyU3RvcmVNb2R1bGUucm9sZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIC8vICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8vICAgICAgICAgYXdhaXQgVXNlclN0b3JlTW9kdWxlLkNoZWNrTG9naW4oe30pCiAgICAgICAgICAgIC8vICAgICAgICAgY29uc3Qgcm9sZXMgPSBVc2VyU3RvcmVNb2R1bGUucm9sZXMKICAgICAgICAgICAgLy8gICAgICAgICBQZXJtaXNzaW9uTW9kdWxlLkdlbmVyYXRlUm91dGVzKHJvbGVzKQogICAgICAgICAgICAvLyAgICAgICAgIHJvdXRlci5hZGRSb3V0ZXMoUGVybWlzc2lvbk1vZHVsZS5keW5hbWljUm91dGVzKQogICAgICAgICAgICAvLyAgICAgICAgIG5leHQoeyAuLi50bywgcmVwbGFjZTogdHJ1ZSB9KQogICAgICAgICAgICAvLyAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgLy8gICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKQogICAgICAgICAgICAvLyAgICAgICAgIE1lc3NhZ2UuZXJyb3IoZXJyIHx8ICdIYXMgRXJyb3InKQogICAgICAgICAgICAvLyAgICAgICAgIG5leHQoYC9sb2dpbj9yZWRpcmVjdD0ke3RvLnBhdGh9YCkKICAgICAgICAgICAgLy8gICAgICAgICBOUHJvZ3Jlc3MuZG9uZSgpCiAgICAgICAgICAgIC8vICAgICAgIH0KICAgICAgICAgICAgLy8gICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vICAgICAgIG5leHQoKQogICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAvLyAgIH0KICAgICAgICAgICAgLy8gfSBlbHNlIHsKICAgICAgICAgICAgLy8gICBpZiAod2hpdGVMaXN0LmluZGV4T2YodG8ucGF0aCkgIT09IC0xKSB7CiAgICAgICAgICAgIC8vICAgICBuZXh0KCkKICAgICAgICAgICAgLy8gICB9IGVsc2UgewogICAgICAgICAgICAvLyAgICAgbmV4dChgL2xvZ2luP3JlZGlyZWN0PSR7dG8ucGF0aH1gKQogICAgICAgICAgICAvLyAgICAgTlByb2dyZXNzLmRvbmUoKQogICAgICAgICAgICAvLyAgIH0KICAgICAgICAgICAgLy8gfQoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MiwgX3gzKSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7Cgpfcm91dGVyLmRlZmF1bHQuYWZ0ZXJFYWNoKGZ1bmN0aW9uICh0bykgewogIF9ucHJvZ3Jlc3MuZGVmYXVsdC5kb25lKCk7CgogIGRvY3VtZW50LnRpdGxlID0gZ2V0UGFnZVRpdGxlKHRvLm1ldGEudGl0bGUpOwp9KTs="},{"version":3,"sources":["/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/eslint-loader/index.js??ref--13-0!/Users/id-repair/Documents/SEOL/4c-dashboard/src/permission.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;;AACA;;AACA;;AAMA;;AACA;;AAEA,mBAAU,SAAV,CAAoB;AAAE,EAAA,WAAW,EAAE;AAAf,CAApB;;AAEA,IAAM,SAAS,GAAG,CAAC,QAAD,EAAW,gBAAX,CAAlB;;AAEA,IAAM,YAAY,GAAG,SAAf,YAAe,CAAC,GAAD,EAAgB;AACnC,MAAM,MAAM,GAAG,cAAK,EAAL,iBAAiB,GAAjB,EAAf;;AACA,MAAI,MAAJ,EAAY;AACV,QAAM,QAAQ,GAAG,cAAK,CAAL,iBAAgB,GAAhB,EAAjB;;AACA,qBAAU,QAAV,gBAAwB,kBAAS,KAAjC;AACD;;AACD,mBAAU,kBAAS,KAAnB;AACD,CAPD;;AASA,gBAAO,UAAP;AAAA,mFAAkB,iBAAO,EAAP,EAAkB,CAAlB,EAA4B,IAA5B;AAAA;AAAA;AAAA;AAAA;AAChB,+BAAU,KAAV;;AACA,YAAA,OAAO,CAAC,GAAR,CAAY,mBAAZ;AACA,YAAA,IAAI,GAHY,CAIhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAjCgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;;AAoCA,gBAAO,SAAP,CAAiB,UAAC,EAAD,EAAc;AAC7B,qBAAU,IAAV;;AACA,EAAA,QAAQ,CAAC,KAAT,GAAiB,YAAY,CAAC,EAAE,CAAC,IAAH,CAAQ,KAAT,CAA7B;AACD,CAHD","sourcesContent":["import router from './router'\nimport NProgress from 'nprogress'\nimport 'nprogress/nprogress.css'\nimport { Message } from 'element-ui'\nimport { Route } from 'vue-router'\nimport { UserStoreModule } from '@/store/modules/user/store'\nimport { PermissionModule } from '@/store/modules/permission/store'\n\nimport i18n from '@/lang'\nimport settings from './settings'\n\nNProgress.configure({ showSpinner: false })\n\nconst whiteList = ['/login', '/auth-redirect']\n\nconst getPageTitle = (key: string) => {\n  const hasKey = i18n.te(`route.${key}`)\n  if (hasKey) {\n    const pageName = i18n.t(`route.${key}`)\n    return `${pageName} - ${settings.title}`\n  }\n  return `${settings.title}`\n}\n\nrouter.beforeEach(async (to: Route, _: Route, next: any) => {\n  NProgress.start()\n  console.log('router.beforeEach')\n  next()\n  // if (localStorage.getItem('token')) {\n  //   if (to.path === '/login') {\n  //     next({ path: '/' })\n  //     NProgress.done()\n  //   } else {\n  //     if (UserStoreModule.roles.length === 0) {\n  //       try {\n  //         await UserStoreModule.CheckLogin({})\n  //         const roles = UserStoreModule.roles\n  //         PermissionModule.GenerateRoutes(roles)\n  //         router.addRoutes(PermissionModule.dynamicRoutes)\n  //         next({ ...to, replace: true })\n  //       } catch (err) {\n  //         localStorage.removeItem('token')\n  //         Message.error(err || 'Has Error')\n  //         next(`/login?redirect=${to.path}`)\n  //         NProgress.done()\n  //       }\n  //     } else {\n  //       next()\n  //     }\n  //   }\n  // } else {\n  //   if (whiteList.indexOf(to.path) !== -1) {\n  //     next()\n  //   } else {\n  //     next(`/login?redirect=${to.path}`)\n  //     NProgress.done()\n  //   }\n  // }\n})\n\nrouter.afterEach((to: Route) => {\n  NProgress.done()\n  document.title = getPageTitle(to.meta.title)\n})\n"],"sourceRoot":""}]}