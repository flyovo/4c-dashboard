{"remainingRequest":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/id-repair/Documents/SEOL/4c-dashboard/src/layout/components/TagsView/ScrollPane.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/src/layout/components/TagsView/ScrollPane.vue","mtime":1618208154000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCmltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcicKCmNvbnN0IHRhZ1NwYWNpbmcgPSA0CgpAQ29tcG9uZW50KHsKICBuYW1lOiAnU2Nyb2xsUGFuZScKfSkKZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBWdWUgewogIHByaXZhdGUgaGFuZGxlU2Nyb2xsKGU6IE1vdXNlV2hlZWxFdmVudCkgewogICAgY29uc3QgZXZlbnREZWx0YSA9IChlIGFzIGFueSkud2hlZWxEZWx0YSB8fCAtZS5kZWx0YVkgKiA0MAogICAgY29uc3Qgc2Nyb2xsQ29udGFpbmVyID0gdGhpcy4kcmVmcy5zY3JvbGxDb250YWluZXIgYXMgVnVlCiAgICBjb25zdCBzY3JvbGxXcmFwcGVyID0gc2Nyb2xsQ29udGFpbmVyLiRyZWZzLndyYXAgYXMgSFRNTEVsZW1lbnQKICAgIHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCA9IHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCArIGV2ZW50RGVsdGEgLyA0CiAgfQoKICBwdWJsaWMgbW92ZVRvVGFyZ2V0KGN1cnJlbnRUYWc6IEhUTUxFbGVtZW50KSB7CiAgICBjb25zdCBzY3JvbGxDb250YWluZXIgPSB0aGlzLiRyZWZzLnNjcm9sbENvbnRhaW5lciBhcyBWdWUKICAgIGNvbnN0IGNvbnRhaW5lciA9IHNjcm9sbENvbnRhaW5lci4kZWwgYXMgSFRNTEVsZW1lbnQKICAgIGNvbnN0IGNvbnRhaW5lcldpZHRoID0gY29udGFpbmVyLm9mZnNldFdpZHRoCiAgICBjb25zdCBzY3JvbGxXcmFwcGVyID0gc2Nyb2xsQ29udGFpbmVyLiRyZWZzLndyYXAgYXMgSFRNTEVsZW1lbnQKICAgIGNvbnN0IHRhZ0xpc3QgPSB0aGlzLiRwYXJlbnQuJHJlZnMudGFnIGFzIGFueVtdCgogICAgbGV0IGZpcnN0VGFnID0gbnVsbAogICAgbGV0IGxhc3RUYWcgPSBudWxsCgogICAgLy8gZmluZCBmaXJzdCB0YWcgYW5kIGxhc3QgdGFnCiAgICBpZiAodGFnTGlzdC5sZW5ndGggPiAwKSB7CiAgICAgIGZpcnN0VGFnID0gdGFnTGlzdFswXQogICAgICBsYXN0VGFnID0gdGFnTGlzdFt0YWdMaXN0Lmxlbmd0aCAtIDFdCiAgICB9CgogICAgaWYgKGZpcnN0VGFnID09PSBjdXJyZW50VGFnKSB7CiAgICAgIHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCA9IDAKICAgIH0gZWxzZSBpZiAobGFzdFRhZyA9PT0gY3VycmVudFRhZykgewogICAgICBzY3JvbGxXcmFwcGVyLnNjcm9sbExlZnQgPSBzY3JvbGxXcmFwcGVyLnNjcm9sbFdpZHRoIC0gY29udGFpbmVyV2lkdGgKICAgIH0gZWxzZSB7CiAgICAgIC8vIGZpbmQgcHJlVGFnIGFuZCBuZXh0VGFnCiAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRhZ0xpc3QuZmluZEluZGV4KGl0ZW0gPT4gaXRlbSA9PT0gY3VycmVudFRhZykKICAgICAgY29uc3QgcHJldlRhZyA9IHRhZ0xpc3RbY3VycmVudEluZGV4IC0gMV0KICAgICAgY29uc3QgbmV4dFRhZyA9IHRhZ0xpc3RbY3VycmVudEluZGV4ICsgMV0KICAgICAgLy8gdGhlIHRhZydzIG9mZnNldExlZnQgYWZ0ZXIgb2YgbmV4dFRhZwogICAgICBjb25zdCBhZnRlck5leHRUYWdPZmZzZXRMZWZ0ID0gbmV4dFRhZy4kZWwub2Zmc2V0TGVmdCArIG5leHRUYWcuJGVsLm9mZnNldFdpZHRoICsgdGFnU3BhY2luZwogICAgICAvLyB0aGUgdGFnJ3Mgb2Zmc2V0TGVmdCBiZWZvcmUgb2YgcHJldlRhZwogICAgICBjb25zdCBiZWZvcmVQcmV2VGFnT2Zmc2V0TGVmdCA9IHByZXZUYWcuJGVsLm9mZnNldExlZnQgLSB0YWdTcGFjaW5nCgogICAgICBpZiAoYWZ0ZXJOZXh0VGFnT2Zmc2V0TGVmdCA+IHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCArIGNvbnRhaW5lcldpZHRoKSB7CiAgICAgICAgc2Nyb2xsV3JhcHBlci5zY3JvbGxMZWZ0ID0gYWZ0ZXJOZXh0VGFnT2Zmc2V0TGVmdCAtIGNvbnRhaW5lcldpZHRoCiAgICAgIH0gZWxzZSBpZiAoYmVmb3JlUHJldlRhZ09mZnNldExlZnQgPCBzY3JvbGxXcmFwcGVyLnNjcm9sbExlZnQpIHsKICAgICAgICBzY3JvbGxXcmFwcGVyLnNjcm9sbExlZnQgPSBiZWZvcmVQcmV2VGFnT2Zmc2V0TGVmdAogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["ScrollPane.vue"],"names":[],"mappings":";;;;;;;AAOA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ScrollPane.vue","sourceRoot":"src/layout/components/TagsView","sourcesContent":["<template>\n  <el-scrollbar ref=\"scrollContainer\" :vertical=\"false\" class=\"scroll-container\" @wheel.native.prevent=\"handleScroll\">\n    <slot />\n  </el-scrollbar>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from 'vue-property-decorator'\n\nconst tagSpacing = 4\n\n@Component({\n  name: 'ScrollPane'\n})\nexport default class extends Vue {\n  private handleScroll(e: MouseWheelEvent) {\n    const eventDelta = (e as any).wheelDelta || -e.deltaY * 40\n    const scrollContainer = this.$refs.scrollContainer as Vue\n    const scrollWrapper = scrollContainer.$refs.wrap as HTMLElement\n    scrollWrapper.scrollLeft = scrollWrapper.scrollLeft + eventDelta / 4\n  }\n\n  public moveToTarget(currentTag: HTMLElement) {\n    const scrollContainer = this.$refs.scrollContainer as Vue\n    const container = scrollContainer.$el as HTMLElement\n    const containerWidth = container.offsetWidth\n    const scrollWrapper = scrollContainer.$refs.wrap as HTMLElement\n    const tagList = this.$parent.$refs.tag as any[]\n\n    let firstTag = null\n    let lastTag = null\n\n    // find first tag and last tag\n    if (tagList.length > 0) {\n      firstTag = tagList[0]\n      lastTag = tagList[tagList.length - 1]\n    }\n\n    if (firstTag === currentTag) {\n      scrollWrapper.scrollLeft = 0\n    } else if (lastTag === currentTag) {\n      scrollWrapper.scrollLeft = scrollWrapper.scrollWidth - containerWidth\n    } else {\n      // find preTag and nextTag\n      const currentIndex = tagList.findIndex(item => item === currentTag)\n      const prevTag = tagList[currentIndex - 1]\n      const nextTag = tagList[currentIndex + 1]\n      // the tag's offsetLeft after of nextTag\n      const afterNextTagOffsetLeft = nextTag.$el.offsetLeft + nextTag.$el.offsetWidth + tagSpacing\n      // the tag's offsetLeft before of prevTag\n      const beforePrevTagOffsetLeft = prevTag.$el.offsetLeft - tagSpacing\n\n      if (afterNextTagOffsetLeft > scrollWrapper.scrollLeft + containerWidth) {\n        scrollWrapper.scrollLeft = afterNextTagOffsetLeft - containerWidth\n      } else if (beforePrevTagOffsetLeft < scrollWrapper.scrollLeft) {\n        scrollWrapper.scrollLeft = beforePrevTagOffsetLeft\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.scroll-container {\n  .el-scrollbar__bar {\n    bottom: 0px;\n  }\n\n  .el-scrollbar__wrap {\n    height: 49px;\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.scroll-container {\n  white-space: nowrap;\n  position: relative;\n  overflow: hidden;\n  width: 100%;\n}\n</style>\n"]}]}