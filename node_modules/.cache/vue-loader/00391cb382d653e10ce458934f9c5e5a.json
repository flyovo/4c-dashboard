{"remainingRequest":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/id-repair/Documents/SEOL/4c-dashboard/src/components/Chart/PieChart.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/src/components/Chart/PieChart.vue","mtime":1620598925327},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/id-repair/Documents/SEOL/4c-dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSwgUHJvcCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InCmltcG9ydCB7IG1peGlucyB9IGZyb20gJ3Z1ZS1jbGFzcy1jb21wb25lbnQnCmltcG9ydCBlY2hhcnRzLCB7IEVDaGFydHMsIEVDaGFydE9wdGlvbiB9IGZyb20gJ2VjaGFydHMnCgpleHBvcnQgaW50ZXJmYWNlIElQaWVDaGFydCB7CiAgdGl0bGU6IE9iamVjdAogIGxlZ2VuZDogc3RyaW5nW10KICBjb2xvcnM6IHN0cmluZ1tdCiAgc2VyaWVzRGF0YTogU2VyaWVzVHlwZVtdCiAgc2VyaWVzUmFkaXVzOiBzdHJpbmcKICBzZXJpZXNNZWdUaXRsZTogc3RyaW5nCiAgc2VyaWVzUG9zaXRpb246IHN0cmluZ1tdCn0KCmV4cG9ydCBpbnRlcmZhY2UgU2VyaWVzVHlwZSB7CiAgdmFsdWU6IG51bWJlcgogIG5hbWU6IHN0cmluZwp9CgpAQ29tcG9uZW50KHsKICBuYW1lOiAnUGllQ2hhcnQnCn0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgVnVlIHsKICBAUHJvcCh7IHJlcXVpcmVkOiB0cnVlIH0pIHByaXZhdGUgY2hhcnRJdGVtcyE6IElQaWVDaGFydAogIEBQcm9wKHsgZGVmYXVsdDogJ2NoYXJ0JyB9KSBwcml2YXRlIGNsYXNzTmFtZSE6IHN0cmluZwogIEBQcm9wKHsgZGVmYXVsdDogJ2NoYXJ0JyB9KSBwcml2YXRlIGlkITogc3RyaW5nCiAgQFByb3AoeyBkZWZhdWx0OiAnMTAwJScgfSkgcHJpdmF0ZSB3aWR0aCE6IHN0cmluZwogIEBQcm9wKHsgZGVmYXVsdDogJzUwMHB4JyB9KSBwcml2YXRlIGhlaWdodCE6IHN0cmluZwogIHByaXZhdGUgY2hhcnQhOiBFQ2hhcnRzCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRQcm9jZXNzKCkKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uKCkgewogICAgICBsZXQgdm0gPSB0aGlzCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbigpIHsKICAgICAgICBpZiAodm0uY2hhcnQpIHsKICAgICAgICAgIHZtLmNoYXJ0LnJlc2l6ZSgpCiAgICAgICAgfQogICAgICB9KQogICAgfSkKICB9CgogIGJlZm9yZURlc3Ryb3koKSB7CiAgICBpZiAoIXRoaXMuY2hhcnQpIHsKICAgICAgcmV0dXJuCiAgICB9CiAgICB0aGlzLmNoYXJ0LmRpc3Bvc2UoKQogICAgdGhpcy5jaGFydCA9IG51bGwKICB9CgogIHByaXZhdGUgYXN5bmMgaW5pdFByb2Nlc3MoKSB7CiAgICB0aGlzLmNoYXJ0ID0gYXdhaXQgZWNoYXJ0cy5pbml0KHRoaXMuJGVsIGFzIEhUTUxEaXZFbGVtZW50KQogICAgYXdhaXQgdGhpcy5zZXRPcHRpb25zKHRoaXMuY2hhcnRJdGVtcykKICB9CgogIHByaXZhdGUgc2V0T3B0aW9ucyhjaGFydEl0ZW1zOiBJUGllQ2hhcnQpIHsKICAgIGlmICh0aGlzLmNoYXJ0KSB7CiAgICAgIHRoaXMuY2hhcnQuc2V0T3B0aW9uKHsKICAgICAgICB0aXRsZTogY2hhcnRJdGVtcy50aXRsZSwKICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICB0cmlnZ2VyOiAnaXRlbScsCiAgICAgICAgICBmb3JtYXR0ZXI6ICd7YX0gPGJyLz57Yn0gOiB7Y30gKHtkfSUpJwogICAgICAgIH0sCiAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICB4OiAnY2VudGVyJywKICAgICAgICAgIHk6ICdib3R0b20nLAogICAgICAgICAgaWNvbjogJ3JlY3QnLAogICAgICAgICAgLy8gaXRlbUdhcDogMzAsCiAgICAgICAgICBpdGVtV2lkdGg6IDksCiAgICAgICAgICBpdGVtSGVpZ2h0OiA5LAogICAgICAgICAgZGF0YTogY2hhcnRJdGVtcy5sZWdlbmQKICAgICAgICB9LAogICAgICAgIGNvbG9yOiBjaGFydEl0ZW1zLmNvbG9ycywKICAgICAgICBzZXJpZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogY2hhcnRJdGVtcy5zZXJpZXNNZWdUaXRsZSwKICAgICAgICAgICAgdHlwZTogJ3BpZScsCiAgICAgICAgICAgIHJhZGl1czogY2hhcnRJdGVtcy5zZXJpZXNSYWRpdXMsCiAgICAgICAgICAgIGNlbnRlcjogY2hhcnRJdGVtcy5zZXJpZXNQb3NpdGlvbiwKICAgICAgICAgICAgZGF0YTogY2hhcnRJdGVtcy5zZXJpZXNEYXRhLAogICAgICAgICAgICBlbXBoYXNpczogewogICAgICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICAgICAgc2hhZG93Qmx1cjogMTAsCiAgICAgICAgICAgICAgICBzaGFkb3dPZmZzZXRYOiAwLAogICAgICAgICAgICAgICAgc2hhZG93Q29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuNSknCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9IGFzIEVDaGFydE9wdGlvbjxFQ2hhcnRPcHRpb24uU2VyaWVzUGllPikKICAgIH0KICB9Cn0K"},{"version":3,"sources":["PieChart.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PieChart.vue","sourceRoot":"src/components/Chart","sourcesContent":["<template>\n  <div id=\"pie-chart\" class=\"pie-chart\" />\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue, Prop } from 'vue-property-decorator'\nimport { mixins } from 'vue-class-component'\nimport echarts, { ECharts, EChartOption } from 'echarts'\n\nexport interface IPieChart {\n  title: Object\n  legend: string[]\n  colors: string[]\n  seriesData: SeriesType[]\n  seriesRadius: string\n  seriesMegTitle: string\n  seriesPosition: string[]\n}\n\nexport interface SeriesType {\n  value: number\n  name: string\n}\n\n@Component({\n  name: 'PieChart'\n})\nexport default class extends Vue {\n  @Prop({ required: true }) private chartItems!: IPieChart\n  @Prop({ default: 'chart' }) private className!: string\n  @Prop({ default: 'chart' }) private id!: string\n  @Prop({ default: '100%' }) private width!: string\n  @Prop({ default: '500px' }) private height!: string\n  private chart!: ECharts\n\n  mounted() {\n    this.initProcess()\n    this.$nextTick(function() {\n      let vm = this\n      window.addEventListener('resize', function() {\n        if (vm.chart) {\n          vm.chart.resize()\n        }\n      })\n    })\n  }\n\n  beforeDestroy() {\n    if (!this.chart) {\n      return\n    }\n    this.chart.dispose()\n    this.chart = null\n  }\n\n  private async initProcess() {\n    this.chart = await echarts.init(this.$el as HTMLDivElement)\n    await this.setOptions(this.chartItems)\n  }\n\n  private setOptions(chartItems: IPieChart) {\n    if (this.chart) {\n      this.chart.setOption({\n        title: chartItems.title,\n        tooltip: {\n          trigger: 'item',\n          formatter: '{a} <br/>{b} : {c} ({d}%)'\n        },\n        legend: {\n          x: 'center',\n          y: 'bottom',\n          icon: 'rect',\n          // itemGap: 30,\n          itemWidth: 9,\n          itemHeight: 9,\n          data: chartItems.legend\n        },\n        color: chartItems.colors,\n        series: [\n          {\n            name: chartItems.seriesMegTitle,\n            type: 'pie',\n            radius: chartItems.seriesRadius,\n            center: chartItems.seriesPosition,\n            data: chartItems.seriesData,\n            emphasis: {\n              itemStyle: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n              }\n            }\n          }\n        ]\n      } as EChartOption<EChartOption.SeriesPie>)\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.pie-chart {\n  width: 100%;\n  height: 400px;\n}\n</style>\n"]}]}